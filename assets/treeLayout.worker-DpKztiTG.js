var zf=Object.defineProperty;var Bf=(P,x,R)=>x in P?zf(P,x,{enumerable:!0,configurable:!0,writable:!0,value:R}):P[x]=R;var O=(P,x,R)=>Bf(P,typeof x!="symbol"?x+"":x,R);(function(){"use strict";var P="\0",x="\0",R="";let Hr=class{constructor(t){O(this,"_isDirected",!0);O(this,"_isMultigraph",!1);O(this,"_isCompound",!1);O(this,"_label");O(this,"_defaultNodeLabelFn",()=>{});O(this,"_defaultEdgeLabelFn",()=>{});O(this,"_nodes",{});O(this,"_in",{});O(this,"_preds",{});O(this,"_out",{});O(this,"_sucs",{});O(this,"_edgeObjs",{});O(this,"_edgeLabels",{});O(this,"_nodeCount",0);O(this,"_edgeCount",0);O(this,"_parent");O(this,"_children");t&&(this._isDirected=Object.hasOwn(t,"directed")?t.directed:!0,this._isMultigraph=Object.hasOwn(t,"multigraph")?t.multigraph:!1,this._isCompound=Object.hasOwn(t,"compound")?t.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[x]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(t){return this._label=t,this}graph(){return this._label}setDefaultNodeLabel(t){return this._defaultNodeLabelFn=t,typeof t!="function"&&(this._defaultNodeLabelFn=()=>t),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var t=this;return this.nodes().filter(r=>Object.keys(t._in[r]).length===0)}sinks(){var t=this;return this.nodes().filter(r=>Object.keys(t._out[r]).length===0)}setNodes(t,r){var n=arguments,i=this;return t.forEach(function(a){n.length>1?i.setNode(a,r):i.setNode(a)}),this}setNode(t,r){return Object.hasOwn(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=r),this):(this._nodes[t]=arguments.length>1?r:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=x,this._children[t]={},this._children[x][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)}node(t){return this._nodes[t]}hasNode(t){return Object.hasOwn(this._nodes,t)}removeNode(t){var r=this;if(Object.hasOwn(this._nodes,t)){var n=i=>r.removeEdge(r._edgeObjs[i]);delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],this.children(t).forEach(function(i){r.setParent(i)}),delete this._children[t]),Object.keys(this._in[t]).forEach(n),delete this._in[t],delete this._preds[t],Object.keys(this._out[t]).forEach(n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(t,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r===void 0)r=x;else{r+="";for(var n=r;n!==void 0;n=this.parent(n))if(n===t)throw new Error("Setting "+r+" as parent of "+t+" would create a cycle");this.setNode(r)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=r,this._children[r][t]=!0,this}_removeFromParentsChildList(t){delete this._children[this._parent[t]][t]}parent(t){if(this._isCompound){var r=this._parent[t];if(r!==x)return r}}children(t=x){if(this._isCompound){var r=this._children[t];if(r)return Object.keys(r)}else{if(t===x)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var r=this._preds[t];if(r)return Object.keys(r)}successors(t){var r=this._sucs[t];if(r)return Object.keys(r)}neighbors(t){var r=this.predecessors(t);if(r){const i=new Set(r);for(var n of this.successors(t))i.add(n);return Array.from(i.values())}}isLeaf(t){var r;return this.isDirected()?r=this.successors(t):r=this.neighbors(t),r.length===0}filterNodes(t){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var n=this;Object.entries(this._nodes).forEach(function([o,s]){t(o)&&r.setNode(o,s)}),Object.values(this._edgeObjs).forEach(function(o){r.hasNode(o.v)&&r.hasNode(o.w)&&r.setEdge(o,n.edge(o))});var i={};function a(o){var s=n.parent(o);return s===void 0||r.hasNode(s)?(i[o]=s,s):s in i?i[s]:a(s)}return this._isCompound&&r.nodes().forEach(o=>r.setParent(o,a(o))),r}setDefaultEdgeLabel(t){return this._defaultEdgeLabelFn=t,typeof t!="function"&&(this._defaultEdgeLabelFn=()=>t),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(t,r){var n=this,i=arguments;return t.reduce(function(a,o){return i.length>1?n.setEdge(a,o,r):n.setEdge(a,o),o}),this}setEdge(){var t,r,n,i,a=!1,o=arguments[0];typeof o=="object"&&o!==null&&"v"in o?(t=o.v,r=o.w,n=o.name,arguments.length===2&&(i=arguments[1],a=!0)):(t=o,r=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],a=!0)),t=""+t,r=""+r,n!==void 0&&(n=""+n);var s=D(this._isDirected,t,r,n);if(Object.hasOwn(this._edgeLabels,s))return a&&(this._edgeLabels[s]=i),this;if(n!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(r),this._edgeLabels[s]=a?i:this._defaultEdgeLabelFn(t,r,n);var u=Kr(this._isDirected,t,r,n);return t=u.v,r=u.w,Object.freeze(u),this._edgeObjs[s]=u,tt(this._preds[r],t),tt(this._sucs[t],r),this._in[r][s]=u,this._out[t][s]=u,this._edgeCount++,this}edge(t,r,n){var i=arguments.length===1?ue(this._isDirected,arguments[0]):D(this._isDirected,t,r,n);return this._edgeLabels[i]}edgeAsObj(){const t=this.edge(...arguments);return typeof t!="object"?{label:t}:t}hasEdge(t,r,n){var i=arguments.length===1?ue(this._isDirected,arguments[0]):D(this._isDirected,t,r,n);return Object.hasOwn(this._edgeLabels,i)}removeEdge(t,r,n){var i=arguments.length===1?ue(this._isDirected,arguments[0]):D(this._isDirected,t,r,n),a=this._edgeObjs[i];return a&&(t=a.v,r=a.w,delete this._edgeLabels[i],delete this._edgeObjs[i],rt(this._preds[r],t),rt(this._sucs[t],r),delete this._in[r][i],delete this._out[t][i],this._edgeCount--),this}inEdges(t,r){var n=this._in[t];if(n){var i=Object.values(n);return r?i.filter(a=>a.v===r):i}}outEdges(t,r){var n=this._out[t];if(n){var i=Object.values(n);return r?i.filter(a=>a.w===r):i}}nodeEdges(t,r){var n=this.inEdges(t,r);if(n)return n.concat(this.outEdges(t,r))}};function tt(e,t){e[t]?e[t]++:e[t]=1}function rt(e,t){--e[t]||delete e[t]}function D(e,t,r,n){var i=""+t,a=""+r;if(!e&&i>a){var o=i;i=a,a=o}return i+R+a+R+(n===void 0?P:n)}function Kr(e,t,r,n){var i=""+t,a=""+r;if(!e&&i>a){var o=i;i=a,a=o}var s={v:i,w:a};return n&&(s.name=n),s}function ue(e,t){return D(e,t.v,t.w,t.name)}var le=Hr,Xr="2.2.4",Qr={Graph:le,version:Xr},Jr=le,Zr={write:en,read:nn};function en(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:tn(e),edges:rn(e)};return e.graph()!==void 0&&(t.value=structuredClone(e.graph())),t}function tn(e){return e.nodes().map(function(t){var r=e.node(t),n=e.parent(t),i={v:t};return r!==void 0&&(i.value=r),n!==void 0&&(i.parent=n),i})}function rn(e){return e.edges().map(function(t){var r=e.edge(t),n={v:t.v,w:t.w};return t.name!==void 0&&(n.name=t.name),r!==void 0&&(n.value=r),n})}function nn(e){var t=new Jr(e.options).setGraph(e.value);return e.nodes.forEach(function(r){t.setNode(r.v,r.value),r.parent&&t.setParent(r.v,r.parent)}),e.edges.forEach(function(r){t.setEdge({v:r.v,w:r.w,name:r.name},r.value)}),t}var an=on;function on(e){var t={},r=[],n;function i(a){Object.hasOwn(t,a)||(t[a]=!0,n.push(a),e.successors(a).forEach(i),e.predecessors(a).forEach(i))}return e.nodes().forEach(function(a){n=[],i(a),n.length&&r.push(n)}),r}var nt=class{constructor(){O(this,"_arr",[]);O(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(t){return t.key})}has(t){return Object.hasOwn(this._keyIndices,t)}priority(t){var r=this._keyIndices[t];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(t,r){var n=this._keyIndices;if(t=String(t),!Object.hasOwn(n,t)){var i=this._arr,a=i.length;return n[t]=a,i.push({key:t,priority:r}),this._decrease(a),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key}decrease(t,r){var n=this._keyIndices[t];if(r>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+r);this._arr[n].priority=r,this._decrease(n)}_heapify(t){var r=this._arr,n=2*t,i=n+1,a=t;n<r.length&&(a=r[n].priority<r[a].priority?n:a,i<r.length&&(a=r[i].priority<r[a].priority?i:a),a!==t&&(this._swap(t,a),this._heapify(a)))}_decrease(t){for(var r=this._arr,n=r[t].priority,i;t!==0&&(i=t>>1,!(r[i].priority<n));)this._swap(t,i),t=i}_swap(t,r){var n=this._arr,i=this._keyIndices,a=n[t],o=n[r];n[t]=o,n[r]=a,i[o.key]=t,i[a.key]=r}},sn=nt,it=ln,un=()=>1;function ln(e,t,r,n){return fn(e,String(t),r||un,n||function(i){return e.outEdges(i)})}function fn(e,t,r,n){var i={},a=new sn,o,s,u=function(l){var f=l.v!==o?l.v:l.w,d=i[f],c=r(l),h=s.distance+c;if(c<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+l+" Weight: "+c);h<d.distance&&(d.distance=h,d.predecessor=o,a.decrease(f,h))};for(e.nodes().forEach(function(l){var f=l===t?0:Number.POSITIVE_INFINITY;i[l]={distance:f},a.add(l,f)});a.size()>0&&(o=a.removeMin(),s=i[o],s.distance!==Number.POSITIVE_INFINITY);)n(o).forEach(u);return i}var dn=it,cn=hn;function hn(e,t,r){return e.nodes().reduce(function(n,i){return n[i]=dn(e,i,t,r),n},{})}var at=pn;function pn(e){var t=0,r=[],n={},i=[];function a(o){var s=n[o]={onStack:!0,lowlink:t,index:t++};if(r.push(o),e.successors(o).forEach(function(f){Object.hasOwn(n,f)?n[f].onStack&&(s.lowlink=Math.min(s.lowlink,n[f].index)):(a(f),s.lowlink=Math.min(s.lowlink,n[f].lowlink))}),s.lowlink===s.index){var u=[],l;do l=r.pop(),n[l].onStack=!1,u.push(l);while(o!==l);i.push(u)}}return e.nodes().forEach(function(o){Object.hasOwn(n,o)||a(o)}),i}var bn=at,mn=gn;function gn(e){return bn(e).filter(function(t){return t.length>1||t.length===1&&e.hasEdge(t[0],t[0])})}var vn=wn,yn=()=>1;function wn(e,t,r){return _n(e,t||yn,r||function(n){return e.outEdges(n)})}function _n(e,t,r){var n={},i=e.nodes();return i.forEach(function(a){n[a]={},n[a][a]={distance:0},i.forEach(function(o){a!==o&&(n[a][o]={distance:Number.POSITIVE_INFINITY})}),r(a).forEach(function(o){var s=o.v===a?o.w:o.v,u=t(o);n[a][s]={distance:u,predecessor:a}})}),i.forEach(function(a){var o=n[a];i.forEach(function(s){var u=n[s];i.forEach(function(l){var f=u[a],d=o[l],c=u[l],h=f.distance+d.distance;h<c.distance&&(c.distance=h,c.predecessor=d.predecessor)})})}),n}function ot(e){var t={},r={},n=[];function i(a){if(Object.hasOwn(r,a))throw new fe;Object.hasOwn(t,a)||(r[a]=!0,t[a]=!0,e.predecessors(a).forEach(i),delete r[a],n.push(a))}if(e.sinks().forEach(i),Object.keys(t).length!==e.nodeCount())throw new fe;return n}class fe extends Error{constructor(){super(...arguments)}}var st=ot;ot.CycleException=fe;var ut=st,En=On;function On(e){try{ut(e)}catch(t){if(t instanceof ut.CycleException)return!1;throw t}return!0}var lt=jn;function jn(e,t,r){Array.isArray(t)||(t=[t]);var n=e.isDirected()?s=>e.successors(s):s=>e.neighbors(s),i=r==="post"?xn:In,a=[],o={};return t.forEach(s=>{if(!e.hasNode(s))throw new Error("Graph does not have node: "+s);i(s,n,o,a)}),a}function xn(e,t,r,n){for(var i=[[e,!1]];i.length>0;){var a=i.pop();a[1]?n.push(a[0]):Object.hasOwn(r,a[0])||(r[a[0]]=!0,i.push([a[0],!0]),ft(t(a[0]),o=>i.push([o,!1])))}}function In(e,t,r,n){for(var i=[e];i.length>0;){var a=i.pop();Object.hasOwn(r,a)||(r[a]=!0,n.push(a),ft(t(a),o=>i.push(o)))}}function ft(e,t){for(var r=e.length;r--;)t(e[r],r,e);return e}var Sn=lt,$n=kn;function kn(e,t){return Sn(e,t,"post")}var Nn=lt,Tn=Cn;function Cn(e,t){return Nn(e,t,"pre")}var Pn=le,Rn=nt,An=Mn;function Mn(e,t){var r=new Pn,n={},i=new Rn,a;function o(u){var l=u.v===a?u.w:u.v,f=i.priority(l);if(f!==void 0){var d=t(u);d<f&&(n[l]=a,i.decrease(l,d))}}if(e.nodeCount()===0)return r;e.nodes().forEach(function(u){i.add(u,Number.POSITIVE_INFINITY),r.setNode(u)}),i.decrease(e.nodes()[0],0);for(var s=!1;i.size()>0;){if(a=i.removeMin(),Object.hasOwn(n,a))r.setEdge(a,n[a]);else{if(s)throw new Error("Input graph is not connected: "+e);s=!0}e.nodeEdges(a).forEach(o)}return r}var Fn={components:an,dijkstra:it,dijkstraAll:cn,findCycles:mn,floydWarshall:vn,isAcyclic:En,postorder:$n,preorder:Tn,prim:An,tarjan:at,topsort:st},dt=Qr,N={Graph:dt.Graph,json:Zr,alg:Fn,version:dt.version};let Ln=class{constructor(){let t={};t._next=t._prev=t,this._sentinel=t}dequeue(){let t=this._sentinel,r=t._prev;if(r!==t)return ct(r),r}enqueue(t){let r=this._sentinel;t._prev&&t._next&&ct(t),t._next=r._next,r._next._prev=t,r._next=t,t._prev=r}toString(){let t=[],r=this._sentinel,n=r._prev;for(;n!==r;)t.push(JSON.stringify(n,Gn)),n=n._prev;return"["+t.join(", ")+"]"}};function ct(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function Gn(e,t){if(e!=="_next"&&e!=="_prev")return t}var qn=Ln;let Dn=N.Graph,Vn=qn;var zn=Wn;let Bn=()=>1;function Wn(e,t){if(e.nodeCount()<=1)return[];let r=Yn(e,t||Bn);return Un(r.graph,r.buckets,r.zeroIdx).flatMap(i=>e.outEdges(i.v,i.w))}function Un(e,t,r){let n=[],i=t[t.length-1],a=t[0],o;for(;e.nodeCount();){for(;o=a.dequeue();)de(e,t,r,o);for(;o=i.dequeue();)de(e,t,r,o);if(e.nodeCount()){for(let s=t.length-2;s>0;--s)if(o=t[s].dequeue(),o){n=n.concat(de(e,t,r,o,!0));break}}}return n}function de(e,t,r,n,i){let a=i?[]:void 0;return e.inEdges(n.v).forEach(o=>{let s=e.edge(o),u=e.node(o.v);i&&a.push({v:o.v,w:o.w}),u.out-=s,ce(t,r,u)}),e.outEdges(n.v).forEach(o=>{let s=e.edge(o),u=o.w,l=e.node(u);l.in-=s,ce(t,r,l)}),e.removeNode(n.v),a}function Yn(e,t){let r=new Dn,n=0,i=0;e.nodes().forEach(s=>{r.setNode(s,{v:s,in:0,out:0})}),e.edges().forEach(s=>{let u=r.edge(s.v,s.w)||0,l=t(s),f=u+l;r.setEdge(s.v,s.w,f),i=Math.max(i,r.node(s.v).out+=l),n=Math.max(n,r.node(s.w).in+=l)});let a=Hn(i+n+3).map(()=>new Vn),o=n+1;return r.nodes().forEach(s=>{ce(a,o,r.node(s))}),{graph:r,buckets:a,zeroIdx:o}}function ce(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}function Hn(e){const t=[];for(let r=0;r<e;r++)t.push(r);return t}let ht=N.Graph;var _={addBorderNode:ni,addDummyNode:pt,applyWithChunking:Y,asNonCompoundGraph:Xn,buildLayerMatrix:ei,intersectRect:Zn,mapValues:fi,maxRank:mt,normalizeRanks:ti,notime:si,partition:ai,pick:li,predecessorWeights:Jn,range:vt,removeEmptyRanks:ri,simplify:Kn,successorWeights:Qn,time:oi,uniqueId:gt,zipObject:he};function pt(e,t,r,n){let i;do i=gt(n);while(e.hasNode(i));return r.dummy=t,e.setNode(i,r),i}function Kn(e){let t=new ht().setGraph(e.graph());return e.nodes().forEach(r=>t.setNode(r,e.node(r))),e.edges().forEach(r=>{let n=t.edge(r.v,r.w)||{weight:0,minlen:1},i=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),t}function Xn(e){let t=new ht({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach(r=>{e.children(r).length||t.setNode(r,e.node(r))}),e.edges().forEach(r=>{t.setEdge(r,e.edge(r))}),t}function Qn(e){let t=e.nodes().map(r=>{let n={};return e.outEdges(r).forEach(i=>{n[i.w]=(n[i.w]||0)+e.edge(i).weight}),n});return he(e.nodes(),t)}function Jn(e){let t=e.nodes().map(r=>{let n={};return e.inEdges(r).forEach(i=>{n[i.v]=(n[i.v]||0)+e.edge(i).weight}),n});return he(e.nodes(),t)}function Zn(e,t){let r=e.x,n=e.y,i=t.x-r,a=t.y-n,o=e.width/2,s=e.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");let u,l;return Math.abs(a)*o>Math.abs(i)*s?(a<0&&(s=-s),u=s*i/a,l=s):(i<0&&(o=-o),u=o,l=o*a/i),{x:r+u,y:n+l}}function ei(e){let t=vt(mt(e)+1).map(()=>[]);return e.nodes().forEach(r=>{let n=e.node(r),i=n.rank;i!==void 0&&(t[i][n.order]=r)}),t}function ti(e){let t=e.nodes().map(n=>{let i=e.node(n).rank;return i===void 0?Number.MAX_VALUE:i}),r=Y(Math.min,t);e.nodes().forEach(n=>{let i=e.node(n);Object.hasOwn(i,"rank")&&(i.rank-=r)})}function ri(e){let t=e.nodes().map(o=>e.node(o).rank),r=Y(Math.min,t),n=[];e.nodes().forEach(o=>{let s=e.node(o).rank-r;n[s]||(n[s]=[]),n[s].push(o)});let i=0,a=e.graph().nodeRankFactor;Array.from(n).forEach((o,s)=>{o===void 0&&s%a!==0?--i:o!==void 0&&i&&o.forEach(u=>e.node(u).rank+=i)})}function ni(e,t,r,n){let i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),pt(e,"border",i,t)}function ii(e,t=bt){const r=[];for(let n=0;n<e.length;n+=t){const i=e.slice(n,n+t);r.push(i)}return r}const bt=65535;function Y(e,t){if(t.length>bt){const r=ii(t);return e.apply(null,r.map(n=>e.apply(null,n)))}else return e.apply(null,t)}function mt(e){const r=e.nodes().map(n=>{let i=e.node(n).rank;return i===void 0?Number.MIN_VALUE:i});return Y(Math.max,r)}function ai(e,t){let r={lhs:[],rhs:[]};return e.forEach(n=>{t(n)?r.lhs.push(n):r.rhs.push(n)}),r}function oi(e,t){let r=Date.now();try{return t()}finally{console.log(e+" time: "+(Date.now()-r)+"ms")}}function si(e,t){return t()}let ui=0;function gt(e){var t=++ui;return toString(e)+t}function vt(e,t,r=1){t==null&&(t=e,e=0);let n=a=>a<t;r<0&&(n=a=>t<a);const i=[];for(let a=e;n(a);a+=r)i.push(a);return i}function li(e,t){const r={};for(const n of t)e[n]!==void 0&&(r[n]=e[n]);return r}function fi(e,t){let r=t;return typeof t=="string"&&(r=n=>n[t]),Object.entries(e).reduce((n,[i,a])=>(n[i]=r(a,i),n),{})}function he(e,t){return e.reduce((r,n,i)=>(r[n]=t[i],r),{})}let di=zn,ci=_.uniqueId;var hi={run:pi,undo:mi};function pi(e){(e.graph().acyclicer==="greedy"?di(e,r(e)):bi(e)).forEach(n=>{let i=e.edge(n);e.removeEdge(n),i.forwardName=n.name,i.reversed=!0,e.setEdge(n.w,n.v,i,ci("rev"))});function r(n){return i=>n.edge(i).weight}}function bi(e){let t=[],r={},n={};function i(a){Object.hasOwn(n,a)||(n[a]=!0,r[a]=!0,e.outEdges(a).forEach(o=>{Object.hasOwn(r,o.w)?t.push(o):i(o.w)}),delete r[a])}return e.nodes().forEach(i),t}function mi(e){e.edges().forEach(t=>{let r=e.edge(t);if(r.reversed){e.removeEdge(t);let n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}let gi=_;var vi={run:yi,undo:_i};function yi(e){e.graph().dummyChains=[],e.edges().forEach(t=>wi(e,t))}function wi(e,t){let r=t.v,n=e.node(r).rank,i=t.w,a=e.node(i).rank,o=t.name,s=e.edge(t),u=s.labelRank;if(a===n+1)return;e.removeEdge(t);let l,f,d;for(d=0,++n;n<a;++d,++n)s.points=[],f={width:0,height:0,edgeLabel:s,edgeObj:t,rank:n},l=gi.addDummyNode(e,"edge",f,"_d"),n===u&&(f.width=s.width,f.height=s.height,f.dummy="edge-label",f.labelpos=s.labelpos),e.setEdge(r,l,{weight:s.weight},o),d===0&&e.graph().dummyChains.push(l),r=l;e.setEdge(r,i,{weight:s.weight},o)}function _i(e){e.graph().dummyChains.forEach(t=>{let r=e.node(t),n=r.edgeLabel,i;for(e.setEdge(r.edgeObj,n);r.dummy;)i=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=i,r=e.node(t)})}const{applyWithChunking:Ei}=_;var H={longestPath:Oi,slack:ji};function Oi(e){var t={};function r(n){var i=e.node(n);if(Object.hasOwn(t,n))return i.rank;t[n]=!0;let a=e.outEdges(n).map(s=>s==null?Number.POSITIVE_INFINITY:r(s.w)-e.edge(s).minlen);var o=Ei(Math.min,a);return o===Number.POSITIVE_INFINITY&&(o=0),i.rank=o}e.sources().forEach(r)}function ji(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var xi=N.Graph,K=H.slack,yt=Ii;function Ii(e){var t=new xi({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var i,a;Si(t,e)<n;)i=$i(t,e),a=t.hasNode(i.v)?K(e,i):-K(e,i),ki(t,e,a);return t}function Si(e,t){function r(n){t.nodeEdges(n).forEach(i=>{var a=i.v,o=n===a?i.w:a;!e.hasNode(o)&&!K(t,i)&&(e.setNode(o,{}),e.setEdge(n,o,{}),r(o))})}return e.nodes().forEach(r),e.nodeCount()}function $i(e,t){return t.edges().reduce((n,i)=>{let a=Number.POSITIVE_INFINITY;return e.hasNode(i.v)!==e.hasNode(i.w)&&(a=K(t,i)),a<n[0]?[a,i]:n},[Number.POSITIVE_INFINITY,null])[1]}function ki(e,t,r){e.nodes().forEach(n=>t.node(n).rank+=r)}var Ni=yt,wt=H.slack,Ti=H.longestPath,Ci=N.alg.preorder,Pi=N.alg.postorder,Ri=_.simplify,Ai=A;A.initLowLimValues=be,A.initCutValues=pe,A.calcCutValue=_t,A.leaveEdge=Ot,A.enterEdge=jt,A.exchangeEdges=xt;function A(e){e=Ri(e),Ti(e);var t=Ni(e);be(t),pe(t,e);for(var r,n;r=Ot(t);)n=jt(t,e,r),xt(t,e,r,n)}function pe(e,t){var r=Pi(e,e.nodes());r=r.slice(0,r.length-1),r.forEach(n=>Mi(e,t,n))}function Mi(e,t,r){var n=e.node(r),i=n.parent;e.edge(r,i).cutvalue=_t(e,t,r)}function _t(e,t,r){var n=e.node(r),i=n.parent,a=!0,o=t.edge(r,i),s=0;return o||(a=!1,o=t.edge(i,r)),s=o.weight,t.nodeEdges(r).forEach(u=>{var l=u.v===r,f=l?u.w:u.v;if(f!==i){var d=l===a,c=t.edge(u).weight;if(s+=d?c:-c,Li(e,r,f)){var h=e.edge(r,f).cutvalue;s+=d?-h:h}}}),s}function be(e,t){arguments.length<2&&(t=e.nodes()[0]),Et(e,{},1,t)}function Et(e,t,r,n,i){var a=r,o=e.node(n);return t[n]=!0,e.neighbors(n).forEach(s=>{Object.hasOwn(t,s)||(r=Et(e,t,r,s,n))}),o.low=a,o.lim=r++,i?o.parent=i:delete o.parent,r}function Ot(e){return e.edges().find(t=>e.edge(t).cutvalue<0)}function jt(e,t,r){var n=r.v,i=r.w;t.hasEdge(n,i)||(n=r.w,i=r.v);var a=e.node(n),o=e.node(i),s=a,u=!1;a.lim>o.lim&&(s=o,u=!0);var l=t.edges().filter(f=>u===It(e,e.node(f.v),s)&&u!==It(e,e.node(f.w),s));return l.reduce((f,d)=>wt(t,d)<wt(t,f)?d:f)}function xt(e,t,r,n){var i=r.v,a=r.w;e.removeEdge(i,a),e.setEdge(n.v,n.w,{}),be(e),pe(e,t),Fi(e,t)}function Fi(e,t){var r=e.nodes().find(i=>!t.node(i).parent),n=Ci(e,r);n=n.slice(1),n.forEach(i=>{var a=e.node(i).parent,o=t.edge(i,a),s=!1;o||(o=t.edge(a,i),s=!0),t.node(i).rank=t.node(a).rank+(s?o.minlen:-o.minlen)})}function Li(e,t,r){return e.hasEdge(t,r)}function It(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}var Gi=H,St=Gi.longestPath,qi=yt,Di=Ai,Vi=zi;function zi(e){switch(e.graph().ranker){case"network-simplex":$t(e);break;case"tight-tree":Wi(e);break;case"longest-path":Bi(e);break;default:$t(e)}}var Bi=St;function Wi(e){St(e),qi(e)}function $t(e){Di(e)}var Ui=Yi;function Yi(e){let t=Ki(e);e.graph().dummyChains.forEach(r=>{let n=e.node(r),i=n.edgeObj,a=Hi(e,t,i.v,i.w),o=a.path,s=a.lca,u=0,l=o[u],f=!0;for(;r!==i.w;){if(n=e.node(r),f){for(;(l=o[u])!==s&&e.node(l).maxRank<n.rank;)u++;l===s&&(f=!1)}if(!f){for(;u<o.length-1&&e.node(l=o[u+1]).minRank<=n.rank;)u++;l=o[u]}e.setParent(r,l),r=e.successors(r)[0]}})}function Hi(e,t,r,n){let i=[],a=[],o=Math.min(t[r].low,t[n].low),s=Math.max(t[r].lim,t[n].lim),u,l;u=r;do u=e.parent(u),i.push(u);while(u&&(t[u].low>o||s>t[u].lim));for(l=u,u=n;(u=e.parent(u))!==l;)a.push(u);return{path:i.concat(a.reverse()),lca:l}}function Ki(e){let t={},r=0;function n(i){let a=r;e.children(i).forEach(n),t[i]={low:a,lim:r++}}return e.children().forEach(n),t}let X=_;var Xi={run:Qi,cleanup:ea};function Qi(e){let t=X.addDummyNode(e,"root",{},"_root"),r=Ji(e),n=Object.values(r),i=X.applyWithChunking(Math.max,n)-1,a=2*i+1;e.graph().nestingRoot=t,e.edges().forEach(s=>e.edge(s).minlen*=a);let o=Zi(e)+1;e.children().forEach(s=>kt(e,t,a,o,i,r,s)),e.graph().nodeRankFactor=a}function kt(e,t,r,n,i,a,o){let s=e.children(o);if(!s.length){o!==t&&e.setEdge(t,o,{weight:0,minlen:r});return}let u=X.addBorderNode(e,"_bt"),l=X.addBorderNode(e,"_bb"),f=e.node(o);e.setParent(u,o),f.borderTop=u,e.setParent(l,o),f.borderBottom=l,s.forEach(d=>{kt(e,t,r,n,i,a,d);let c=e.node(d),h=c.borderTop?c.borderTop:d,g=c.borderBottom?c.borderBottom:d,y=c.borderTop?n:2*n,m=h!==g?1:i-a[o]+1;e.setEdge(u,h,{weight:y,minlen:m,nestingEdge:!0}),e.setEdge(g,l,{weight:y,minlen:m,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,u,{weight:0,minlen:i+a[o]})}function Ji(e){var t={};function r(n,i){var a=e.children(n);a&&a.length&&a.forEach(o=>r(o,i+1)),t[n]=i}return e.children().forEach(n=>r(n,1)),t}function Zi(e){return e.edges().reduce((t,r)=>t+e.edge(r).weight,0)}function ea(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach(r=>{var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}let ta=_;var ra=na;function na(e){function t(r){let n=e.children(r),i=e.node(r);if(n.length&&n.forEach(t),Object.hasOwn(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(let a=i.minRank,o=i.maxRank+1;a<o;++a)Nt(e,"borderLeft","_bl",r,i,a),Nt(e,"borderRight","_br",r,i,a)}}e.children().forEach(t)}function Nt(e,t,r,n,i,a){let o={width:0,height:0,rank:a,borderType:t},s=i[t][a-1],u=ta.addDummyNode(e,"border",o,r);i[t][a]=u,e.setParent(u,n),s&&e.setEdge(s,u,{weight:1})}var ia={adjust:aa,undo:oa};function aa(e){let t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&Tt(e)}function oa(e){let t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&sa(e),(t==="lr"||t==="rl")&&(ua(e),Tt(e))}function Tt(e){e.nodes().forEach(t=>Ct(e.node(t))),e.edges().forEach(t=>Ct(e.edge(t)))}function Ct(e){let t=e.width;e.width=e.height,e.height=t}function sa(e){e.nodes().forEach(t=>me(e.node(t))),e.edges().forEach(t=>{let r=e.edge(t);r.points.forEach(me),Object.hasOwn(r,"y")&&me(r)})}function me(e){e.y=-e.y}function ua(e){e.nodes().forEach(t=>ge(e.node(t))),e.edges().forEach(t=>{let r=e.edge(t);r.points.forEach(ge),Object.hasOwn(r,"x")&&ge(r)})}function ge(e){let t=e.x;e.x=e.y,e.y=t}let Pt=_;var la=fa;function fa(e){let t={},r=e.nodes().filter(u=>!e.children(u).length),n=r.map(u=>e.node(u).rank),i=Pt.applyWithChunking(Math.max,n),a=Pt.range(i+1).map(()=>[]);function o(u){if(t[u])return;t[u]=!0;let l=e.node(u);a[l.rank].push(u),e.successors(u).forEach(o)}return r.sort((u,l)=>e.node(u).rank-e.node(l).rank).forEach(o),a}let da=_.zipObject;var ca=ha;function ha(e,t){let r=0;for(let n=1;n<t.length;++n)r+=pa(e,t[n-1],t[n]);return r}function pa(e,t,r){let n=da(r,r.map((l,f)=>f)),i=t.flatMap(l=>e.outEdges(l).map(f=>({pos:n[f.w],weight:e.edge(f).weight})).sort((f,d)=>f.pos-d.pos)),a=1;for(;a<r.length;)a<<=1;let o=2*a-1;a-=1;let s=new Array(o).fill(0),u=0;return i.forEach(l=>{let f=l.pos+a;s[f]+=l.weight;let d=0;for(;f>0;)f%2&&(d+=s[f+1]),f=f-1>>1,s[f]+=l.weight;u+=l.weight*d}),u}var ba=ma;function ma(e,t=[]){return t.map(r=>{let n=e.inEdges(r);if(n.length){let i=n.reduce((a,o)=>{let s=e.edge(o),u=e.node(o.v);return{sum:a.sum+s.weight*u.order,weight:a.weight+s.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}let ga=_;var va=ya;function ya(e,t){let r={};e.forEach((i,a)=>{let o=r[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:a};i.barycenter!==void 0&&(o.barycenter=i.barycenter,o.weight=i.weight)}),t.edges().forEach(i=>{let a=r[i.v],o=r[i.w];a!==void 0&&o!==void 0&&(o.indegree++,a.out.push(r[i.w]))});let n=Object.values(r).filter(i=>!i.indegree);return wa(n)}function wa(e){let t=[];function r(i){return a=>{a.merged||(a.barycenter===void 0||i.barycenter===void 0||a.barycenter>=i.barycenter)&&_a(i,a)}}function n(i){return a=>{a.in.push(i),--a.indegree===0&&e.push(a)}}for(;e.length;){let i=e.pop();t.push(i),i.in.reverse().forEach(r(i)),i.out.forEach(n(i))}return t.filter(i=>!i.merged).map(i=>ga.pick(i,["vs","i","barycenter","weight"]))}function _a(e,t){let r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}let Ea=_;var Oa=ja;function ja(e,t){let r=Ea.partition(e,f=>Object.hasOwn(f,"barycenter")),n=r.lhs,i=r.rhs.sort((f,d)=>d.i-f.i),a=[],o=0,s=0,u=0;n.sort(xa(!!t)),u=Rt(a,i,u),n.forEach(f=>{u+=f.vs.length,a.push(f.vs),o+=f.barycenter*f.weight,s+=f.weight,u=Rt(a,i,u)});let l={vs:a.flat(!0)};return s&&(l.barycenter=o/s,l.weight=s),l}function Rt(e,t,r){let n;for(;t.length&&(n=t[t.length-1]).i<=r;)t.pop(),e.push(n.vs),r++;return r}function xa(e){return(t,r)=>t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}let Ia=ba,Sa=va,$a=Oa;var ka=At;function At(e,t,r,n){let i=e.children(t),a=e.node(t),o=a?a.borderLeft:void 0,s=a?a.borderRight:void 0,u={};o&&(i=i.filter(c=>c!==o&&c!==s));let l=Ia(e,i);l.forEach(c=>{if(e.children(c.v).length){let h=At(e,c.v,r,n);u[c.v]=h,Object.hasOwn(h,"barycenter")&&Ta(c,h)}});let f=Sa(l,r);Na(f,u);let d=$a(f,n);if(o&&(d.vs=[o,d.vs,s].flat(!0),e.predecessors(o).length)){let c=e.node(e.predecessors(o)[0]),h=e.node(e.predecessors(s)[0]);Object.hasOwn(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+c.order+h.order)/(d.weight+2),d.weight+=2}return d}function Na(e,t){e.forEach(r=>{r.vs=r.vs.flatMap(n=>t[n]?t[n].vs:n)})}function Ta(e,t){e.barycenter!==void 0?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight)}let Ca=N.Graph,Pa=_;var Ra=Aa;function Aa(e,t,r){let n=Ma(e),i=new Ca({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(a=>e.node(a));return e.nodes().forEach(a=>{let o=e.node(a),s=e.parent(a);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(i.setNode(a),i.setParent(a,s||n),e[r](a).forEach(u=>{let l=u.v===a?u.w:u.v,f=i.edge(l,a),d=f!==void 0?f.weight:0;i.setEdge(l,a,{weight:e.edge(u).weight+d})}),Object.hasOwn(o,"minRank")&&i.setNode(a,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),i}function Ma(e){for(var t;e.hasNode(t=Pa.uniqueId("_root")););return t}var Fa=La;function La(e,t,r){let n={},i;r.forEach(a=>{let o=e.parent(a),s,u;for(;o;){if(s=e.parent(o),s?(u=n[s],n[s]=o):(u=i,i=o),u&&u!==o){t.setEdge(u,o);return}o=s}})}let Ga=la,qa=ca,Da=ka,Va=Ra,za=Fa,Ba=N.Graph,Q=_;var Wa=Mt;function Mt(e,t){if(t&&typeof t.customOrder=="function"){t.customOrder(e,Mt);return}let r=Q.maxRank(e),n=Ft(e,Q.range(1,r+1),"inEdges"),i=Ft(e,Q.range(r-1,-1,-1),"outEdges"),a=Ga(e);if(Lt(e,a),t&&t.disableOptimalOrderHeuristic)return;let o=Number.POSITIVE_INFINITY,s;for(let u=0,l=0;l<4;++u,++l){Ua(u%2?n:i,u%4>=2),a=Q.buildLayerMatrix(e);let f=qa(e,a);f<o&&(l=0,s=Object.assign({},a),o=f)}Lt(e,s)}function Ft(e,t,r){return t.map(function(n){return Va(e,n,r)})}function Ua(e,t){let r=new Ba;e.forEach(function(n){let i=n.graph().root,a=Da(n,i,r,t);a.vs.forEach((o,s)=>n.node(o).order=s),za(n,r,a.vs)})}function Lt(e,t){Object.values(t).forEach(r=>r.forEach((n,i)=>e.node(n).order=i))}let Ya=N.Graph,T=_;var Ha={positionX:ao};function Ka(e,t){let r={};function n(i,a){let o=0,s=0,u=i.length,l=a[a.length-1];return a.forEach((f,d)=>{let c=Qa(e,f),h=c?e.node(c).order:u;(c||f===l)&&(a.slice(s,d+1).forEach(g=>{e.predecessors(g).forEach(y=>{let m=e.node(y),k=m.order;(k<o||h<k)&&!(m.dummy&&e.node(g).dummy)&&Gt(r,y,g)})}),s=d+1,o=h)}),a}return t.length&&t.reduce(n),r}function Xa(e,t){let r={};function n(a,o,s,u,l){let f;T.range(o,s).forEach(d=>{f=a[d],e.node(f).dummy&&e.predecessors(f).forEach(c=>{let h=e.node(c);h.dummy&&(h.order<u||h.order>l)&&Gt(r,c,f)})})}function i(a,o){let s=-1,u,l=0;return o.forEach((f,d)=>{if(e.node(f).dummy==="border"){let c=e.predecessors(f);c.length&&(u=e.node(c[0]).order,n(o,l,d,s,u),l=d,s=u)}n(o,l,o.length,u,a.length)}),o}return t.length&&t.reduce(i),r}function Qa(e,t){if(e.node(t).dummy)return e.predecessors(t).find(r=>e.node(r).dummy)}function Gt(e,t,r){if(t>r){let i=t;t=r,r=i}let n=e[t];n||(e[t]=n={}),n[r]=!0}function Ja(e,t,r){if(t>r){let n=t;t=r,r=n}return!!e[t]&&Object.hasOwn(e[t],r)}function Za(e,t,r,n){let i={},a={},o={};return t.forEach(s=>{s.forEach((u,l)=>{i[u]=u,a[u]=u,o[u]=l})}),t.forEach(s=>{let u=-1;s.forEach(l=>{let f=n(l);if(f.length){f=f.sort((c,h)=>o[c]-o[h]);let d=(f.length-1)/2;for(let c=Math.floor(d),h=Math.ceil(d);c<=h;++c){let g=f[c];a[l]===l&&u<o[g]&&!Ja(r,l,g)&&(a[g]=l,a[l]=i[l]=i[g],u=o[g])}}})}),{root:i,align:a}}function eo(e,t,r,n,i){let a={},o=to(e,t,r,i),s=i?"borderLeft":"borderRight";function u(d,c){let h=o.nodes(),g=h.pop(),y={};for(;g;)y[g]?d(g):(y[g]=!0,h.push(g),h=h.concat(c(g))),g=h.pop()}function l(d){a[d]=o.inEdges(d).reduce((c,h)=>Math.max(c,a[h.v]+o.edge(h)),0)}function f(d){let c=o.outEdges(d).reduce((g,y)=>Math.min(g,a[y.w]-o.edge(y)),Number.POSITIVE_INFINITY),h=e.node(d);c!==Number.POSITIVE_INFINITY&&h.borderType!==s&&(a[d]=Math.max(a[d],c))}return u(l,o.predecessors.bind(o)),u(f,o.successors.bind(o)),Object.keys(n).forEach(d=>a[d]=a[r[d]]),a}function to(e,t,r,n){let i=new Ya,a=e.graph(),o=oo(a.nodesep,a.edgesep,n);return t.forEach(s=>{let u;s.forEach(l=>{let f=r[l];if(i.setNode(f),u){var d=r[u],c=i.edge(d,f);i.setEdge(d,f,Math.max(o(e,l,u),c||0))}u=l})}),i}function ro(e,t){return Object.values(t).reduce((r,n)=>{let i=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;Object.entries(n).forEach(([s,u])=>{let l=so(e,s)/2;i=Math.max(u+l,i),a=Math.min(u-l,a)});const o=i-a;return o<r[0]&&(r=[o,n]),r},[Number.POSITIVE_INFINITY,null])[1]}function no(e,t){let r=Object.values(t),n=T.applyWithChunking(Math.min,r),i=T.applyWithChunking(Math.max,r);["u","d"].forEach(a=>{["l","r"].forEach(o=>{let s=a+o,u=e[s];if(u===t)return;let l=Object.values(u),f=n-T.applyWithChunking(Math.min,l);o!=="l"&&(f=i-T.applyWithChunking(Math.max,l)),f&&(e[s]=T.mapValues(u,d=>d+f))})})}function io(e,t){return T.mapValues(e.ul,(r,n)=>{if(t)return e[t.toLowerCase()][n];{let i=Object.values(e).map(a=>a[n]).sort((a,o)=>a-o);return(i[1]+i[2])/2}})}function ao(e){let t=T.buildLayerMatrix(e),r=Object.assign(Ka(e,t),Xa(e,t)),n={},i;["u","d"].forEach(o=>{i=o==="u"?t:Object.values(t).reverse(),["l","r"].forEach(s=>{s==="r"&&(i=i.map(d=>Object.values(d).reverse()));let u=(o==="u"?e.predecessors:e.successors).bind(e),l=Za(e,i,r,u),f=eo(e,i,l.root,l.align,s==="r");s==="r"&&(f=T.mapValues(f,d=>-d)),n[o+s]=f})});let a=ro(e,n);return no(n,a),io(n,e.graph().align)}function oo(e,t,r){return(n,i,a)=>{let o=n.node(i),s=n.node(a),u=0,l;if(u+=o.width/2,Object.hasOwn(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":l=-o.width/2;break;case"r":l=o.width/2;break}if(l&&(u+=r?l:-l),l=0,u+=(o.dummy?t:e)/2,u+=(s.dummy?t:e)/2,u+=s.width/2,Object.hasOwn(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":l=s.width/2;break;case"r":l=-s.width/2;break}return l&&(u+=r?l:-l),l=0,u}}function so(e,t){return e.node(t).width}let qt=_,uo=Ha.positionX;var lo=fo;function fo(e){e=qt.asNonCompoundGraph(e),co(e),Object.entries(uo(e)).forEach(([t,r])=>e.node(t).x=r)}function co(e){let t=qt.buildLayerMatrix(e),r=e.graph().ranksep,n=0;t.forEach(i=>{const a=i.reduce((o,s)=>{const u=e.node(s).height;return o>u?o:u},0);i.forEach(o=>e.node(o).y=n+a/2),n+=a+r})}let Dt=hi,Vt=vi,ho=Vi,po=_.normalizeRanks,bo=Ui,mo=_.removeEmptyRanks,zt=Xi,go=ra,Bt=ia,vo=Wa,yo=lo,$=_,wo=N.Graph;var _o=Eo;function Eo(e,t){let r=t&&t.debugTiming?$.time:$.notime;r("layout",()=>{let n=r("  buildLayoutGraph",()=>Co(e));r("  runLayout",()=>Oo(n,r,t)),r("  updateInputGraph",()=>jo(e,n))})}function Oo(e,t,r){t("    makeSpaceForEdgeLabels",()=>Po(e)),t("    removeSelfEdges",()=>Vo(e)),t("    acyclic",()=>Dt.run(e)),t("    nestingGraph.run",()=>zt.run(e)),t("    rank",()=>ho($.asNonCompoundGraph(e))),t("    injectEdgeLabelProxies",()=>Ro(e)),t("    removeEmptyRanks",()=>mo(e)),t("    nestingGraph.cleanup",()=>zt.cleanup(e)),t("    normalizeRanks",()=>po(e)),t("    assignRankMinMax",()=>Ao(e)),t("    removeEdgeLabelProxies",()=>Mo(e)),t("    normalize.run",()=>Vt.run(e)),t("    parentDummyChains",()=>bo(e)),t("    addBorderSegments",()=>go(e)),t("    order",()=>vo(e,r)),t("    insertSelfEdges",()=>zo(e)),t("    adjustCoordinateSystem",()=>Bt.adjust(e)),t("    position",()=>yo(e)),t("    positionSelfEdges",()=>Bo(e)),t("    removeBorderNodes",()=>Do(e)),t("    normalize.undo",()=>Vt.undo(e)),t("    fixupEdgeLabelCoords",()=>Go(e)),t("    undoCoordinateSystem",()=>Bt.undo(e)),t("    translateGraph",()=>Fo(e)),t("    assignNodeIntersects",()=>Lo(e)),t("    reversePoints",()=>qo(e)),t("    acyclic.undo",()=>Dt.undo(e))}function jo(e,t){e.nodes().forEach(r=>{let n=e.node(r),i=t.node(r);n&&(n.x=i.x,n.y=i.y,n.rank=i.rank,t.children(r).length&&(n.width=i.width,n.height=i.height))}),e.edges().forEach(r=>{let n=e.edge(r),i=t.edge(r);n.points=i.points,Object.hasOwn(i,"x")&&(n.x=i.x,n.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}let xo=["nodesep","edgesep","ranksep","marginx","marginy"],Io={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},So=["acyclicer","ranker","rankdir","align"],$o=["width","height"],Wt={width:0,height:0},ko=["minlen","weight","width","height","labeloffset"],No={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},To=["labelpos"];function Co(e){let t=new wo({multigraph:!0,compound:!0}),r=ye(e.graph());return t.setGraph(Object.assign({},Io,ve(r,xo),$.pick(r,So))),e.nodes().forEach(n=>{let i=ye(e.node(n));const a=ve(i,$o);Object.keys(Wt).forEach(o=>{a[o]===void 0&&(a[o]=Wt[o])}),t.setNode(n,a),t.setParent(n,e.parent(n))}),e.edges().forEach(n=>{let i=ye(e.edge(n));t.setEdge(n,Object.assign({},No,ve(i,ko),$.pick(i,To)))}),t}function Po(e){let t=e.graph();t.ranksep/=2,e.edges().forEach(r=>{let n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function Ro(e){e.edges().forEach(t=>{let r=e.edge(t);if(r.width&&r.height){let n=e.node(t.v),a={rank:(e.node(t.w).rank-n.rank)/2+n.rank,e:t};$.addDummyNode(e,"edge-proxy",a,"_ep")}})}function Ao(e){let t=0;e.nodes().forEach(r=>{let n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=Math.max(t,n.maxRank))}),e.graph().maxRank=t}function Mo(e){e.nodes().forEach(t=>{let r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function Fo(e){let t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,a=e.graph(),o=a.marginx||0,s=a.marginy||0;function u(l){let f=l.x,d=l.y,c=l.width,h=l.height;t=Math.min(t,f-c/2),r=Math.max(r,f+c/2),n=Math.min(n,d-h/2),i=Math.max(i,d+h/2)}e.nodes().forEach(l=>u(e.node(l))),e.edges().forEach(l=>{let f=e.edge(l);Object.hasOwn(f,"x")&&u(f)}),t-=o,n-=s,e.nodes().forEach(l=>{let f=e.node(l);f.x-=t,f.y-=n}),e.edges().forEach(l=>{let f=e.edge(l);f.points.forEach(d=>{d.x-=t,d.y-=n}),Object.hasOwn(f,"x")&&(f.x-=t),Object.hasOwn(f,"y")&&(f.y-=n)}),a.width=r-t+o,a.height=i-n+s}function Lo(e){e.edges().forEach(t=>{let r=e.edge(t),n=e.node(t.v),i=e.node(t.w),a,o;r.points?(a=r.points[0],o=r.points[r.points.length-1]):(r.points=[],a=i,o=n),r.points.unshift($.intersectRect(n,a)),r.points.push($.intersectRect(i,o))})}function Go(e){e.edges().forEach(t=>{let r=e.edge(t);if(Object.hasOwn(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function qo(e){e.edges().forEach(t=>{let r=e.edge(t);r.reversed&&r.points.reverse()})}function Do(e){e.nodes().forEach(t=>{if(e.children(t).length){let r=e.node(t),n=e.node(r.borderTop),i=e.node(r.borderBottom),a=e.node(r.borderLeft[r.borderLeft.length-1]),o=e.node(r.borderRight[r.borderRight.length-1]);r.width=Math.abs(o.x-a.x),r.height=Math.abs(i.y-n.y),r.x=a.x+r.width/2,r.y=n.y+r.height/2}}),e.nodes().forEach(t=>{e.node(t).dummy==="border"&&e.removeNode(t)})}function Vo(e){e.edges().forEach(t=>{if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function zo(e){var t=$.buildLayerMatrix(e);t.forEach(r=>{var n=0;r.forEach((i,a)=>{var o=e.node(i);o.order=a+n,(o.selfEdges||[]).forEach(s=>{$.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:o.rank,order:a+ ++n,e:s.e,label:s.label},"_se")}),delete o.selfEdges})})}function Bo(e){e.nodes().forEach(t=>{var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),i=n.x+n.width/2,a=n.y,o=r.x-i,s=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:i+2*o/3,y:a-s},{x:i+5*o/6,y:a-s},{x:i+o,y:a},{x:i+5*o/6,y:a+s},{x:i+2*o/3,y:a+s}],r.label.x=r.x,r.label.y=r.y}})}function ve(e,t){return $.mapValues($.pick(e,t),Number)}function ye(e){var t={};return e&&Object.entries(e).forEach(([r,n])=>{typeof r=="string"&&(r=r.toLowerCase()),t[r]=n}),t}let Wo=_,Uo=N.Graph;var Yo={debugOrdering:Ho};function Ho(e){let t=Wo.buildLayerMatrix(e),r=new Uo({compound:!0,multigraph:!0}).setGraph({});return e.nodes().forEach(n=>{r.setNode(n,{label:n}),r.setParent(n,"layer"+e.node(n).rank)}),e.edges().forEach(n=>r.setEdge(n.v,n.w,{},n.name)),t.forEach((n,i)=>{let a="layer"+i;r.setNode(a,{rank:"same"}),n.reduce((o,s)=>(r.setEdge(o,s,{style:"invis"}),s))}),r}var Ko="1.1.4",Ut={graphlib:N,layout:_o,debug:Yo,util:{time:_.time,notime:_.notime},version:Ko},Yt=typeof global=="object"&&global&&global.Object===Object&&global,Xo=typeof self=="object"&&self&&self.Object===Object&&self,J=Yt||Xo||Function("return this")(),C=J.Symbol,Ht=Object.prototype,Qo=Ht.hasOwnProperty,Jo=Ht.toString,V=C?C.toStringTag:void 0;function Zo(e){var t=Qo.call(e,V),r=e[V];try{e[V]=void 0;var n=!0}catch{}var i=Jo.call(e);return n&&(t?e[V]=r:delete e[V]),i}var es=Object.prototype,ts=es.toString;function rs(e){return ts.call(e)}var ns="[object Null]",is="[object Undefined]",Kt=C?C.toStringTag:void 0;function Z(e){return e==null?e===void 0?is:ns:Kt&&Kt in Object(e)?Zo(e):rs(e)}function ee(e){return e!=null&&typeof e=="object"}var as="[object Symbol]";function we(e){return typeof e=="symbol"||ee(e)&&Z(e)==as}function os(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var M=Array.isArray,Xt=C?C.prototype:void 0,Qt=Xt?Xt.toString:void 0;function Jt(e){if(typeof e=="string")return e;if(M(e))return os(e,Jt)+"";if(we(e))return Qt?Qt.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function te(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Zt(e){return e}var ss="[object AsyncFunction]",us="[object Function]",ls="[object GeneratorFunction]",fs="[object Proxy]";function er(e){if(!te(e))return!1;var t=Z(e);return t==us||t==ls||t==ss||t==fs}var _e=J["__core-js_shared__"],tr=function(){var e=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ds(e){return!!tr&&tr in e}var cs=Function.prototype,hs=cs.toString;function ps(e){if(e!=null){try{return hs.call(e)}catch{}try{return e+""}catch{}}return""}var bs=/[\\^$.*+?()[\]{}|]/g,ms=/^\[object .+?Constructor\]$/,gs=Function.prototype,vs=Object.prototype,ys=gs.toString,ws=vs.hasOwnProperty,_s=RegExp("^"+ys.call(ws).replace(bs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Es(e){if(!te(e)||ds(e))return!1;var t=er(e)?_s:ms;return t.test(ps(e))}function Os(e,t){return e==null?void 0:e[t]}function Ee(e,t){var r=Os(e,t);return Es(r)?r:void 0}function js(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var xs=800,Is=16,Ss=Date.now;function $s(e){var t=0,r=0;return function(){var n=Ss(),i=Is-(n-r);if(r=n,i>0){if(++t>=xs)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function ks(e){return function(){return e}}var re=function(){try{var e=Ee(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ns=re?function(e,t){return re(e,"toString",{configurable:!0,enumerable:!1,value:ks(t),writable:!0})}:Zt,Ts=$s(Ns);function Cs(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Ps=9007199254740991,Rs=/^(?:0|[1-9]\d*)$/;function Oe(e,t){var r=typeof e;return t=t??Ps,!!t&&(r=="number"||r!="symbol"&&Rs.test(e))&&e>-1&&e%1==0&&e<t}function As(e,t,r){t=="__proto__"&&re?re(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function rr(e,t){return e===t||e!==e&&t!==t}var Ms=Object.prototype,Fs=Ms.hasOwnProperty;function Ls(e,t,r){var n=e[t];(!(Fs.call(e,t)&&rr(n,r))||r===void 0&&!(t in e))&&As(e,t,r)}var nr=Math.max;function Gs(e,t,r){return t=nr(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=nr(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),js(e,this,s)}}var qs=9007199254740991;function je(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=qs}function ir(e){return e!=null&&je(e.length)&&!er(e)}var Ds=Object.prototype;function Vs(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ds;return e===r}function zs(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Bs="[object Arguments]";function ar(e){return ee(e)&&Z(e)==Bs}var or=Object.prototype,Ws=or.hasOwnProperty,Us=or.propertyIsEnumerable,xe=ar(function(){return arguments}())?ar:function(e){return ee(e)&&Ws.call(e,"callee")&&!Us.call(e,"callee")};function Ys(){return!1}var sr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ur=sr&&typeof module=="object"&&module&&!module.nodeType&&module,Hs=ur&&ur.exports===sr,lr=Hs?J.Buffer:void 0,Ks=lr?lr.isBuffer:void 0,Xs=Ks||Ys,Qs="[object Arguments]",Js="[object Array]",Zs="[object Boolean]",eu="[object Date]",tu="[object Error]",ru="[object Function]",nu="[object Map]",iu="[object Number]",au="[object Object]",ou="[object RegExp]",su="[object Set]",uu="[object String]",lu="[object WeakMap]",fu="[object ArrayBuffer]",du="[object DataView]",cu="[object Float32Array]",hu="[object Float64Array]",pu="[object Int8Array]",bu="[object Int16Array]",mu="[object Int32Array]",gu="[object Uint8Array]",vu="[object Uint8ClampedArray]",yu="[object Uint16Array]",wu="[object Uint32Array]",w={};w[cu]=w[hu]=w[pu]=w[bu]=w[mu]=w[gu]=w[vu]=w[yu]=w[wu]=!0,w[Qs]=w[Js]=w[fu]=w[Zs]=w[du]=w[eu]=w[tu]=w[ru]=w[nu]=w[iu]=w[au]=w[ou]=w[su]=w[uu]=w[lu]=!1;function _u(e){return ee(e)&&je(e.length)&&!!w[Z(e)]}function Eu(e){return function(t){return e(t)}}var fr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,z=fr&&typeof module=="object"&&module&&!module.nodeType&&module,Ou=z&&z.exports===fr,Ie=Ou&&Yt.process,dr=function(){try{var e=z&&z.require&&z.require("util").types;return e||Ie&&Ie.binding&&Ie.binding("util")}catch{}}(),cr=dr&&dr.isTypedArray,ju=cr?Eu(cr):_u,xu=Object.prototype,Iu=xu.hasOwnProperty;function Su(e,t){var r=M(e),n=!r&&xe(e),i=!r&&!n&&Xs(e),a=!r&&!n&&!i&&ju(e),o=r||n||i||a,s=o?zs(e.length,String):[],u=s.length;for(var l in e)Iu.call(e,l)&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Oe(l,u)))&&s.push(l);return s}function $u(e,t){return function(r){return e(t(r))}}var ku=$u(Object.keys,Object),Nu=Object.prototype,Tu=Nu.hasOwnProperty;function Cu(e){if(!Vs(e))return ku(e);var t=[];for(var r in Object(e))Tu.call(e,r)&&r!="constructor"&&t.push(r);return t}function Pu(e){return ir(e)?Su(e):Cu(e)}var Ru=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Au=/^\w*$/;function Mu(e,t){if(M(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||we(e)?!0:Au.test(e)||!Ru.test(e)||t!=null&&e in Object(t)}var B=Ee(Object,"create");function Fu(){this.__data__=B?B(null):{},this.size=0}function Lu(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Gu="__lodash_hash_undefined__",qu=Object.prototype,Du=qu.hasOwnProperty;function Vu(e){var t=this.__data__;if(B){var r=t[e];return r===Gu?void 0:r}return Du.call(t,e)?t[e]:void 0}var zu=Object.prototype,Bu=zu.hasOwnProperty;function Wu(e){var t=this.__data__;return B?t[e]!==void 0:Bu.call(t,e)}var Uu="__lodash_hash_undefined__";function Yu(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=B&&t===void 0?Uu:t,this}function F(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}F.prototype.clear=Fu,F.prototype.delete=Lu,F.prototype.get=Vu,F.prototype.has=Wu,F.prototype.set=Yu;function Hu(){this.__data__=[],this.size=0}function ne(e,t){for(var r=e.length;r--;)if(rr(e[r][0],t))return r;return-1}var Ku=Array.prototype,Xu=Ku.splice;function Qu(e){var t=this.__data__,r=ne(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Xu.call(t,r,1),--this.size,!0}function Ju(e){var t=this.__data__,r=ne(t,e);return r<0?void 0:t[r][1]}function Zu(e){return ne(this.__data__,e)>-1}function el(e,t){var r=this.__data__,n=ne(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function G(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}G.prototype.clear=Hu,G.prototype.delete=Qu,G.prototype.get=Ju,G.prototype.has=Zu,G.prototype.set=el;var tl=Ee(J,"Map");function rl(){this.size=0,this.__data__={hash:new F,map:new(tl||G),string:new F}}function nl(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ie(e,t){var r=e.__data__;return nl(t)?r[typeof t=="string"?"string":"hash"]:r.map}function il(e){var t=ie(this,e).delete(e);return this.size-=t?1:0,t}function al(e){return ie(this,e).get(e)}function ol(e){return ie(this,e).has(e)}function sl(e,t){var r=ie(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function L(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}L.prototype.clear=rl,L.prototype.delete=il,L.prototype.get=al,L.prototype.has=ol,L.prototype.set=sl;var ul="Expected a function";function Se(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ul);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Se.Cache||L),r}Se.Cache=L;var ll=500;function fl(e){var t=Se(e,function(n){return r.size===ll&&r.clear(),n}),r=t.cache;return t}var dl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cl=/\\(\\)?/g,hl=fl(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(dl,function(r,n,i,a){t.push(i?a.replace(cl,"$1"):n||r)}),t});function pl(e){return e==null?"":Jt(e)}function ae(e,t){return M(e)?e:Mu(e,t)?[e]:hl(pl(e))}function $e(e){if(typeof e=="string"||we(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function bl(e,t){t=ae(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[$e(t[r++])];return r&&r==n?e:void 0}function ml(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var hr=C?C.isConcatSpreadable:void 0;function gl(e){return M(e)||xe(e)||!!(hr&&e&&e[hr])}function vl(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=gl),i||(i=[]);++a<o;){var s=e[a];r(s)?ml(i,s):i[i.length]=s}return i}function yl(e){var t=e==null?0:e.length;return t?vl(e):[]}function wl(e){return Ts(Gs(e,void 0,yl),e+"")}function _l(e,t){return e!=null&&t in Object(e)}function El(e,t,r){t=ae(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var o=$e(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&je(i)&&Oe(o,i)&&(M(e)||xe(e)))}function Ol(e,t){return e!=null&&El(e,t,_l)}function jl(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var u=o[++i];if(r(a[u],u,a)===!1)break}return t}}var xl=jl();function Il(e,t){return e&&xl(e,t,Pu)}function Sl(e,t){return function(r,n){if(r==null)return r;if(!ir(r))return e(r,n);for(var i=r.length,a=-1,o=Object(r);++a<i&&n(o[a],a,o)!==!1;);return r}}var $l=Sl(Il);function kl(e){return typeof e=="function"?e:Zt}function ke(e,t){var r=M(e)?Cs:$l;return r(e,kl(t))}function Nl(e,t,r,n){if(!te(e))return e;t=ae(t,e);for(var i=-1,a=t.length,o=a-1,s=e;s!=null&&++i<a;){var u=$e(t[i]),l=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(i!=o){var f=s[u];l=void 0,l===void 0&&(l=te(f)?f:Oe(t[i+1])?[]:{})}Ls(s,u,l),s=s[u]}return e}function Tl(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],s=bl(e,o);r(s,o)&&Nl(a,ae(o,e),s)}return a}function Cl(e,t){return Tl(e,t,function(r,n){return Ol(e,n)})}var Pl=wl(function(e,t){return e==null?{}:Cl(e,t)}),Rl=function(){},Al=Rl(),q=function(e){return e!==Al&&e!==null},Ml=q,Fl=Array.prototype.forEach,Ll=Object.create,Gl=function(e,t){var r;for(r in e)t[r]=e[r]},ql=function(e){var t=Ll(null);return Fl.call(arguments,function(r){Ml(r)&&Gl(Object(r),t)}),t},Dl=function(){var e=Math.sign;return typeof e!="function"?!1:e(10)===1&&e(-20)===-1},Ne,pr;function Vl(){return pr||(pr=1,Ne=function(e){return e=Number(e),isNaN(e)||e===0?e:e>0?1:-1}),Ne}var zl=Dl()?Math.sign:Vl(),Bl=zl,Wl=Math.abs,Ul=Math.floor,Yl=function(e){return isNaN(e)?0:(e=Number(e),e===0||!isFinite(e)?e:Bl(e)*Ul(Wl(e)))},Hl=Yl,Kl=Math.max,Xl=function(e){return Kl(0,Hl(e))},br=function(e){if(typeof e!="function")throw new TypeError(e+" is not a function");return e},Ql=q,mr=function(e){if(!Ql(e))throw new TypeError("Cannot use null or undefined");return e},Jl={exports:{}},Zl=function(){var e=Object.assign,t;return typeof e!="function"?!1:(t={foo:"raz"},e(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")},Te,gr;function ef(){return gr||(gr=1,Te=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),Te}var Ce,vr;function tf(){if(vr)return Ce;vr=1;var e=q,t=Object.keys;return Ce=function(r){return t(e(r)?Object(r):r)},Ce}var Pe,yr;function rf(){return yr||(yr=1,Pe=ef()()?Object.keys:tf()),Pe}var Re,wr;function nf(){if(wr)return Re;wr=1;var e=rf(),t=mr,r=Math.max;return Re=function(n,i){var a,o,s=r(arguments.length,2),u;for(n=Object(t(n)),u=function(l){try{n[l]=i[l]}catch(f){a||(a=f)}},o=1;o<s;++o)i=arguments[o],e(i).forEach(u);if(a!==void 0)throw a;return n},Re}var _r=Zl()?Object.assign:nf(),af=q,of={function:!0,object:!0},sf=function(e){return af(e)&&of[typeof e]||!1};(function(e){var t=_r,r=sf,n=q,i=Error.captureStackTrace;e.exports=function(a){var o=new Error(a),s=arguments[1],u=arguments[2];return n(u)||r(s)&&(u=s,s=null),n(u)&&t(o,u),n(s)&&(o.code=s),i&&i(o,e.exports),o}})(Jl);var Er=function(e,t){return t};try{Object.defineProperty(Er,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch{}Er.length;var Or={exports:{}},uf=void 0,jr=function(e){return e!==uf&&e!==null},lf=jr,ff={object:!0,function:!0,undefined:!0},df=function(e){return lf(e)?hasOwnProperty.call(ff,typeof e):!1},cf=df,hf=function(e){if(!cf(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch{return!1}},pf=hf,bf=function(e){if(typeof e!="function"||!hasOwnProperty.call(e,"length"))return!1;try{if(typeof e.length!="number"||typeof e.call!="function"||typeof e.apply!="function")return!1}catch{return!1}return!pf(e)},mf=bf,gf=/^\s*class[\s{/}]/,vf=Function.prototype.toString,yf=function(e){return!(!mf(e)||gf.test(vf.call(e)))},Ae="razdwatrzy",wf=function(){return typeof Ae.contains!="function"?!1:Ae.contains("dwa")===!0&&Ae.contains("foo")===!1},Me,xr;function _f(){if(xr)return Me;xr=1;var e=String.prototype.indexOf;return Me=function(t){return e.call(this,t,arguments[1])>-1},Me}var Ef=wf()?String.prototype.contains:_f(),oe=jr,Ir=yf,Sr=_r,$r=ql,W=Ef,Of=Or.exports=function(e,t){var r,n,i,a,o;return arguments.length<2||typeof e!="string"?(a=t,t=e,e=null):a=arguments[2],oe(e)?(r=W.call(e,"c"),n=W.call(e,"e"),i=W.call(e,"w")):(r=i=!0,n=!1),o={value:t,configurable:r,enumerable:n,writable:i},a?Sr($r(a),o):o};Of.gs=function(e,t,r){var n,i,a,o;return typeof e!="string"?(a=r,r=t,t=e,e=null):a=arguments[3],oe(t)?Ir(t)?oe(r)?Ir(r)||(a=r,r=void 0):r=void 0:(a=t,t=r=void 0):t=void 0,oe(e)?(n=W.call(e,"c"),i=W.call(e,"e")):(n=!0,i=!1),o={get:t,set:r,configurable:n,enumerable:i},a?Sr($r(a),o):o};var U=Or.exports,Fe={exports:{}};(function(e,t){var r=U,n=br,i=Function.prototype.apply,a=Function.prototype.call,o=Object.create,s=Object.defineProperty,u=Object.defineProperties,l=Object.prototype.hasOwnProperty,f={configurable:!0,enumerable:!1,writable:!0},d,c,h,g,y,m,k;d=function(b,p){var v;return n(p),l.call(this,"__ee__")?v=this.__ee__:(v=f.value=o(null),s(this,"__ee__",f),f.value=null),v[b]?typeof v[b]=="object"?v[b].push(p):v[b]=[v[b],p]:v[b]=p,this},c=function(b,p){var v,j;return n(p),j=this,d.call(this,b,v=function(){h.call(j,b,v),i.call(p,this,arguments)}),v.__eeOnceListener__=p,this},h=function(b,p){var v,j,E,I;if(n(p),!l.call(this,"__ee__"))return this;if(v=this.__ee__,!v[b])return this;if(j=v[b],typeof j=="object")for(I=0;E=j[I];++I)(E===p||E.__eeOnceListener__===p)&&(j.length===2?v[b]=j[I?0:1]:j.splice(I,1));else(j===p||j.__eeOnceListener__===p)&&delete v[b];return this},g=function(b){var p,v,j,E,I;if(l.call(this,"__ee__")&&(E=this.__ee__[b],!!E))if(typeof E=="object"){for(v=arguments.length,I=new Array(v-1),p=1;p<v;++p)I[p-1]=arguments[p];for(E=E.slice(),p=0;j=E[p];++p)i.call(j,this,I)}else switch(arguments.length){case 1:a.call(E,this);break;case 2:a.call(E,this,arguments[1]);break;case 3:a.call(E,this,arguments[1],arguments[2]);break;default:for(v=arguments.length,I=new Array(v-1),p=1;p<v;++p)I[p-1]=arguments[p];i.call(E,this,I)}},y={on:d,once:c,off:h,emit:g},m={on:r(d),once:r(c),off:r(h),emit:r(g)},k=u({},m),e.exports=t=function(b){return b==null?o(k):u(Object(b),m)},t.methods=y})(Fe,Fe.exports);var jf=Fe.exports,Le,kr;function xf(){return kr||(kr=1,Le=function(){var e=Array.from,t,r;return typeof e!="function"?!1:(t=["raz","dwa"],r=e(t),!!(r&&r!==t&&r[1]==="dwa"))}),Le}var Ge,Nr;function If(){return Nr||(Nr=1,Ge=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}),Ge}var qe,Tr;function Sf(){if(Tr)return qe;Tr=1;var e=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return qe=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}(),qe}var De,Cr;function se(){return Cr||(Cr=1,De=If()()?globalThis:Sf()),De}var Ve,Pr;function $f(){if(Pr)return Ve;Pr=1;var e=se(),t={object:!0,symbol:!0};return Ve=function(){var r=e.Symbol,n;if(typeof r!="function")return!1;n=r("test symbol");try{String(n)}catch{return!1}return!(!t[typeof r.iterator]||!t[typeof r.toPrimitive]||!t[typeof r.toStringTag])},Ve}var ze,Rr;function kf(){return Rr||(Rr=1,ze=function(e){return e?typeof e=="symbol"?!0:!e.constructor||e.constructor.name!=="Symbol"?!1:e[e.constructor.toStringTag]==="Symbol":!1}),ze}var Be,Ar;function Mr(){if(Ar)return Be;Ar=1;var e=kf();return Be=function(t){if(!e(t))throw new TypeError(t+" is not a symbol");return t},Be}var We,Fr;function Nf(){if(Fr)return We;Fr=1;var e=U,t=Object.create,r=Object.defineProperty,n=Object.prototype,i=t(null);return We=function(a){for(var o=0,s,u;i[a+(o||"")];)++o;return a+=o||"",i[a]=!0,s="@@"+a,r(n,s,e.gs(null,function(l){u||(u=!0,r(this,s,e(l)),u=!1)})),s},We}var Ue,Lr;function Tf(){if(Lr)return Ue;Lr=1;var e=U,t=se().Symbol;return Ue=function(r){return Object.defineProperties(r,{hasInstance:e("",t&&t.hasInstance||r("hasInstance")),isConcatSpreadable:e("",t&&t.isConcatSpreadable||r("isConcatSpreadable")),iterator:e("",t&&t.iterator||r("iterator")),match:e("",t&&t.match||r("match")),replace:e("",t&&t.replace||r("replace")),search:e("",t&&t.search||r("search")),species:e("",t&&t.species||r("species")),split:e("",t&&t.split||r("split")),toPrimitive:e("",t&&t.toPrimitive||r("toPrimitive")),toStringTag:e("",t&&t.toStringTag||r("toStringTag")),unscopables:e("",t&&t.unscopables||r("unscopables"))})},Ue}var Ye,Gr;function Cf(){if(Gr)return Ye;Gr=1;var e=U,t=Mr(),r=Object.create(null);return Ye=function(n){return Object.defineProperties(n,{for:e(function(i){return r[i]?r[i]:r[i]=n(String(i))}),keyFor:e(function(i){var a;t(i);for(a in r)if(r[a]===i)return a})})},Ye}var He,qr;function Pf(){if(qr)return He;qr=1;var e=U,t=Mr(),r=se().Symbol,n=Nf(),i=Tf(),a=Cf(),o=Object.create,s=Object.defineProperties,u=Object.defineProperty,l,f,d;if(typeof r=="function")try{String(r()),d=!0}catch{}else r=null;return f=function(h){if(this instanceof f)throw new TypeError("Symbol is not a constructor");return l(h)},He=l=function c(h){var g;if(this instanceof c)throw new TypeError("Symbol is not a constructor");return d?r(h):(g=o(f.prototype),h=h===void 0?"":String(h),s(g,{__description__:e("",h),__name__:e("",n(h))}))},i(l),a(l),s(f.prototype,{constructor:e(l),toString:e("",function(){return this.__name__})}),s(l.prototype,{toString:e(function(){return"Symbol ("+t(this).__description__+")"}),valueOf:e(function(){return t(this)})}),u(l.prototype,l.toPrimitive,e("",function(){var c=t(this);return typeof c=="symbol"?c:c.toString()})),u(l.prototype,l.toStringTag,e("c","Symbol")),u(f.prototype,l.toStringTag,e("c",l.prototype[l.toStringTag])),u(f.prototype,l.toPrimitive,e("c",l.prototype[l.toPrimitive])),He}var Ke,Dr;function Rf(){return Dr||(Dr=1,Ke=$f()()?se().Symbol:Pf()),Ke}var Xe,Vr;function Af(){if(Vr)return Xe;Vr=1;var e=Object.prototype.toString,t=e.call(function(){return arguments}());return Xe=function(r){return e.call(r)===t},Xe}var Qe,zr;function Mf(){if(zr)return Qe;zr=1;var e=Object.prototype.toString,t=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);return Qe=function(r){return typeof r=="function"&&t(e.call(r))},Qe}var Je,Br;function Ff(){if(Br)return Je;Br=1;var e=Object.prototype.toString,t=e.call("");return Je=function(r){return typeof r=="string"||r&&typeof r=="object"&&(r instanceof String||e.call(r)===t)||!1},Je}var Ze,Wr;function Lf(){if(Wr)return Ze;Wr=1;var e=Rf().iterator,t=Af(),r=Mf(),n=Xl,i=br,a=mr,o=q,s=Ff(),u=Array.isArray,l=Function.prototype.call,f={configurable:!0,enumerable:!0,writable:!0,value:null},d=Object.defineProperty;return Ze=function(c){var h=arguments[1],g=arguments[2],y,m,k,b,p,v,j,E,I,S;if(c=Object(a(c)),o(h)&&i(h),!this||this===Array||!r(this)){if(!h){if(t(c))return p=c.length,p!==1?Array.apply(null,c):(b=new Array(1),b[0]=c[0],b);if(u(c)){for(b=new Array(p=c.length),m=0;m<p;++m)b[m]=c[m];return b}}b=[]}else y=this;if(!u(c)){if((I=c[e])!==void 0){for(j=i(I).call(c),y&&(b=new y),E=j.next(),m=0;!E.done;)S=h?l.call(h,g,E.value,m):E.value,y?(f.value=S,d(b,m,f)):b[m]=S,E=j.next(),++m;p=m}else if(s(c)){for(p=c.length,y&&(b=new y),m=0,k=0;m<p;++m)S=c[m],m+1<p&&(v=S.charCodeAt(0),v>=55296&&v<=56319&&(S+=c[++m])),S=h?l.call(h,g,S,k):S,y?(f.value=S,d(b,k,f)):b[k]=S,++k;p=k}}if(p===void 0)for(p=n(c.length),y&&(b=new y(p)),m=0;m<p;++m)S=h?l.call(h,g,c[m],m):c[m],y?(f.value=S,d(b,m,f)):b[m]=S;return y&&(f.value=null,b.length=p),b},Ze}var et,Ur;function Gf(){return Ur||(Ur=1,et=xf()()?Array.from:Lf()),et}Gf();var Yr=jf.methods;Yr.on,Yr.emit;const qf=e=>async t=>{try{const r=await e(t);postMessage({result:r})}catch(r){postMessage({error:r})}};function Df(e){const t={};return ke(e==null?void 0:e.events,({id:r,pId:n})=>{t[r]=n}),t}function Vf({trace:e,mode:t,orientation:r}){const n=new Ut.graphlib.Graph;switch(n.setGraph({}),t){case"directed-graph":ke(e==null?void 0:e.events,({id:i,pId:a})=>{i&&(n.hasNode(`${i}`)?n.node(`${i}`).size+=1:n.setNode(`${i}`,{label:`${i}`,width:1,height:1,size:1}),a&&n.hasNode(`${a}`)&&n.setEdge(`${i}`,`${a}`,{label:`${i}`,width:1,height:1}))});break;case"tree":{const i=Df(e);ke(e==null?void 0:e.events,({id:a})=>{if(a){n.hasNode(`${a}`)?n.node(`${a}`).size+=1:n.setNode(`${a}`,{label:`${a}`,width:1,height:1,size:1});const o=i[a];o&&n.hasNode(`${o}`)&&n.setEdge(`${a}`,`${o}`,{label:`${a}`,width:1,height:1})}})}break}return n.setGraph({ranksep:100,align:"UL",rankdir:r==="horizontal"?"LR":"TB"}),Ut.layout(n),n.nodes().map(i=>Pl(n.node(i),"x","y","label","size"))}onmessage=qf(async({data:e})=>Vf(e))})();
