var S6=Object.defineProperty;var E6=(Wn,nn,jt)=>nn in Wn?S6(Wn,nn,{enumerable:!0,configurable:!0,writable:!0,value:jt}):Wn[nn]=jt;var vt=(Wn,nn,jt)=>E6(Wn,typeof nn!="symbol"?nn+"":nn,jt);(function(){"use strict";var i0,o0,a0,l0,nt,pe;class Wn{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout(()=>{throw t.stack?wr.isErrorNoTelemetry(t)?new wr(t.message+`

`+t.stack):new Error(t.message+`

`+t.stack):t},0)}}emit(t){this.listeners.forEach(n=>{n(t)})}onUnexpectedError(t){this.unexpectedErrorHandler(t),this.emit(t)}onUnexpectedExternalError(t){this.unexpectedErrorHandler(t)}}const nn=new Wn;function jt(e){D0(e)||nn.onUnexpectedError(e)}function ic(e){if(e instanceof Error){const{name:t,message:n}=e,r=e.stacktrace||e.stack;return{$isError:!0,name:t,message:n,stack:r,noTelemetry:wr.isErrorNoTelemetry(e)}}return e}const Zo="Canceled";function D0(e){return e instanceof w0?!0:e instanceof Error&&e.name===Zo&&e.message===Zo}class w0 extends Error{constructor(){super(Zo),this.name=this.message}}class wr extends Error{constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof wr)return t;const n=new wr;return n.message=t.message,n.stack=t.stack,n}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}}class ht extends Error{constructor(t){super(t||"An unexpected bug occurred."),Object.setPrototypeOf(this,ht.prototype)}}function S0(e,t){const n=this;let r=!1,s;return function(){return r||(r=!0,s=e.apply(n,arguments)),s}}var ai;(function(e){function t(p){return p&&typeof p=="object"&&typeof p[Symbol.iterator]=="function"}e.is=t;const n=Object.freeze([]);function r(){return n}e.empty=r;function*s(p){yield p}e.single=s;function i(p){return t(p)?p:s(p)}e.wrap=i;function o(p){return p||n}e.from=o;function*a(p){for(let h=p.length-1;h>=0;h--)yield p[h]}e.reverse=a;function l(p){return!p||p[Symbol.iterator]().next().done===!0}e.isEmpty=l;function u(p){return p[Symbol.iterator]().next().value}e.first=u;function f(p,h){let d=0;for(const y of p)if(h(y,d++))return!0;return!1}e.some=f;function c(p,h){for(const d of p)if(h(d))return d}e.find=c;function*m(p,h){for(const d of p)h(d)&&(yield d)}e.filter=m;function*g(p,h){let d=0;for(const y of p)yield h(y,d++)}e.map=g;function*w(p,h){let d=0;for(const y of p)yield*h(y,d++)}e.flatMap=w;function*A(...p){for(const h of p)yield*h}e.concat=A;function E(p,h,d){let y=d;for(const S of p)y=h(y,S);return y}e.reduce=E;function*N(p,h,d=p.length){for(h<0&&(h+=p.length),d<0?d+=p.length:d>p.length&&(d=p.length);h<d;h++)yield p[h]}e.slice=N;function k(p,h=Number.POSITIVE_INFINITY){const d=[];if(h===0)return[d,p];const y=p[Symbol.iterator]();for(let S=0;S<h;S++){const D=y.next();if(D.done)return[d,e.empty()];d.push(D.value)}return[d,{[Symbol.iterator](){return y}}]}e.consume=k;async function b(p){const h=[];for await(const d of p)h.push(d);return Promise.resolve(h)}e.asyncToArray=b})(ai||(ai={}));function A6(e){return e}function N6(e,t){}function oc(e){if(ai.is(e)){const t=[];for(const n of e)if(n)try{n.dispose()}catch(r){t.push(r)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}function E0(...e){return li(()=>oc(e))}function li(e){return{dispose:S0(()=>{e()})}}const Wo=class Wo{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{oc(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?Wo.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}deleteAndLeak(t){t&&this._toDispose.has(t)&&this._toDispose.delete(t)}};Wo.DISABLE_DISPOSED_WARNING=!1;let ys=Wo;const Zu=class Zu{constructor(){this._store=new ys,this._store}dispose(){this._store.dispose()}_register(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)}};Zu.None=Object.freeze({dispose(){}});let Sr=Zu;const ds=class ds{constructor(t){this.element=t,this.next=ds.Undefined,this.prev=ds.Undefined}};ds.Undefined=new ds(void 0);let Ce=ds;class A0{constructor(){this._first=Ce.Undefined,this._last=Ce.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===Ce.Undefined}clear(){let t=this._first;for(;t!==Ce.Undefined;){const n=t.next;t.prev=Ce.Undefined,t.next=Ce.Undefined,t=n}this._first=Ce.Undefined,this._last=Ce.Undefined,this._size=0}unshift(t){return this._insert(t,!1)}push(t){return this._insert(t,!0)}_insert(t,n){const r=new Ce(t);if(this._first===Ce.Undefined)this._first=r,this._last=r;else if(n){const i=this._last;this._last=r,r.prev=i,i.next=r}else{const i=this._first;this._first=r,r.next=i,i.prev=r}this._size+=1;let s=!1;return()=>{s||(s=!0,this._remove(r))}}shift(){if(this._first!==Ce.Undefined){const t=this._first.element;return this._remove(this._first),t}}pop(){if(this._last!==Ce.Undefined){const t=this._last.element;return this._remove(this._last),t}}_remove(t){if(t.prev!==Ce.Undefined&&t.next!==Ce.Undefined){const n=t.prev;n.next=t.next,t.next.prev=n}else t.prev===Ce.Undefined&&t.next===Ce.Undefined?(this._first=Ce.Undefined,this._last=Ce.Undefined):t.next===Ce.Undefined?(this._last=this._last.prev,this._last.next=Ce.Undefined):t.prev===Ce.Undefined&&(this._first=this._first.next,this._first.prev=Ce.Undefined);this._size-=1}*[Symbol.iterator](){let t=this._first;for(;t!==Ce.Undefined;)yield t.element,t=t.next}}const N0=globalThis.performance&&typeof globalThis.performance.now=="function";class ui{static create(t){return new ui(t)}constructor(t){this._now=N0&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}var ci;(function(e){e.None=()=>Sr.None;function t(_,T){return m(_,()=>{},0,void 0,!0,void 0,T)}e.defer=t;function n(_){return(T,M=null,P)=>{let B=!1,W;return W=_(G=>{if(!B)return W?W.dispose():B=!0,T.call(M,G)},null,P),B&&W.dispose(),W}}e.once=n;function r(_,T){return e.once(e.filter(_,T))}e.onceIf=r;function s(_,T,M){return f((P,B=null,W)=>_(G=>P.call(B,T(G)),null,W),M)}e.map=s;function i(_,T,M){return f((P,B=null,W)=>_(G=>{T(G),P.call(B,G)},null,W),M)}e.forEach=i;function o(_,T,M){return f((P,B=null,W)=>_(G=>T(G)&&P.call(B,G),null,W),M)}e.filter=o;function a(_){return _}e.signal=a;function l(..._){return(T,M=null,P)=>{const B=E0(..._.map(W=>W(G=>T.call(M,G))));return c(B,P)}}e.any=l;function u(_,T,M,P){let B=M;return s(_,W=>(B=T(B,W),B),P)}e.reduce=u;function f(_,T){let M;const P={onWillAddFirstListener(){M=_(B.fire,B)},onDidRemoveLastListener(){M==null||M.dispose()}},B=new Dt(P);return T==null||T.add(B),B.event}function c(_,T){return T instanceof Array?T.push(_):T&&T.add(_),_}function m(_,T,M=100,P=!1,B=!1,W,G){let J,I,Y,X=0,Q;const te={leakWarningThreshold:W,onWillAddFirstListener(){J=_(ct=>{X++,I=T(I,ct),P&&!Y&&(ie.fire(I),I=void 0),Q=()=>{const Vt=I;I=void 0,Y=void 0,(!P||X>1)&&ie.fire(Vt),X=0},typeof M=="number"?(clearTimeout(Y),Y=setTimeout(Q,M)):Y===void 0&&(Y=0,queueMicrotask(Q))})},onWillRemoveListener(){B&&X>0&&(Q==null||Q())},onDidRemoveLastListener(){Q=void 0,J.dispose()}},ie=new Dt(te);return G==null||G.add(ie),ie.event}e.debounce=m;function g(_,T=0,M){return e.debounce(_,(P,B)=>P?(P.push(B),P):[B],T,void 0,!0,void 0,M)}e.accumulate=g;function w(_,T=(P,B)=>P===B,M){let P=!0,B;return o(_,W=>{const G=P||!T(W,B);return P=!1,B=W,G},M)}e.latch=w;function A(_,T,M){return[e.filter(_,T,M),e.filter(_,P=>!T(P),M)]}e.split=A;function E(_,T=!1,M=[],P){let B=M.slice(),W=_(I=>{B?B.push(I):J.fire(I)});P&&P.add(W);const G=()=>{B==null||B.forEach(I=>J.fire(I)),B=null},J=new Dt({onWillAddFirstListener(){W||(W=_(I=>J.fire(I)),P&&P.add(W))},onDidAddFirstListener(){B&&(T?setTimeout(G):G())},onDidRemoveLastListener(){W&&W.dispose(),W=null}});return P&&P.add(J),J.event}e.buffer=E;function N(_,T){return(P,B,W)=>{const G=T(new b);return _(function(J){const I=G.evaluate(J);I!==k&&P.call(B,I)},void 0,W)}}e.chain=N;const k=Symbol("HaltChainable");class b{constructor(){this.steps=[]}map(T){return this.steps.push(T),this}forEach(T){return this.steps.push(M=>(T(M),M)),this}filter(T){return this.steps.push(M=>T(M)?M:k),this}reduce(T,M){let P=M;return this.steps.push(B=>(P=T(P,B),P)),this}latch(T=(M,P)=>M===P){let M=!0,P;return this.steps.push(B=>{const W=M||!T(B,P);return M=!1,P=B,W?B:k}),this}evaluate(T){for(const M of this.steps)if(T=M(T),T===k)break;return T}}function p(_,T,M=P=>P){const P=(...J)=>G.fire(M(...J)),B=()=>_.on(T,P),W=()=>_.removeListener(T,P),G=new Dt({onWillAddFirstListener:B,onDidRemoveLastListener:W});return G.event}e.fromNodeEventEmitter=p;function h(_,T,M=P=>P){const P=(...J)=>G.fire(M(...J)),B=()=>_.addEventListener(T,P),W=()=>_.removeEventListener(T,P),G=new Dt({onWillAddFirstListener:B,onDidRemoveLastListener:W});return G.event}e.fromDOMEventEmitter=h;function d(_){return new Promise(T=>n(_)(T))}e.toPromise=d;function y(_){const T=new Dt;return _.then(M=>{T.fire(M)},()=>{T.fire(void 0)}).finally(()=>{T.dispose()}),T.event}e.fromPromise=y;function S(_,T){return _(M=>T.fire(M))}e.forward=S;function D(_,T,M){return T(M),_(P=>T(P))}e.runAndSubscribe=D;class x{constructor(T,M){this._observable=T,this._counter=0,this._hasChanged=!1;const P={onWillAddFirstListener:()=>{T.addObserver(this),this._observable.reportChanges()},onDidRemoveLastListener:()=>{T.removeObserver(this)}};this.emitter=new Dt(P),M&&M.add(this.emitter)}beginUpdate(T){this._counter++}handlePossibleChange(T){}handleChange(T,M){this._hasChanged=!0}endUpdate(T){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function C(_,T){return new x(_,T).emitter.event}e.fromObservable=C;function L(_){return(T,M,P)=>{let B=0,W=!1;const G={beginUpdate(){B++},endUpdate(){B--,B===0&&(_.reportChanges(),W&&(W=!1,T.call(M)))},handlePossibleChange(){},handleChange(){W=!0}};_.addObserver(G),_.reportChanges();const J={dispose(){_.removeObserver(G)}};return P instanceof ys?P.add(J):Array.isArray(P)&&P.push(J),J}}e.fromObservableLight=L})(ci||(ci={}));const ms=class ms{constructor(t){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${t}_${ms._idPool++}`,ms.all.add(this)}start(t){this._stopWatch=new ui,this.listenerCount=t}stop(){if(this._stopWatch){const t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}};ms.all=new Set,ms._idPool=0;let ea=ms,x0=-1;const Ho=class Ho{constructor(t,n,r=(Ho._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t,this.threshold=n,this.name=r,this._warnCountdown=0}dispose(){var t;(t=this._stacks)==null||t.clear()}check(t,n){const r=this.threshold;if(r<=0||n<r)return;this._stacks||(this._stacks=new Map);const s=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,s+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=r*.5;const[i,o]=this.getMostFrequentStack(),a=`[${this.name}] potential listener LEAK detected, having ${n} listeners already. MOST frequent listener (${o}):`;console.warn(a),console.warn(i);const l=new L0(a,i);this._errorHandler(l)}return()=>{const i=this._stacks.get(t.value)||0;this._stacks.set(t.value,i-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,n=0;for(const[r,s]of this._stacks)(!t||n<s)&&(t=[r,s],n=s);return t}};Ho._idPool=1;let ta=Ho;class na{static create(){const t=new Error;return new na(t.stack??"")}constructor(t){this.value=t}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class L0 extends Error{constructor(t,n){super(t),this.name="ListenerLeakError",this.stack=n}}class C0 extends Error{constructor(t,n){super(t),this.name="ListenerRefusalError",this.stack=n}}class ra{constructor(t){this.value=t}}const k0=2;class Dt{constructor(t){var n,r,s,i;this._size=0,this._options=t,this._leakageMon=(n=this._options)!=null&&n.leakWarningThreshold?new ta((t==null?void 0:t.onListenerError)??jt,((r=this._options)==null?void 0:r.leakWarningThreshold)??x0):void 0,this._perfMon=(s=this._options)!=null&&s._profName?new ea(this._options._profName):void 0,this._deliveryQueue=(i=this._options)==null?void 0:i.deliveryQueue}dispose(){var t,n,r,s;this._disposed||(this._disposed=!0,((t=this._deliveryQueue)==null?void 0:t.current)===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),(r=(n=this._options)==null?void 0:n.onDidRemoveLastListener)==null||r.call(n),(s=this._leakageMon)==null||s.dispose())}get event(){return this._event??(this._event=(t,n,r)=>{var a,l,u,f,c;if(this._leakageMon&&this._size>this._leakageMon.threshold**2){const m=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(m);const g=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],w=new C0(`${m}. HINT: Stack shows most frequent listener (${g[1]}-times)`,g[0]);return(((a=this._options)==null?void 0:a.onListenerError)||jt)(w),Sr.None}if(this._disposed)return Sr.None;n&&(t=t.bind(n));const s=new ra(t);let i;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(s.stack=na.create(),i=this._leakageMon.check(s.stack,this._size+1)),this._listeners?this._listeners instanceof ra?(this._deliveryQueue??(this._deliveryQueue=new F0),this._listeners=[this._listeners,s]):this._listeners.push(s):((u=(l=this._options)==null?void 0:l.onWillAddFirstListener)==null||u.call(l,this),this._listeners=s,(c=(f=this._options)==null?void 0:f.onDidAddFirstListener)==null||c.call(f,this)),this._size++;const o=li(()=>{i==null||i(),this._removeListener(s)});return r instanceof ys?r.add(o):Array.isArray(r)&&r.push(o),o}),this._event}_removeListener(t){var i,o,a,l;if((o=(i=this._options)==null?void 0:i.onWillRemoveListener)==null||o.call(i,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(l=(a=this._options)==null?void 0:a.onDidRemoveLastListener)==null||l.call(a,this),this._size=0;return}const n=this._listeners,r=n.indexOf(t);if(r===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,n[r]=void 0;const s=this._deliveryQueue.current===this;if(this._size*k0<=n.length){let u=0;for(let f=0;f<n.length;f++)n[f]?n[u++]=n[f]:s&&(this._deliveryQueue.end--,u<this._deliveryQueue.i&&this._deliveryQueue.i--);n.length=u}}_deliver(t,n){var s;if(!t)return;const r=((s=this._options)==null?void 0:s.onListenerError)||jt;if(!r){t.value(n);return}try{t.value(n)}catch(i){r(i)}}_deliverQueue(t){const n=t.current._listeners;for(;t.i<t.end;)this._deliver(n[t.i++],t.value);t.reset()}fire(t){var n,r,s,i;if((n=this._deliveryQueue)!=null&&n.current&&(this._deliverQueue(this._deliveryQueue),(r=this._perfMon)==null||r.stop()),(s=this._perfMon)==null||s.start(this._size),this._listeners)if(this._listeners instanceof ra)this._deliver(this._listeners,t);else{const o=this._deliveryQueue;o.enqueue(this,t,this._listeners.length),this._deliverQueue(o)}(i=this._perfMon)==null||i.stop()}hasListeners(){return this._size>0}}class F0{constructor(){this.i=-1,this.end=0}enqueue(t,n,r){this.i=0,this.end=r,this.current=t,this.value=n}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}function _0(){return globalThis._VSCODE_NLS_MESSAGES}function ac(){return globalThis._VSCODE_NLS_LANGUAGE}const T0=ac()==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function lc(e,t){let n;return t.length===0?n=e:n=e.replace(/\{(\d+)\}/g,(r,s)=>{const i=s[0],o=t[i];let a=r;return typeof o=="string"?a=o:(typeof o=="number"||typeof o=="boolean"||o===void 0||o===null)&&(a=String(o)),a}),T0&&(n="［"+n.replace(/[aouei]/g,"$&$&")+"］"),n}function Ne(e,t,...n){return lc(typeof e=="number"?M0(e,t):t,n)}function M0(e,t){var r;const n=(r=_0())==null?void 0:r[e];if(typeof n!="string"){if(typeof t=="string")return t;throw new Error(`!!! NLS MISSING: ${e} !!!`)}return n}const Er="en";let sa=!1,ia=!1,oa=!1,uc=!1,aa=!1,fi,la=Er,cc=Er,O0,_t;const rn=globalThis;let ze;typeof rn.vscode<"u"&&typeof rn.vscode.process<"u"?ze=rn.vscode.process:typeof process<"u"&&typeof((i0=process==null?void 0:process.versions)==null?void 0:i0.node)=="string"&&(ze=process);const R0=typeof((o0=ze==null?void 0:ze.versions)==null?void 0:o0.electron)=="string"&&(ze==null?void 0:ze.type)==="renderer";if(typeof ze=="object"){sa=ze.platform==="win32",ia=ze.platform==="darwin",oa=ze.platform==="linux",oa&&ze.env.SNAP&&ze.env.SNAP_REVISION,ze.env.CI||ze.env.BUILD_ARTIFACTSTAGINGDIRECTORY,fi=Er,la=Er;const e=ze.env.VSCODE_NLS_CONFIG;if(e)try{const t=JSON.parse(e);fi=t.userLocale,cc=t.osLocale,la=t.resolvedLanguage||Er,O0=(a0=t.languagePack)==null?void 0:a0.translationsConfigFile}catch{}uc=!0}else typeof navigator=="object"&&!R0?(_t=navigator.userAgent,sa=_t.indexOf("Windows")>=0,ia=_t.indexOf("Macintosh")>=0,(_t.indexOf("Macintosh")>=0||_t.indexOf("iPad")>=0||_t.indexOf("iPhone")>=0)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0,oa=_t.indexOf("Linux")>=0,(_t==null?void 0:_t.indexOf("Mobi"))>=0,aa=!0,la=ac()||Er,fi=navigator.language.toLowerCase(),cc=fi):console.error("Unable to resolve platform.");const vs=sa,P0=ia,$0=uc,I0=aa,B0=aa&&typeof rn.importScripts=="function"?rn.origin:void 0,Ut=_t,V0=typeof rn.postMessage=="function"&&!rn.importScripts;(()=>{if(V0){const e=[];rn.addEventListener("message",n=>{if(n.data&&n.data.vscodeScheduleAsyncWork)for(let r=0,s=e.length;r<s;r++){const i=e[r];if(i.id===n.data.vscodeScheduleAsyncWork){e.splice(r,1),i.callback();return}}});let t=0;return n=>{const r=++t;e.push({id:r,callback:n}),rn.postMessage({vscodeScheduleAsyncWork:r},"*")}}return e=>setTimeout(e)})();const j0=!!(Ut&&Ut.indexOf("Chrome")>=0);Ut&&Ut.indexOf("Firefox")>=0,!j0&&Ut&&Ut.indexOf("Safari")>=0,Ut&&Ut.indexOf("Edg/")>=0,Ut&&Ut.indexOf("Android")>=0;function U0(e){return e}class q0{constructor(t,n){this.lastCache=void 0,this.lastArgKey=void 0,typeof t=="function"?(this._fn=t,this._computeKey=U0):(this._fn=n,this._computeKey=t.getCacheKey)}get(t){const n=this._computeKey(t);return this.lastArgKey!==n&&(this.lastArgKey=n,this.lastCache=this._fn(t)),this.lastCache}}class fc{constructor(t){this.executor=t,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(t){this._error=t}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}function W0(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function H0(e){return e.split(/\r\n|\r|\n/)}function Y0(e){for(let t=0,n=e.length;t<n;t++){const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}return-1}function z0(e,t=e.length-1){for(let n=t;n>=0;n--){const r=e.charCodeAt(n);if(r!==32&&r!==9)return n}return-1}function hc(e){return e>=65&&e<=90}function ua(e){return 55296<=e&&e<=56319}function G0(e){return 56320<=e&&e<=57343}function J0(e,t){return(e-55296<<10)+(t-56320)+65536}function Q0(e,t,n){const r=e.charCodeAt(n);if(ua(r)&&n+1<t){const s=e.charCodeAt(n+1);if(G0(s))return J0(r,s)}return r}const K0=/^[\t\n\r\x20-\x7E]*$/;function X0(e){return K0.test(e)}const en=class en{static getInstance(t){return en.cache.get(Array.from(t))}static getLocales(){return en._locales.value}constructor(t){this.confusableDictionary=t}isAmbiguous(t){return this.confusableDictionary.has(t)}getPrimaryConfusable(t){return this.confusableDictionary.get(t)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}};en.ambiguousCharacterData=new fc(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),en.cache=new q0({getCacheKey:JSON.stringify},t=>{function n(f){const c=new Map;for(let m=0;m<f.length;m+=2)c.set(f[m],f[m+1]);return c}function r(f,c){const m=new Map(f);for(const[g,w]of c)m.set(g,w);return m}function s(f,c){if(!f)return c;const m=new Map;for(const[g,w]of f)c.has(g)&&m.set(g,w);return m}const i=en.ambiguousCharacterData.value;let o=t.filter(f=>!f.startsWith("_")&&f in i);o.length===0&&(o=["_default"]);let a;for(const f of o){const c=n(i[f]);a=s(a,c)}const l=n(i._common),u=r(l,a);return new en(u)}),en._locales=new fc(()=>Object.keys(en.ambiguousCharacterData.value).filter(t=>!t.startsWith("_")));let Ds=en;const gs=class gs{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(gs.getRawData())),this._data}static isInvisibleCharacter(t){return gs.getData().has(t)}static get codePoints(){return gs.getData()}};gs._data=void 0;let ws=gs;var dc={};let Ar;const ca=globalThis.vscode;if(typeof ca<"u"&&typeof ca.process<"u"){const e=ca.process;Ar={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else typeof process<"u"&&typeof((l0=process==null?void 0:process.versions)==null?void 0:l0.node)=="string"?Ar={get platform(){return process.platform},get arch(){return process.arch},get env(){return dc},cwd(){return dc.VSCODE_CWD||process.cwd()}}:Ar={get platform(){return vs?"win32":P0?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const hi=Ar.cwd,Z0=Ar.env,ep=Ar.platform,tp=65,np=97,rp=90,sp=122,Nn=46,Ue=47,st=92,xn=58,ip=63;class mc extends Error{constructor(t,n,r){let s;typeof n=="string"&&n.indexOf("not ")===0?(s="must not be",n=n.replace(/^not /,"")):s="must be";const i=t.indexOf(".")!==-1?"property":"argument";let o=`The "${t}" ${i} ${s} of type ${n}`;o+=`. Received type ${typeof r}`,super(o),this.code="ERR_INVALID_ARG_TYPE"}}function op(e,t){if(e===null||typeof e!="object")throw new mc(t,"Object",e)}function Me(e,t){if(typeof e!="string")throw new mc(t,"string",e)}const sn=ep==="win32";function ue(e){return e===Ue||e===st}function fa(e){return e===Ue}function Ln(e){return e>=tp&&e<=rp||e>=np&&e<=sp}function di(e,t,n,r){let s="",i=0,o=-1,a=0,l=0;for(let u=0;u<=e.length;++u){if(u<e.length)l=e.charCodeAt(u);else{if(r(l))break;l=Ue}if(r(l)){if(!(o===u-1||a===1))if(a===2){if(s.length<2||i!==2||s.charCodeAt(s.length-1)!==Nn||s.charCodeAt(s.length-2)!==Nn){if(s.length>2){const f=s.lastIndexOf(n);f===-1?(s="",i=0):(s=s.slice(0,f),i=s.length-1-s.lastIndexOf(n)),o=u,a=0;continue}else if(s.length!==0){s="",i=0,o=u,a=0;continue}}t&&(s+=s.length>0?`${n}..`:"..",i=2)}else s.length>0?s+=`${n}${e.slice(o+1,u)}`:s=e.slice(o+1,u),i=u-o-1;o=u,a=0}else l===Nn&&a!==-1?++a:a=-1}return s}function ap(e){return e?`${e[0]==="."?"":"."}${e}`:""}function gc(e,t){op(t,"pathObject");const n=t.dir||t.root,r=t.base||`${t.name||""}${ap(t.ext)}`;return n?n===t.root?`${n}${r}`:`${n}${e}${r}`:r}const Qe={resolve(...e){let t="",n="",r=!1;for(let s=e.length-1;s>=-1;s--){let i;if(s>=0){if(i=e[s],Me(i,`paths[${s}]`),i.length===0)continue}else t.length===0?i=hi():(i=Z0[`=${t}`]||hi(),(i===void 0||i.slice(0,2).toLowerCase()!==t.toLowerCase()&&i.charCodeAt(2)===st)&&(i=`${t}\\`));const o=i.length;let a=0,l="",u=!1;const f=i.charCodeAt(0);if(o===1)ue(f)&&(a=1,u=!0);else if(ue(f))if(u=!0,ue(i.charCodeAt(1))){let c=2,m=c;for(;c<o&&!ue(i.charCodeAt(c));)c++;if(c<o&&c!==m){const g=i.slice(m,c);for(m=c;c<o&&ue(i.charCodeAt(c));)c++;if(c<o&&c!==m){for(m=c;c<o&&!ue(i.charCodeAt(c));)c++;(c===o||c!==m)&&(l=`\\\\${g}\\${i.slice(m,c)}`,a=c)}}}else a=1;else Ln(f)&&i.charCodeAt(1)===xn&&(l=i.slice(0,2),a=2,o>2&&ue(i.charCodeAt(2))&&(u=!0,a=3));if(l.length>0)if(t.length>0){if(l.toLowerCase()!==t.toLowerCase())continue}else t=l;if(r){if(t.length>0)break}else if(n=`${i.slice(a)}\\${n}`,r=u,u&&t.length>0)break}return n=di(n,!r,"\\",ue),r?`${t}\\${n}`:`${t}${n}`||"."},normalize(e){Me(e,"path");const t=e.length;if(t===0)return".";let n=0,r,s=!1;const i=e.charCodeAt(0);if(t===1)return fa(i)?"\\":e;if(ue(i))if(s=!0,ue(e.charCodeAt(1))){let a=2,l=a;for(;a<t&&!ue(e.charCodeAt(a));)a++;if(a<t&&a!==l){const u=e.slice(l,a);for(l=a;a<t&&ue(e.charCodeAt(a));)a++;if(a<t&&a!==l){for(l=a;a<t&&!ue(e.charCodeAt(a));)a++;if(a===t)return`\\\\${u}\\${e.slice(l)}\\`;a!==l&&(r=`\\\\${u}\\${e.slice(l,a)}`,n=a)}}}else n=1;else Ln(i)&&e.charCodeAt(1)===xn&&(r=e.slice(0,2),n=2,t>2&&ue(e.charCodeAt(2))&&(s=!0,n=3));let o=n<t?di(e.slice(n),!s,"\\",ue):"";return o.length===0&&!s&&(o="."),o.length>0&&ue(e.charCodeAt(t-1))&&(o+="\\"),r===void 0?s?`\\${o}`:o:s?`${r}\\${o}`:`${r}${o}`},isAbsolute(e){Me(e,"path");const t=e.length;if(t===0)return!1;const n=e.charCodeAt(0);return ue(n)||t>2&&Ln(n)&&e.charCodeAt(1)===xn&&ue(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,n;for(let i=0;i<e.length;++i){const o=e[i];Me(o,"path"),o.length>0&&(t===void 0?t=n=o:t+=`\\${o}`)}if(t===void 0)return".";let r=!0,s=0;if(typeof n=="string"&&ue(n.charCodeAt(0))){++s;const i=n.length;i>1&&ue(n.charCodeAt(1))&&(++s,i>2&&(ue(n.charCodeAt(2))?++s:r=!1))}if(r){for(;s<t.length&&ue(t.charCodeAt(s));)s++;s>=2&&(t=`\\${t.slice(s)}`)}return Qe.normalize(t)},relative(e,t){if(Me(e,"from"),Me(t,"to"),e===t)return"";const n=Qe.resolve(e),r=Qe.resolve(t);if(n===r||(e=n.toLowerCase(),t=r.toLowerCase(),e===t))return"";let s=0;for(;s<e.length&&e.charCodeAt(s)===st;)s++;let i=e.length;for(;i-1>s&&e.charCodeAt(i-1)===st;)i--;const o=i-s;let a=0;for(;a<t.length&&t.charCodeAt(a)===st;)a++;let l=t.length;for(;l-1>a&&t.charCodeAt(l-1)===st;)l--;const u=l-a,f=o<u?o:u;let c=-1,m=0;for(;m<f;m++){const w=e.charCodeAt(s+m);if(w!==t.charCodeAt(a+m))break;w===st&&(c=m)}if(m!==f){if(c===-1)return r}else{if(u>f){if(t.charCodeAt(a+m)===st)return r.slice(a+m+1);if(m===2)return r.slice(a+m)}o>f&&(e.charCodeAt(s+m)===st?c=m:m===2&&(c=3)),c===-1&&(c=0)}let g="";for(m=s+c+1;m<=i;++m)(m===i||e.charCodeAt(m)===st)&&(g+=g.length===0?"..":"\\..");return a+=c,g.length>0?`${g}${r.slice(a,l)}`:(r.charCodeAt(a)===st&&++a,r.slice(a,l))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;const t=Qe.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===st){if(t.charCodeAt(1)===st){const n=t.charCodeAt(2);if(n!==ip&&n!==Nn)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(Ln(t.charCodeAt(0))&&t.charCodeAt(1)===xn&&t.charCodeAt(2)===st)return`\\\\?\\${t}`;return e},dirname(e){Me(e,"path");const t=e.length;if(t===0)return".";let n=-1,r=0;const s=e.charCodeAt(0);if(t===1)return ue(s)?e:".";if(ue(s)){if(n=r=1,ue(e.charCodeAt(1))){let a=2,l=a;for(;a<t&&!ue(e.charCodeAt(a));)a++;if(a<t&&a!==l){for(l=a;a<t&&ue(e.charCodeAt(a));)a++;if(a<t&&a!==l){for(l=a;a<t&&!ue(e.charCodeAt(a));)a++;if(a===t)return e;a!==l&&(n=r=a+1)}}}}else Ln(s)&&e.charCodeAt(1)===xn&&(n=t>2&&ue(e.charCodeAt(2))?3:2,r=n);let i=-1,o=!0;for(let a=t-1;a>=r;--a)if(ue(e.charCodeAt(a))){if(!o){i=a;break}}else o=!1;if(i===-1){if(n===-1)return".";i=n}return e.slice(0,i)},basename(e,t){t!==void 0&&Me(t,"suffix"),Me(e,"path");let n=0,r=-1,s=!0,i;if(e.length>=2&&Ln(e.charCodeAt(0))&&e.charCodeAt(1)===xn&&(n=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let o=t.length-1,a=-1;for(i=e.length-1;i>=n;--i){const l=e.charCodeAt(i);if(ue(l)){if(!s){n=i+1;break}}else a===-1&&(s=!1,a=i+1),o>=0&&(l===t.charCodeAt(o)?--o===-1&&(r=i):(o=-1,r=a))}return n===r?r=a:r===-1&&(r=e.length),e.slice(n,r)}for(i=e.length-1;i>=n;--i)if(ue(e.charCodeAt(i))){if(!s){n=i+1;break}}else r===-1&&(s=!1,r=i+1);return r===-1?"":e.slice(n,r)},extname(e){Me(e,"path");let t=0,n=-1,r=0,s=-1,i=!0,o=0;e.length>=2&&e.charCodeAt(1)===xn&&Ln(e.charCodeAt(0))&&(t=r=2);for(let a=e.length-1;a>=t;--a){const l=e.charCodeAt(a);if(ue(l)){if(!i){r=a+1;break}continue}s===-1&&(i=!1,s=a+1),l===Nn?n===-1?n=a:o!==1&&(o=1):n!==-1&&(o=-1)}return n===-1||s===-1||o===0||o===1&&n===s-1&&n===r+1?"":e.slice(n,s)},format:gc.bind(null,"\\"),parse(e){Me(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;const n=e.length;let r=0,s=e.charCodeAt(0);if(n===1)return ue(s)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(ue(s)){if(r=1,ue(e.charCodeAt(1))){let c=2,m=c;for(;c<n&&!ue(e.charCodeAt(c));)c++;if(c<n&&c!==m){for(m=c;c<n&&ue(e.charCodeAt(c));)c++;if(c<n&&c!==m){for(m=c;c<n&&!ue(e.charCodeAt(c));)c++;c===n?r=c:c!==m&&(r=c+1)}}}}else if(Ln(s)&&e.charCodeAt(1)===xn){if(n<=2)return t.root=t.dir=e,t;if(r=2,ue(e.charCodeAt(2))){if(n===3)return t.root=t.dir=e,t;r=3}}r>0&&(t.root=e.slice(0,r));let i=-1,o=r,a=-1,l=!0,u=e.length-1,f=0;for(;u>=r;--u){if(s=e.charCodeAt(u),ue(s)){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),s===Nn?i===-1?i=u:f!==1&&(f=1):i!==-1&&(f=-1)}return a!==-1&&(i===-1||f===0||f===1&&i===a-1&&i===o+1?t.base=t.name=e.slice(o,a):(t.name=e.slice(o,i),t.base=e.slice(o,a),t.ext=e.slice(i,a))),o>0&&o!==r?t.dir=e.slice(0,o-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},lp=(()=>{if(sn){const e=/\\/g;return()=>{const t=hi().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>hi()})(),Ke={resolve(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const s=r>=0?e[r]:lp();Me(s,`paths[${r}]`),s.length!==0&&(t=`${s}/${t}`,n=s.charCodeAt(0)===Ue)}return t=di(t,!n,"/",fa),n?`/${t}`:t.length>0?t:"."},normalize(e){if(Me(e,"path"),e.length===0)return".";const t=e.charCodeAt(0)===Ue,n=e.charCodeAt(e.length-1)===Ue;return e=di(e,!t,"/",fa),e.length===0?t?"/":n?"./":".":(n&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return Me(e,"path"),e.length>0&&e.charCodeAt(0)===Ue},join(...e){if(e.length===0)return".";let t;for(let n=0;n<e.length;++n){const r=e[n];Me(r,"path"),r.length>0&&(t===void 0?t=r:t+=`/${r}`)}return t===void 0?".":Ke.normalize(t)},relative(e,t){if(Me(e,"from"),Me(t,"to"),e===t||(e=Ke.resolve(e),t=Ke.resolve(t),e===t))return"";const n=1,r=e.length,s=r-n,i=1,o=t.length-i,a=s<o?s:o;let l=-1,u=0;for(;u<a;u++){const c=e.charCodeAt(n+u);if(c!==t.charCodeAt(i+u))break;c===Ue&&(l=u)}if(u===a)if(o>a){if(t.charCodeAt(i+u)===Ue)return t.slice(i+u+1);if(u===0)return t.slice(i+u)}else s>a&&(e.charCodeAt(n+u)===Ue?l=u:u===0&&(l=0));let f="";for(u=n+l+1;u<=r;++u)(u===r||e.charCodeAt(u)===Ue)&&(f+=f.length===0?"..":"/..");return`${f}${t.slice(i+l)}`},toNamespacedPath(e){return e},dirname(e){if(Me(e,"path"),e.length===0)return".";const t=e.charCodeAt(0)===Ue;let n=-1,r=!0;for(let s=e.length-1;s>=1;--s)if(e.charCodeAt(s)===Ue){if(!r){n=s;break}}else r=!1;return n===-1?t?"/":".":t&&n===1?"//":e.slice(0,n)},basename(e,t){t!==void 0&&Me(t,"ext"),Me(e,"path");let n=0,r=-1,s=!0,i;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let o=t.length-1,a=-1;for(i=e.length-1;i>=0;--i){const l=e.charCodeAt(i);if(l===Ue){if(!s){n=i+1;break}}else a===-1&&(s=!1,a=i+1),o>=0&&(l===t.charCodeAt(o)?--o===-1&&(r=i):(o=-1,r=a))}return n===r?r=a:r===-1&&(r=e.length),e.slice(n,r)}for(i=e.length-1;i>=0;--i)if(e.charCodeAt(i)===Ue){if(!s){n=i+1;break}}else r===-1&&(s=!1,r=i+1);return r===-1?"":e.slice(n,r)},extname(e){Me(e,"path");let t=-1,n=0,r=-1,s=!0,i=0;for(let o=e.length-1;o>=0;--o){const a=e.charCodeAt(o);if(a===Ue){if(!s){n=o+1;break}continue}r===-1&&(s=!1,r=o+1),a===Nn?t===-1?t=o:i!==1&&(i=1):t!==-1&&(i=-1)}return t===-1||r===-1||i===0||i===1&&t===r-1&&t===n+1?"":e.slice(t,r)},format:gc.bind(null,"/"),parse(e){Me(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;const n=e.charCodeAt(0)===Ue;let r;n?(t.root="/",r=1):r=0;let s=-1,i=0,o=-1,a=!0,l=e.length-1,u=0;for(;l>=r;--l){const f=e.charCodeAt(l);if(f===Ue){if(!a){i=l+1;break}continue}o===-1&&(a=!1,o=l+1),f===Nn?s===-1?s=l:u!==1&&(u=1):s!==-1&&(u=-1)}if(o!==-1){const f=i===0&&n?1:i;s===-1||u===0||u===1&&s===o-1&&s===i+1?t.base=t.name=e.slice(f,o):(t.name=e.slice(f,s),t.base=e.slice(f,o),t.ext=e.slice(s,o))}return i>0?t.dir=e.slice(0,i-1):n&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};Ke.win32=Qe.win32=Qe,Ke.posix=Qe.posix=Ke,sn?Qe.normalize:Ke.normalize;const up=sn?Qe.join:Ke.join;sn?Qe.resolve:Ke.resolve,sn?Qe.relative:Ke.relative,sn?Qe.dirname:Ke.dirname,sn?Qe.basename:Ke.basename,sn?Qe.extname:Ke.extname,sn?Qe.sep:Ke.sep;const cp=/^\w[\w\d+.-]*$/,fp=/^\//,hp=/^\/\//;function dp(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!cp.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path){if(e.authority){if(!fp.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(hp.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function mp(e,t){return!e&&!t?"file":e}function gp(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==Tt&&(t=Tt+t):t=Tt;break}return t}const Ae="",Tt="/",pp=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;let qt=class Ko{static isUri(t){return t instanceof Ko?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}constructor(t,n,r,s,i,o=!1){typeof t=="object"?(this.scheme=t.scheme||Ae,this.authority=t.authority||Ae,this.path=t.path||Ae,this.query=t.query||Ae,this.fragment=t.fragment||Ae):(this.scheme=mp(t,o),this.authority=n||Ae,this.path=gp(this.scheme,r||Ae),this.query=s||Ae,this.fragment=i||Ae,dp(this,o))}get fsPath(){return ha(this,!1)}with(t){if(!t)return this;let{scheme:n,authority:r,path:s,query:i,fragment:o}=t;return n===void 0?n=this.scheme:n===null&&(n=Ae),r===void 0?r=this.authority:r===null&&(r=Ae),s===void 0?s=this.path:s===null&&(s=Ae),i===void 0?i=this.query:i===null&&(i=Ae),o===void 0?o=this.fragment:o===null&&(o=Ae),n===this.scheme&&r===this.authority&&s===this.path&&i===this.query&&o===this.fragment?this:new Nr(n,r,s,i,o)}static parse(t,n=!1){const r=pp.exec(t);return r?new Nr(r[2]||Ae,mi(r[4]||Ae),mi(r[5]||Ae),mi(r[7]||Ae),mi(r[9]||Ae),n):new Nr(Ae,Ae,Ae,Ae,Ae)}static file(t){let n=Ae;if(vs&&(t=t.replace(/\\/g,Tt)),t[0]===Tt&&t[1]===Tt){const r=t.indexOf(Tt,2);r===-1?(n=t.substring(2),t=Tt):(n=t.substring(2,r),t=t.substring(r)||Tt)}return new Nr("file",n,t,Ae,Ae)}static from(t,n){return new Nr(t.scheme,t.authority,t.path,t.query,t.fragment,n)}static joinPath(t,...n){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let r;return vs&&t.scheme==="file"?r=Ko.file(Qe.join(ha(t,!0),...n)).path:r=Ke.join(t.path,...n),t.with({path:r})}toString(t=!1){return da(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof Ko)return t;{const n=new Nr(t);return n._formatted=t.external??null,n._fsPath=t._sep===pc?t.fsPath??null:null,n}}else return t}};const pc=vs?1:void 0;class Nr extends qt{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=ha(this,!1)),this._fsPath}toString(t=!1){return t?da(this,!0):(this._formatted||(this._formatted=da(this,!1)),this._formatted)}toJSON(){const t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=pc),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t}}const bc={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function yc(e,t,n){let r,s=-1;for(let i=0;i<e.length;i++){const o=e.charCodeAt(i);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||o===45||o===46||o===95||o===126||t&&o===47||n&&o===91||n&&o===93||n&&o===58)s!==-1&&(r+=encodeURIComponent(e.substring(s,i)),s=-1),r!==void 0&&(r+=e.charAt(i));else{r===void 0&&(r=e.substr(0,i));const a=bc[o];a!==void 0?(s!==-1&&(r+=encodeURIComponent(e.substring(s,i)),s=-1),r+=a):s===-1&&(s=i)}}return s!==-1&&(r+=encodeURIComponent(e.substring(s))),r!==void 0?r:e}function bp(e){let t;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r===35||r===63?(t===void 0&&(t=e.substr(0,n)),t+=bc[r]):t!==void 0&&(t+=e[n])}return t!==void 0?t:e}function ha(e,t){let n;return e.authority&&e.path.length>1&&e.scheme==="file"?n=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?n=e.path.substr(1):n=e.path[1].toLowerCase()+e.path.substr(2):n=e.path,vs&&(n=n.replace(/\//g,"\\")),n}function da(e,t){const n=t?bp:yc;let r="",{scheme:s,authority:i,path:o,query:a,fragment:l}=e;if(s&&(r+=s,r+=":"),(i||s==="file")&&(r+=Tt,r+=Tt),i){let u=i.indexOf("@");if(u!==-1){const f=i.substr(0,u);i=i.substr(u+1),u=f.lastIndexOf(":"),u===-1?r+=n(f,!1,!1):(r+=n(f.substr(0,u),!1,!1),r+=":",r+=n(f.substr(u+1),!1,!0)),r+="@"}i=i.toLowerCase(),u=i.lastIndexOf(":"),u===-1?r+=n(i,!1,!0):(r+=n(i.substr(0,u),!1,!0),r+=i.substr(u))}if(o){if(o.length>=3&&o.charCodeAt(0)===47&&o.charCodeAt(2)===58){const u=o.charCodeAt(1);u>=65&&u<=90&&(o=`/${String.fromCharCode(u+32)}:${o.substr(3)}`)}else if(o.length>=2&&o.charCodeAt(1)===58){const u=o.charCodeAt(0);u>=65&&u<=90&&(o=`${String.fromCharCode(u+32)}:${o.substr(2)}`)}r+=n(o,!0,!1)}return a&&(r+="?",r+=n(a,!1,!1)),l&&(r+="#",r+=t?l:yc(l,!1,!1)),r}function vc(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+vc(e.substr(3)):e}}const Dc=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function mi(e){return e.match(Dc)?e.replace(Dc,t=>vc(t)):e}var Cn;(function(e){e.inMemory="inmemory",e.vscode="vscode",e.internal="private",e.walkThrough="walkThrough",e.walkThroughSnippet="walkThroughSnippet",e.http="http",e.https="https",e.file="file",e.mailto="mailto",e.untitled="untitled",e.data="data",e.command="command",e.vscodeRemote="vscode-remote",e.vscodeRemoteResource="vscode-remote-resource",e.vscodeManagedRemoteResource="vscode-managed-remote-resource",e.vscodeUserData="vscode-userdata",e.vscodeCustomEditor="vscode-custom-editor",e.vscodeNotebookCell="vscode-notebook-cell",e.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",e.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",e.vscodeNotebookCellOutput="vscode-notebook-cell-output",e.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",e.vscodeNotebookMetadata="vscode-notebook-metadata",e.vscodeInteractiveInput="vscode-interactive-input",e.vscodeSettings="vscode-settings",e.vscodeWorkspaceTrust="vscode-workspace-trust",e.vscodeTerminal="vscode-terminal",e.vscodeChatCodeBlock="vscode-chat-code-block",e.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",e.vscodeChatSesssion="vscode-chat-editor",e.webviewPanel="webview-panel",e.vscodeWebview="vscode-webview",e.extension="extension",e.vscodeFileResource="vscode-file",e.tmp="tmp",e.vsls="vsls",e.vscodeSourceControl="vscode-scm",e.commentsInput="comment",e.codeSetting="code-setting",e.outputChannel="output"})(Cn||(Cn={}));const yp="tkn";class vp{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._serverRootPath="/"}setPreferredWebSchema(t){this._preferredWebSchema=t}get _remoteResourcesPath(){return Ke.join(this._serverRootPath,Cn.vscodeRemoteResource)}rewrite(t){if(this._delegate)try{return this._delegate(t)}catch(a){return jt(a),t}const n=t.authority;let r=this._hosts[n];r&&r.indexOf(":")!==-1&&r.indexOf("[")===-1&&(r=`[${r}]`);const s=this._ports[n],i=this._connectionTokens[n];let o=`path=${encodeURIComponent(t.path)}`;return typeof i=="string"&&(o+=`&${yp}=${encodeURIComponent(i)}`),qt.from({scheme:I0?this._preferredWebSchema:Cn.vscodeRemoteResource,authority:`${r}:${s}`,path:this._remoteResourcesPath,query:o})}}const Dp=new vp,wp="vscode-app",ri=class ri{asBrowserUri(t){const n=this.toUri(t);return this.uriToBrowserUri(n)}uriToBrowserUri(t){return t.scheme===Cn.vscodeRemote?Dp.rewrite(t):t.scheme===Cn.file&&($0||B0===`${Cn.vscodeFileResource}://${ri.FALLBACK_AUTHORITY}`)?t.with({scheme:Cn.vscodeFileResource,authority:t.authority||ri.FALLBACK_AUTHORITY,query:null,fragment:null}):t}toUri(t,n){if(qt.isUri(t))return t;if(globalThis._VSCODE_FILE_ROOT){const r=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(r))return qt.joinPath(qt.parse(r,!0),t);const s=up(r,t);return qt.file(s)}return qt.parse(n.toUrl(t))}};ri.FALLBACK_AUTHORITY=wp;let ma=ri;const wc=new ma;var Sc;(function(e){const t=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);e.CoopAndCoep=Object.freeze(t.get("3"));const n="vscode-coi";function r(i){let o;typeof i=="string"?o=new URL(i).searchParams:i instanceof URL?o=i.searchParams:qt.isUri(i)&&(o=new URL(i.toString(!0)).searchParams);const a=o==null?void 0:o.get(n);if(a)return t.get(a)}e.getHeadersFromQuery=r;function s(i,o,a){if(!globalThis.crossOriginIsolated)return;const l=o&&a?"3":a?"2":"1";i instanceof URLSearchParams?i.set(n,l):i[n]=l}e.addSearchParam=s})(Sc||(Sc={}));const ga="default",Sp="$initialize";class Ep{constructor(t,n,r,s,i){this.vsWorker=t,this.req=n,this.channel=r,this.method=s,this.args=i,this.type=0}}class Ec{constructor(t,n,r,s){this.vsWorker=t,this.seq=n,this.res=r,this.err=s,this.type=1}}class Ap{constructor(t,n,r,s,i){this.vsWorker=t,this.req=n,this.channel=r,this.eventName=s,this.arg=i,this.type=2}}class Np{constructor(t,n,r){this.vsWorker=t,this.req=n,this.event=r,this.type=3}}class xp{constructor(t,n){this.vsWorker=t,this.req=n,this.type=4}}class Lp{constructor(t){this._workerId=-1,this._handler=t,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(t){this._workerId=t}sendMessage(t,n,r){const s=String(++this._lastSentReq);return new Promise((i,o)=>{this._pendingReplies[s]={resolve:i,reject:o},this._send(new Ep(this._workerId,s,t,n,r))})}listen(t,n,r){let s=null;const i=new Dt({onWillAddFirstListener:()=>{s=String(++this._lastSentReq),this._pendingEmitters.set(s,i),this._send(new Ap(this._workerId,s,t,n,r))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(s),this._send(new xp(this._workerId,s)),s=null}});return i.event}handleMessage(t){!t||!t.vsWorker||this._workerId!==-1&&t.vsWorker!==this._workerId||this._handleMessage(t)}createProxyToRemoteChannel(t,n){const r={get:(s,i)=>(typeof i=="string"&&!s[i]&&(Nc(i)?s[i]=o=>this.listen(t,i,o):Ac(i)?s[i]=this.listen(t,i,void 0):i.charCodeAt(0)===36&&(s[i]=async(...o)=>(await(n==null?void 0:n()),this.sendMessage(t,i,o)))),s[i])};return new Proxy(Object.create(null),r)}_handleMessage(t){switch(t.type){case 1:return this._handleReplyMessage(t);case 0:return this._handleRequestMessage(t);case 2:return this._handleSubscribeEventMessage(t);case 3:return this._handleEventMessage(t);case 4:return this._handleUnsubscribeEventMessage(t)}}_handleReplyMessage(t){if(!this._pendingReplies[t.seq]){console.warn("Got reply to unknown seq");return}const n=this._pendingReplies[t.seq];if(delete this._pendingReplies[t.seq],t.err){let r=t.err;t.err.$isError&&(r=new Error,r.name=t.err.name,r.message=t.err.message,r.stack=t.err.stack),n.reject(r);return}n.resolve(t.res)}_handleRequestMessage(t){const n=t.req;this._handler.handleMessage(t.channel,t.method,t.args).then(s=>{this._send(new Ec(this._workerId,n,s,void 0))},s=>{s.detail instanceof Error&&(s.detail=ic(s.detail)),this._send(new Ec(this._workerId,n,void 0,ic(s)))})}_handleSubscribeEventMessage(t){const n=t.req,r=this._handler.handleEvent(t.channel,t.eventName,t.arg)(s=>{this._send(new Np(this._workerId,n,s))});this._pendingEvents.set(n,r)}_handleEventMessage(t){if(!this._pendingEmitters.has(t.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(t.req).fire(t.event)}_handleUnsubscribeEventMessage(t){if(!this._pendingEvents.has(t.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(t.req).dispose(),this._pendingEvents.delete(t.req)}_send(t){const n=[];if(t.type===0)for(let r=0;r<t.args.length;r++)t.args[r]instanceof ArrayBuffer&&n.push(t.args[r]);else t.type===1&&t.res instanceof ArrayBuffer&&n.push(t.res);this._handler.sendMessage(t,n)}}function Ac(e){return e[0]==="o"&&e[1]==="n"&&hc(e.charCodeAt(2))}function Nc(e){return/^onDynamic/.test(e)&&hc(e.charCodeAt(9))}class Cp{constructor(t,n){this._localChannels=new Map,this._remoteChannels=new Map,this._requestHandlerFactory=n,this._requestHandler=null,this._protocol=new Lp({sendMessage:(r,s)=>{t(r,s)},handleMessage:(r,s,i)=>this._handleMessage(r,s,i),handleEvent:(r,s,i)=>this._handleEvent(r,s,i)})}onmessage(t){this._protocol.handleMessage(t)}_handleMessage(t,n,r){if(t===ga&&n===Sp)return this.initialize(r[0],r[1],r[2]);const s=t===ga?this._requestHandler:this._localChannels.get(t);if(!s)return Promise.reject(new Error(`Missing channel ${t} on worker thread`));if(typeof s[n]!="function")return Promise.reject(new Error(`Missing method ${n} on worker thread channel ${t}`));try{return Promise.resolve(s[n].apply(s,r))}catch(i){return Promise.reject(i)}}_handleEvent(t,n,r){const s=t===ga?this._requestHandler:this._localChannels.get(t);if(!s)throw new Error(`Missing channel ${t} on worker thread`);if(Nc(n)){const i=s[n].call(s,r);if(typeof i!="function")throw new Error(`Missing dynamic event ${n} on request handler.`);return i}if(Ac(n)){const i=s[n];if(typeof i!="function")throw new Error(`Missing event ${n} on request handler.`);return i}throw new Error(`Malformed event name ${n}`)}getChannel(t){if(!this._remoteChannels.has(t)){const n=this._protocol.createProxyToRemoteChannel(t);this._remoteChannels.set(t,n)}return this._remoteChannels.get(t)}async initialize(t,n,r){if(this._protocol.setWorkerId(t),this._requestHandlerFactory){this._requestHandler=this._requestHandlerFactory(this);return}return n&&(typeof n.baseUrl<"u"&&delete n.baseUrl,typeof n.paths<"u"&&typeof n.paths.vs<"u"&&delete n.paths.vs,typeof n.trustedTypesPolicy<"u"&&delete n.trustedTypesPolicy,n.catchError=!0,globalThis.require.config(n)),import(`${wc.asBrowserUri(`${r}.js`).toString(!0)}`).then(i=>{if(this._requestHandler=i.create(this),!this._requestHandler)throw new Error("No RequestHandler!")})}}class kn{constructor(t,n,r,s){this.originalStart=t,this.originalLength=n,this.modifiedStart=r,this.modifiedLength=s}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}function xc(e,t){return(t<<5)-t+e|0}function kp(e,t){t=xc(149417,t);for(let n=0,r=e.length;n<r;n++)t=xc(e.charCodeAt(n),t);return t}class Lc{constructor(t){this.source=t}getElements(){const t=this.source,n=new Int32Array(t.length);for(let r=0,s=t.length;r<s;r++)n[r]=t.charCodeAt(r);return n}}function Fp(e,t,n){return new Fn(new Lc(e),new Lc(t)).ComputeDiff(n).changes}class xr{static Assert(t,n){if(!t)throw new Error(n)}}class Lr{static Copy(t,n,r,s,i){for(let o=0;o<i;o++)r[s+o]=t[n+o]}static Copy2(t,n,r,s,i){for(let o=0;o<i;o++)r[s+o]=t[n+o]}}class Cc{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new kn(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(t,n){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,n),this.m_originalCount++}AddModifiedElement(t,n){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,n),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class Fn{constructor(t,n,r=null){this.ContinueProcessingPredicate=r,this._originalSequence=t,this._modifiedSequence=n;const[s,i,o]=Fn._getElements(t),[a,l,u]=Fn._getElements(n);this._hasStrings=o&&u,this._originalStringElements=s,this._originalElementsOrHash=i,this._modifiedStringElements=a,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(t){return t.length>0&&typeof t[0]=="string"}static _getElements(t){const n=t.getElements();if(Fn._isStringArray(n)){const r=new Int32Array(n.length);for(let s=0,i=n.length;s<i;s++)r[s]=kp(n[s],0);return[n,r,!0]}return n instanceof Int32Array?[[],n,!1]:[[],new Int32Array(n),!1]}ElementsAreEqual(t,n){return this._originalElementsOrHash[t]!==this._modifiedElementsOrHash[n]?!1:this._hasStrings?this._originalStringElements[t]===this._modifiedStringElements[n]:!0}ElementsAreStrictEqual(t,n){if(!this.ElementsAreEqual(t,n))return!1;const r=Fn._getStrictElement(this._originalSequence,t),s=Fn._getStrictElement(this._modifiedSequence,n);return r===s}static _getStrictElement(t,n){return typeof t.getStrictElement=="function"?t.getStrictElement(n):null}OriginalElementsAreEqual(t,n){return this._originalElementsOrHash[t]!==this._originalElementsOrHash[n]?!1:this._hasStrings?this._originalStringElements[t]===this._originalStringElements[n]:!0}ModifiedElementsAreEqual(t,n){return this._modifiedElementsOrHash[t]!==this._modifiedElementsOrHash[n]?!1:this._hasStrings?this._modifiedStringElements[t]===this._modifiedStringElements[n]:!0}ComputeDiff(t){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,t)}_ComputeDiff(t,n,r,s,i){const o=[!1];let a=this.ComputeDiffRecursive(t,n,r,s,o);return i&&(a=this.PrettifyChanges(a)),{quitEarly:o[0],changes:a}}ComputeDiffRecursive(t,n,r,s,i){for(i[0]=!1;t<=n&&r<=s&&this.ElementsAreEqual(t,r);)t++,r++;for(;n>=t&&s>=r&&this.ElementsAreEqual(n,s);)n--,s--;if(t>n||r>s){let c;return r<=s?(xr.Assert(t===n+1,"originalStart should only be one more than originalEnd"),c=[new kn(t,0,r,s-r+1)]):t<=n?(xr.Assert(r===s+1,"modifiedStart should only be one more than modifiedEnd"),c=[new kn(t,n-t+1,r,0)]):(xr.Assert(t===n+1,"originalStart should only be one more than originalEnd"),xr.Assert(r===s+1,"modifiedStart should only be one more than modifiedEnd"),c=[]),c}const o=[0],a=[0],l=this.ComputeRecursionPoint(t,n,r,s,o,a,i),u=o[0],f=a[0];if(l!==null)return l;if(!i[0]){const c=this.ComputeDiffRecursive(t,u,r,f,i);let m=[];return i[0]?m=[new kn(u+1,n-(u+1)+1,f+1,s-(f+1)+1)]:m=this.ComputeDiffRecursive(u+1,n,f+1,s,i),this.ConcatenateChanges(c,m)}return[new kn(t,n-t+1,r,s-r+1)]}WALKTRACE(t,n,r,s,i,o,a,l,u,f,c,m,g,w,A,E,N,k){let b=null,p=null,h=new Cc,d=n,y=r,S=g[0]-E[0]-s,D=-1073741824,x=this.m_forwardHistory.length-1;do{const C=S+t;C===d||C<y&&u[C-1]<u[C+1]?(c=u[C+1],w=c-S-s,c<D&&h.MarkNextChange(),D=c,h.AddModifiedElement(c+1,w),S=C+1-t):(c=u[C-1]+1,w=c-S-s,c<D&&h.MarkNextChange(),D=c-1,h.AddOriginalElement(c,w+1),S=C-1-t),x>=0&&(u=this.m_forwardHistory[x],t=u[0],d=1,y=u.length-1)}while(--x>=-1);if(b=h.getReverseChanges(),k[0]){let C=g[0]+1,L=E[0]+1;if(b!==null&&b.length>0){const _=b[b.length-1];C=Math.max(C,_.getOriginalEnd()),L=Math.max(L,_.getModifiedEnd())}p=[new kn(C,m-C+1,L,A-L+1)]}else{h=new Cc,d=o,y=a,S=g[0]-E[0]-l,D=1073741824,x=N?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const C=S+i;C===d||C<y&&f[C-1]>=f[C+1]?(c=f[C+1]-1,w=c-S-l,c>D&&h.MarkNextChange(),D=c+1,h.AddOriginalElement(c+1,w+1),S=C+1-i):(c=f[C-1],w=c-S-l,c>D&&h.MarkNextChange(),D=c,h.AddModifiedElement(c+1,w+1),S=C-1-i),x>=0&&(f=this.m_reverseHistory[x],i=f[0],d=1,y=f.length-1)}while(--x>=-1);p=h.getChanges()}return this.ConcatenateChanges(b,p)}ComputeRecursionPoint(t,n,r,s,i,o,a){let l=0,u=0,f=0,c=0,m=0,g=0;t--,r--,i[0]=0,o[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const w=n-t+(s-r),A=w+1,E=new Int32Array(A),N=new Int32Array(A),k=s-r,b=n-t,p=t-r,h=n-s,y=(b-k)%2===0;E[k]=t,N[b]=n,a[0]=!1;for(let S=1;S<=w/2+1;S++){let D=0,x=0;f=this.ClipDiagonalBound(k-S,S,k,A),c=this.ClipDiagonalBound(k+S,S,k,A);for(let L=f;L<=c;L+=2){L===f||L<c&&E[L-1]<E[L+1]?l=E[L+1]:l=E[L-1]+1,u=l-(L-k)-p;const _=l;for(;l<n&&u<s&&this.ElementsAreEqual(l+1,u+1);)l++,u++;if(E[L]=l,l+u>D+x&&(D=l,x=u),!y&&Math.abs(L-b)<=S-1&&l>=N[L])return i[0]=l,o[0]=u,_<=N[L]&&S<=1448?this.WALKTRACE(k,f,c,p,b,m,g,h,E,N,l,n,i,u,s,o,y,a):null}const C=(D-t+(x-r)-S)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(D,C))return a[0]=!0,i[0]=D,o[0]=x,C>0&&S<=1448?this.WALKTRACE(k,f,c,p,b,m,g,h,E,N,l,n,i,u,s,o,y,a):(t++,r++,[new kn(t,n-t+1,r,s-r+1)]);m=this.ClipDiagonalBound(b-S,S,b,A),g=this.ClipDiagonalBound(b+S,S,b,A);for(let L=m;L<=g;L+=2){L===m||L<g&&N[L-1]>=N[L+1]?l=N[L+1]-1:l=N[L-1],u=l-(L-b)-h;const _=l;for(;l>t&&u>r&&this.ElementsAreEqual(l,u);)l--,u--;if(N[L]=l,y&&Math.abs(L-k)<=S&&l<=E[L])return i[0]=l,o[0]=u,_>=E[L]&&S<=1448?this.WALKTRACE(k,f,c,p,b,m,g,h,E,N,l,n,i,u,s,o,y,a):null}if(S<=1447){let L=new Int32Array(c-f+2);L[0]=k-f+1,Lr.Copy2(E,f,L,1,c-f+1),this.m_forwardHistory.push(L),L=new Int32Array(g-m+2),L[0]=b-m+1,Lr.Copy2(N,m,L,1,g-m+1),this.m_reverseHistory.push(L)}}return this.WALKTRACE(k,f,c,p,b,m,g,h,E,N,l,n,i,u,s,o,y,a)}PrettifyChanges(t){for(let n=0;n<t.length;n++){const r=t[n],s=n<t.length-1?t[n+1].originalStart:this._originalElementsOrHash.length,i=n<t.length-1?t[n+1].modifiedStart:this._modifiedElementsOrHash.length,o=r.originalLength>0,a=r.modifiedLength>0;for(;r.originalStart+r.originalLength<s&&r.modifiedStart+r.modifiedLength<i&&(!o||this.OriginalElementsAreEqual(r.originalStart,r.originalStart+r.originalLength))&&(!a||this.ModifiedElementsAreEqual(r.modifiedStart,r.modifiedStart+r.modifiedLength));){const u=this.ElementsAreStrictEqual(r.originalStart,r.modifiedStart);if(this.ElementsAreStrictEqual(r.originalStart+r.originalLength,r.modifiedStart+r.modifiedLength)&&!u)break;r.originalStart++,r.modifiedStart++}const l=[null];if(n<t.length-1&&this.ChangesOverlap(t[n],t[n+1],l)){t[n]=l[0],t.splice(n+1,1),n--;continue}}for(let n=t.length-1;n>=0;n--){const r=t[n];let s=0,i=0;if(n>0){const c=t[n-1];s=c.originalStart+c.originalLength,i=c.modifiedStart+c.modifiedLength}const o=r.originalLength>0,a=r.modifiedLength>0;let l=0,u=this._boundaryScore(r.originalStart,r.originalLength,r.modifiedStart,r.modifiedLength);for(let c=1;;c++){const m=r.originalStart-c,g=r.modifiedStart-c;if(m<s||g<i||o&&!this.OriginalElementsAreEqual(m,m+r.originalLength)||a&&!this.ModifiedElementsAreEqual(g,g+r.modifiedLength))break;const A=(m===s&&g===i?5:0)+this._boundaryScore(m,r.originalLength,g,r.modifiedLength);A>u&&(u=A,l=c)}r.originalStart-=l,r.modifiedStart-=l;const f=[null];if(n>0&&this.ChangesOverlap(t[n-1],t[n],f)){t[n-1]=f[0],t.splice(n,1),n++;continue}}if(this._hasStrings)for(let n=1,r=t.length;n<r;n++){const s=t[n-1],i=t[n],o=i.originalStart-s.originalStart-s.originalLength,a=s.originalStart,l=i.originalStart+i.originalLength,u=l-a,f=s.modifiedStart,c=i.modifiedStart+i.modifiedLength,m=c-f;if(o<5&&u<20&&m<20){const g=this._findBetterContiguousSequence(a,u,f,m,o);if(g){const[w,A]=g;(w!==s.originalStart+s.originalLength||A!==s.modifiedStart+s.modifiedLength)&&(s.originalLength=w-s.originalStart,s.modifiedLength=A-s.modifiedStart,i.originalStart=w+o,i.modifiedStart=A+o,i.originalLength=l-i.originalStart,i.modifiedLength=c-i.modifiedStart)}}}return t}_findBetterContiguousSequence(t,n,r,s,i){if(n<i||s<i)return null;const o=t+n-i+1,a=r+s-i+1;let l=0,u=0,f=0;for(let c=t;c<o;c++)for(let m=r;m<a;m++){const g=this._contiguousSequenceScore(c,m,i);g>0&&g>l&&(l=g,u=c,f=m)}return l>0?[u,f]:null}_contiguousSequenceScore(t,n,r){let s=0;for(let i=0;i<r;i++){if(!this.ElementsAreEqual(t+i,n+i))return 0;s+=this._originalStringElements[t+i].length}return s}_OriginalIsBoundary(t){return t<=0||t>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[t])}_OriginalRegionIsBoundary(t,n){if(this._OriginalIsBoundary(t)||this._OriginalIsBoundary(t-1))return!0;if(n>0){const r=t+n;if(this._OriginalIsBoundary(r-1)||this._OriginalIsBoundary(r))return!0}return!1}_ModifiedIsBoundary(t){return t<=0||t>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[t])}_ModifiedRegionIsBoundary(t,n){if(this._ModifiedIsBoundary(t)||this._ModifiedIsBoundary(t-1))return!0;if(n>0){const r=t+n;if(this._ModifiedIsBoundary(r-1)||this._ModifiedIsBoundary(r))return!0}return!1}_boundaryScore(t,n,r,s){const i=this._OriginalRegionIsBoundary(t,n)?1:0,o=this._ModifiedRegionIsBoundary(r,s)?1:0;return i+o}ConcatenateChanges(t,n){const r=[];if(t.length===0||n.length===0)return n.length>0?n:t;if(this.ChangesOverlap(t[t.length-1],n[0],r)){const s=new Array(t.length+n.length-1);return Lr.Copy(t,0,s,0,t.length-1),s[t.length-1]=r[0],Lr.Copy(n,1,s,t.length,n.length-1),s}else{const s=new Array(t.length+n.length);return Lr.Copy(t,0,s,0,t.length),Lr.Copy(n,0,s,t.length,n.length),s}}ChangesOverlap(t,n,r){if(xr.Assert(t.originalStart<=n.originalStart,"Left change is not less than or equal to right change"),xr.Assert(t.modifiedStart<=n.modifiedStart,"Left change is not less than or equal to right change"),t.originalStart+t.originalLength>=n.originalStart||t.modifiedStart+t.modifiedLength>=n.modifiedStart){const s=t.originalStart;let i=t.originalLength;const o=t.modifiedStart;let a=t.modifiedLength;return t.originalStart+t.originalLength>=n.originalStart&&(i=n.originalStart+n.originalLength-t.originalStart),t.modifiedStart+t.modifiedLength>=n.modifiedStart&&(a=n.modifiedStart+n.modifiedLength-t.modifiedStart),r[0]=new kn(s,i,o,a),!0}else return r[0]=null,!1}ClipDiagonalBound(t,n,r,s){if(t>=0&&t<s)return t;const i=r,o=s-r-1,a=n%2===0;if(t<0){const l=i%2===0;return a===l?0:1}else{const l=o%2===0;return a===l?s-1:s-2}}}let Oe=class vr{constructor(t,n){this.lineNumber=t,this.column=n}with(t=this.lineNumber,n=this.column){return t===this.lineNumber&&n===this.column?this:new vr(t,n)}delta(t=0,n=0){return this.with(this.lineNumber+t,this.column+n)}equals(t){return vr.equals(this,t)}static equals(t,n){return!t&&!n?!0:!!t&&!!n&&t.lineNumber===n.lineNumber&&t.column===n.column}isBefore(t){return vr.isBefore(this,t)}static isBefore(t,n){return t.lineNumber<n.lineNumber?!0:n.lineNumber<t.lineNumber?!1:t.column<n.column}isBeforeOrEqual(t){return vr.isBeforeOrEqual(this,t)}static isBeforeOrEqual(t,n){return t.lineNumber<n.lineNumber?!0:n.lineNumber<t.lineNumber?!1:t.column<=n.column}static compare(t,n){const r=t.lineNumber|0,s=n.lineNumber|0;if(r===s){const i=t.column|0,o=n.column|0;return i-o}return r-s}clone(){return new vr(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(t){return new vr(t.lineNumber,t.column)}static isIPosition(t){return t&&typeof t.lineNumber=="number"&&typeof t.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}},me=class Ve{constructor(t,n,r,s){t>r||t===r&&n>s?(this.startLineNumber=r,this.startColumn=s,this.endLineNumber=t,this.endColumn=n):(this.startLineNumber=t,this.startColumn=n,this.endLineNumber=r,this.endColumn=s)}isEmpty(){return Ve.isEmpty(this)}static isEmpty(t){return t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn}containsPosition(t){return Ve.containsPosition(this,t)}static containsPosition(t,n){return!(n.lineNumber<t.startLineNumber||n.lineNumber>t.endLineNumber||n.lineNumber===t.startLineNumber&&n.column<t.startColumn||n.lineNumber===t.endLineNumber&&n.column>t.endColumn)}static strictContainsPosition(t,n){return!(n.lineNumber<t.startLineNumber||n.lineNumber>t.endLineNumber||n.lineNumber===t.startLineNumber&&n.column<=t.startColumn||n.lineNumber===t.endLineNumber&&n.column>=t.endColumn)}containsRange(t){return Ve.containsRange(this,t)}static containsRange(t,n){return!(n.startLineNumber<t.startLineNumber||n.endLineNumber<t.startLineNumber||n.startLineNumber>t.endLineNumber||n.endLineNumber>t.endLineNumber||n.startLineNumber===t.startLineNumber&&n.startColumn<t.startColumn||n.endLineNumber===t.endLineNumber&&n.endColumn>t.endColumn)}strictContainsRange(t){return Ve.strictContainsRange(this,t)}static strictContainsRange(t,n){return!(n.startLineNumber<t.startLineNumber||n.endLineNumber<t.startLineNumber||n.startLineNumber>t.endLineNumber||n.endLineNumber>t.endLineNumber||n.startLineNumber===t.startLineNumber&&n.startColumn<=t.startColumn||n.endLineNumber===t.endLineNumber&&n.endColumn>=t.endColumn)}plusRange(t){return Ve.plusRange(this,t)}static plusRange(t,n){let r,s,i,o;return n.startLineNumber<t.startLineNumber?(r=n.startLineNumber,s=n.startColumn):n.startLineNumber===t.startLineNumber?(r=n.startLineNumber,s=Math.min(n.startColumn,t.startColumn)):(r=t.startLineNumber,s=t.startColumn),n.endLineNumber>t.endLineNumber?(i=n.endLineNumber,o=n.endColumn):n.endLineNumber===t.endLineNumber?(i=n.endLineNumber,o=Math.max(n.endColumn,t.endColumn)):(i=t.endLineNumber,o=t.endColumn),new Ve(r,s,i,o)}intersectRanges(t){return Ve.intersectRanges(this,t)}static intersectRanges(t,n){let r=t.startLineNumber,s=t.startColumn,i=t.endLineNumber,o=t.endColumn;const a=n.startLineNumber,l=n.startColumn,u=n.endLineNumber,f=n.endColumn;return r<a?(r=a,s=l):r===a&&(s=Math.max(s,l)),i>u?(i=u,o=f):i===u&&(o=Math.min(o,f)),r>i||r===i&&s>o?null:new Ve(r,s,i,o)}equalsRange(t){return Ve.equalsRange(this,t)}static equalsRange(t,n){return!t&&!n?!0:!!t&&!!n&&t.startLineNumber===n.startLineNumber&&t.startColumn===n.startColumn&&t.endLineNumber===n.endLineNumber&&t.endColumn===n.endColumn}getEndPosition(){return Ve.getEndPosition(this)}static getEndPosition(t){return new Oe(t.endLineNumber,t.endColumn)}getStartPosition(){return Ve.getStartPosition(this)}static getStartPosition(t){return new Oe(t.startLineNumber,t.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(t,n){return new Ve(this.startLineNumber,this.startColumn,t,n)}setStartPosition(t,n){return new Ve(t,n,this.endLineNumber,this.endColumn)}collapseToStart(){return Ve.collapseToStart(this)}static collapseToStart(t){return new Ve(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)}collapseToEnd(){return Ve.collapseToEnd(this)}static collapseToEnd(t){return new Ve(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn)}delta(t){return new Ve(this.startLineNumber+t,this.startColumn,this.endLineNumber+t,this.endColumn)}static fromPositions(t,n=t){return new Ve(t.lineNumber,t.column,n.lineNumber,n.column)}static lift(t){return t?new Ve(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null}static isIRange(t){return t&&typeof t.startLineNumber=="number"&&typeof t.startColumn=="number"&&typeof t.endLineNumber=="number"&&typeof t.endColumn=="number"}static areIntersectingOrTouching(t,n){return!(t.endLineNumber<n.startLineNumber||t.endLineNumber===n.startLineNumber&&t.endColumn<n.startColumn||n.endLineNumber<t.startLineNumber||n.endLineNumber===t.startLineNumber&&n.endColumn<t.startColumn)}static areIntersecting(t,n){return!(t.endLineNumber<n.startLineNumber||t.endLineNumber===n.startLineNumber&&t.endColumn<=n.startColumn||n.endLineNumber<t.startLineNumber||n.endLineNumber===t.startLineNumber&&n.endColumn<=t.startColumn)}static compareRangesUsingStarts(t,n){if(t&&n){const i=t.startLineNumber|0,o=n.startLineNumber|0;if(i===o){const a=t.startColumn|0,l=n.startColumn|0;if(a===l){const u=t.endLineNumber|0,f=n.endLineNumber|0;if(u===f){const c=t.endColumn|0,m=n.endColumn|0;return c-m}return u-f}return a-l}return i-o}return(t?1:0)-(n?1:0)}static compareRangesUsingEnds(t,n){return t.endLineNumber===n.endLineNumber?t.endColumn===n.endColumn?t.startLineNumber===n.startLineNumber?t.startColumn-n.startColumn:t.startLineNumber-n.startLineNumber:t.endColumn-n.endColumn:t.endLineNumber-n.endLineNumber}static spansMultipleLines(t){return t.endLineNumber>t.startLineNumber}toJSON(){return this}};function kc(e){return e<0?0:e>255?255:e|0}function Cr(e){return e<0?0:e>4294967295?4294967295:e|0}class pa{constructor(t){const n=kc(t);this._defaultValue=n,this._asciiMap=pa._createAsciiMap(n),this._map=new Map}static _createAsciiMap(t){const n=new Uint8Array(256);return n.fill(t),n}set(t,n){const r=kc(n);t>=0&&t<256?this._asciiMap[t]=r:this._map.set(t,r)}get(t){return t>=0&&t<256?this._asciiMap[t]:this._map.get(t)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class _p{constructor(t,n,r){const s=new Uint8Array(t*n);for(let i=0,o=t*n;i<o;i++)s[i]=r;this._data=s,this.rows=t,this.cols=n}get(t,n){return this._data[t*this.cols+n]}set(t,n,r){this._data[t*this.cols+n]=r}}class Tp{constructor(t){let n=0,r=0;for(let i=0,o=t.length;i<o;i++){const[a,l,u]=t[i];l>n&&(n=l),a>r&&(r=a),u>r&&(r=u)}n++,r++;const s=new _p(r,n,0);for(let i=0,o=t.length;i<o;i++){const[a,l,u]=t[i];s.set(a,l,u)}this._states=s,this._maxCharCode=n}nextState(t,n){return n<0||n>=this._maxCharCode?0:this._states.get(t,n)}}let ba=null;function Mp(){return ba===null&&(ba=new Tp([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),ba}let Ss=null;function Op(){if(Ss===null){Ss=new pa(0);const e=` 	<>'"、。｡､，．：；‘〈「『〔（［｛｢｣｝］）〕』」〉’｀～…`;for(let n=0;n<e.length;n++)Ss.set(e.charCodeAt(n),1);const t=".,;:";for(let n=0;n<t.length;n++)Ss.set(t.charCodeAt(n),2)}return Ss}class gi{static _createLink(t,n,r,s,i){let o=i-1;do{const a=n.charCodeAt(o);if(t.get(a)!==2)break;o--}while(o>s);if(s>0){const a=n.charCodeAt(s-1),l=n.charCodeAt(o);(a===40&&l===41||a===91&&l===93||a===123&&l===125)&&o--}return{range:{startLineNumber:r,startColumn:s+1,endLineNumber:r,endColumn:o+2},url:n.substring(s,o+1)}}static computeLinks(t,n=Mp()){const r=Op(),s=[];for(let i=1,o=t.getLineCount();i<=o;i++){const a=t.getLineContent(i),l=a.length;let u=0,f=0,c=0,m=1,g=!1,w=!1,A=!1,E=!1;for(;u<l;){let N=!1;const k=a.charCodeAt(u);if(m===13){let b;switch(k){case 40:g=!0,b=0;break;case 41:b=g?0:1;break;case 91:A=!0,w=!0,b=0;break;case 93:A=!1,b=w?0:1;break;case 123:E=!0,b=0;break;case 125:b=E?0:1;break;case 39:case 34:case 96:c===k?b=1:c===39||c===34||c===96?b=0:b=1;break;case 42:b=c===42?1:0;break;case 124:b=c===124?1:0;break;case 32:b=A?0:1;break;default:b=r.get(k)}b===1&&(s.push(gi._createLink(r,a,i,f,u)),N=!0)}else if(m===12){let b;k===91?(w=!0,b=0):b=r.get(k),b===1?N=!0:m=13}else m=n.nextState(m,k),m===0&&(N=!0);N&&(m=1,g=!1,w=!1,E=!1,f=u+1,c=k),u++}m===13&&s.push(gi._createLink(r,a,i,f,l))}return s}}function Rp(e){return!e||typeof e.getLineCount!="function"||typeof e.getLineContent!="function"?[]:gi.computeLinks(e)}const Yo=class Yo{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(t,n,r,s,i){if(t&&n){const o=this.doNavigateValueSet(n,i);if(o)return{range:t,value:o}}if(r&&s){const o=this.doNavigateValueSet(s,i);if(o)return{range:r,value:o}}return null}doNavigateValueSet(t,n){const r=this.numberReplace(t,n);return r!==null?r:this.textReplace(t,n)}numberReplace(t,n){const r=Math.pow(10,t.length-(t.lastIndexOf(".")+1));let s=Number(t);const i=parseFloat(t);return!isNaN(s)&&!isNaN(i)&&s===i?s===0&&!n?null:(s=Math.floor(s*r),s+=n?r:-r,String(s/r)):null}textReplace(t,n){return this.valueSetsReplace(this._defaultValueSet,t,n)}valueSetsReplace(t,n,r){let s=null;for(let i=0,o=t.length;s===null&&i<o;i++)s=this.valueSetReplace(t[i],n,r);return s}valueSetReplace(t,n,r){let s=t.indexOf(n);return s>=0?(s+=r?1:-1,s<0?s=t.length-1:s%=t.length,t[s]):null}};Yo.INSTANCE=new Yo;let ya=Yo;const Fc=Object.freeze(function(e,t){const n=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(n)}}});var pi;(function(e){function t(n){return n===e.None||n===e.Cancelled||n instanceof bi?!0:!n||typeof n!="object"?!1:typeof n.isCancellationRequested=="boolean"&&typeof n.onCancellationRequested=="function"}e.isCancellationToken=t,e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ci.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Fc})})(pi||(pi={}));class bi{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Fc:(this._emitter||(this._emitter=new Dt),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class Pp{constructor(t){this._token=void 0,this._parentListener=void 0,this._parentListener=t&&t.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new bi),this._token}cancel(){this._token?this._token instanceof bi&&this._token.cancel():this._token=pi.Cancelled}dispose(t=!1){var n;t&&this.cancel(),(n=this._parentListener)==null||n.dispose(),this._token?this._token instanceof bi&&this._token.dispose():this._token=pi.None}}class va{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(t,n){this._keyCodeToStr[t]=n,this._strToKeyCode[n.toLowerCase()]=t}keyCodeToStr(t){return this._keyCodeToStr[t]}strToKeyCode(t){return this._strToKeyCode[t.toLowerCase()]||0}}const yi=new va,Da=new va,wa=new va,$p=new Array(230),Ip=Object.create(null),Bp=Object.create(null);(function(){const e="",t=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",e,e],[1,1,"Hyper",0,e,0,e,e,e],[1,2,"Super",0,e,0,e,e,e],[1,3,"Fn",0,e,0,e,e,e],[1,4,"FnLock",0,e,0,e,e,e],[1,5,"Suspend",0,e,0,e,e,e],[1,6,"Resume",0,e,0,e,e,e],[1,7,"Turbo",0,e,0,e,e,e],[1,8,"Sleep",0,e,0,"VK_SLEEP",e,e],[1,9,"WakeUp",0,e,0,e,e,e],[0,10,"KeyA",31,"A",65,"VK_A",e,e],[0,11,"KeyB",32,"B",66,"VK_B",e,e],[0,12,"KeyC",33,"C",67,"VK_C",e,e],[0,13,"KeyD",34,"D",68,"VK_D",e,e],[0,14,"KeyE",35,"E",69,"VK_E",e,e],[0,15,"KeyF",36,"F",70,"VK_F",e,e],[0,16,"KeyG",37,"G",71,"VK_G",e,e],[0,17,"KeyH",38,"H",72,"VK_H",e,e],[0,18,"KeyI",39,"I",73,"VK_I",e,e],[0,19,"KeyJ",40,"J",74,"VK_J",e,e],[0,20,"KeyK",41,"K",75,"VK_K",e,e],[0,21,"KeyL",42,"L",76,"VK_L",e,e],[0,22,"KeyM",43,"M",77,"VK_M",e,e],[0,23,"KeyN",44,"N",78,"VK_N",e,e],[0,24,"KeyO",45,"O",79,"VK_O",e,e],[0,25,"KeyP",46,"P",80,"VK_P",e,e],[0,26,"KeyQ",47,"Q",81,"VK_Q",e,e],[0,27,"KeyR",48,"R",82,"VK_R",e,e],[0,28,"KeyS",49,"S",83,"VK_S",e,e],[0,29,"KeyT",50,"T",84,"VK_T",e,e],[0,30,"KeyU",51,"U",85,"VK_U",e,e],[0,31,"KeyV",52,"V",86,"VK_V",e,e],[0,32,"KeyW",53,"W",87,"VK_W",e,e],[0,33,"KeyX",54,"X",88,"VK_X",e,e],[0,34,"KeyY",55,"Y",89,"VK_Y",e,e],[0,35,"KeyZ",56,"Z",90,"VK_Z",e,e],[0,36,"Digit1",22,"1",49,"VK_1",e,e],[0,37,"Digit2",23,"2",50,"VK_2",e,e],[0,38,"Digit3",24,"3",51,"VK_3",e,e],[0,39,"Digit4",25,"4",52,"VK_4",e,e],[0,40,"Digit5",26,"5",53,"VK_5",e,e],[0,41,"Digit6",27,"6",54,"VK_6",e,e],[0,42,"Digit7",28,"7",55,"VK_7",e,e],[0,43,"Digit8",29,"8",56,"VK_8",e,e],[0,44,"Digit9",30,"9",57,"VK_9",e,e],[0,45,"Digit0",21,"0",48,"VK_0",e,e],[1,46,"Enter",3,"Enter",13,"VK_RETURN",e,e],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",e,e],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",e,e],[1,49,"Tab",2,"Tab",9,"VK_TAB",e,e],[1,50,"Space",10,"Space",32,"VK_SPACE",e,e],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,e,0,e,e,e],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",e,e],[1,64,"F1",59,"F1",112,"VK_F1",e,e],[1,65,"F2",60,"F2",113,"VK_F2",e,e],[1,66,"F3",61,"F3",114,"VK_F3",e,e],[1,67,"F4",62,"F4",115,"VK_F4",e,e],[1,68,"F5",63,"F5",116,"VK_F5",e,e],[1,69,"F6",64,"F6",117,"VK_F6",e,e],[1,70,"F7",65,"F7",118,"VK_F7",e,e],[1,71,"F8",66,"F8",119,"VK_F8",e,e],[1,72,"F9",67,"F9",120,"VK_F9",e,e],[1,73,"F10",68,"F10",121,"VK_F10",e,e],[1,74,"F11",69,"F11",122,"VK_F11",e,e],[1,75,"F12",70,"F12",123,"VK_F12",e,e],[1,76,"PrintScreen",0,e,0,e,e,e],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",e,e],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",e,e],[1,79,"Insert",19,"Insert",45,"VK_INSERT",e,e],[1,80,"Home",14,"Home",36,"VK_HOME",e,e],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",e,e],[1,82,"Delete",20,"Delete",46,"VK_DELETE",e,e],[1,83,"End",13,"End",35,"VK_END",e,e],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",e,e],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",e],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",e],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",e],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",e],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",e,e],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",e,e],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",e,e],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",e,e],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",e,e],[1,94,"NumpadEnter",3,e,0,e,e,e],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",e,e],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",e,e],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",e,e],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",e,e],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",e,e],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",e,e],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",e,e],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",e,e],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",e,e],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",e,e],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",e,e],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",e,e],[1,107,"ContextMenu",58,"ContextMenu",93,e,e,e],[1,108,"Power",0,e,0,e,e,e],[1,109,"NumpadEqual",0,e,0,e,e,e],[1,110,"F13",71,"F13",124,"VK_F13",e,e],[1,111,"F14",72,"F14",125,"VK_F14",e,e],[1,112,"F15",73,"F15",126,"VK_F15",e,e],[1,113,"F16",74,"F16",127,"VK_F16",e,e],[1,114,"F17",75,"F17",128,"VK_F17",e,e],[1,115,"F18",76,"F18",129,"VK_F18",e,e],[1,116,"F19",77,"F19",130,"VK_F19",e,e],[1,117,"F20",78,"F20",131,"VK_F20",e,e],[1,118,"F21",79,"F21",132,"VK_F21",e,e],[1,119,"F22",80,"F22",133,"VK_F22",e,e],[1,120,"F23",81,"F23",134,"VK_F23",e,e],[1,121,"F24",82,"F24",135,"VK_F24",e,e],[1,122,"Open",0,e,0,e,e,e],[1,123,"Help",0,e,0,e,e,e],[1,124,"Select",0,e,0,e,e,e],[1,125,"Again",0,e,0,e,e,e],[1,126,"Undo",0,e,0,e,e,e],[1,127,"Cut",0,e,0,e,e,e],[1,128,"Copy",0,e,0,e,e,e],[1,129,"Paste",0,e,0,e,e,e],[1,130,"Find",0,e,0,e,e,e],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",e,e],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",e,e],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",e,e],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",e,e],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",e,e],[1,136,"KanaMode",0,e,0,e,e,e],[0,137,"IntlYen",0,e,0,e,e,e],[1,138,"Convert",0,e,0,e,e,e],[1,139,"NonConvert",0,e,0,e,e,e],[1,140,"Lang1",0,e,0,e,e,e],[1,141,"Lang2",0,e,0,e,e,e],[1,142,"Lang3",0,e,0,e,e,e],[1,143,"Lang4",0,e,0,e,e,e],[1,144,"Lang5",0,e,0,e,e,e],[1,145,"Abort",0,e,0,e,e,e],[1,146,"Props",0,e,0,e,e,e],[1,147,"NumpadParenLeft",0,e,0,e,e,e],[1,148,"NumpadParenRight",0,e,0,e,e,e],[1,149,"NumpadBackspace",0,e,0,e,e,e],[1,150,"NumpadMemoryStore",0,e,0,e,e,e],[1,151,"NumpadMemoryRecall",0,e,0,e,e,e],[1,152,"NumpadMemoryClear",0,e,0,e,e,e],[1,153,"NumpadMemoryAdd",0,e,0,e,e,e],[1,154,"NumpadMemorySubtract",0,e,0,e,e,e],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",e,e],[1,156,"NumpadClearEntry",0,e,0,e,e,e],[1,0,e,5,"Ctrl",17,"VK_CONTROL",e,e],[1,0,e,4,"Shift",16,"VK_SHIFT",e,e],[1,0,e,6,"Alt",18,"VK_MENU",e,e],[1,0,e,57,"Meta",91,"VK_COMMAND",e,e],[1,157,"ControlLeft",5,e,0,"VK_LCONTROL",e,e],[1,158,"ShiftLeft",4,e,0,"VK_LSHIFT",e,e],[1,159,"AltLeft",6,e,0,"VK_LMENU",e,e],[1,160,"MetaLeft",57,e,0,"VK_LWIN",e,e],[1,161,"ControlRight",5,e,0,"VK_RCONTROL",e,e],[1,162,"ShiftRight",4,e,0,"VK_RSHIFT",e,e],[1,163,"AltRight",6,e,0,"VK_RMENU",e,e],[1,164,"MetaRight",57,e,0,"VK_RWIN",e,e],[1,165,"BrightnessUp",0,e,0,e,e,e],[1,166,"BrightnessDown",0,e,0,e,e,e],[1,167,"MediaPlay",0,e,0,e,e,e],[1,168,"MediaRecord",0,e,0,e,e,e],[1,169,"MediaFastForward",0,e,0,e,e,e],[1,170,"MediaRewind",0,e,0,e,e,e],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",e,e],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",e,e],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",e,e],[1,174,"Eject",0,e,0,e,e,e],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",e,e],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",e,e],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",e,e],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",e,e],[1,179,"LaunchApp1",0,e,0,"VK_MEDIA_LAUNCH_APP1",e,e],[1,180,"SelectTask",0,e,0,e,e,e],[1,181,"LaunchScreenSaver",0,e,0,e,e,e],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",e,e],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",e,e],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",e,e],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",e,e],[1,186,"BrowserStop",0,e,0,"VK_BROWSER_STOP",e,e],[1,187,"BrowserRefresh",0,e,0,"VK_BROWSER_REFRESH",e,e],[1,188,"BrowserFavorites",0,e,0,"VK_BROWSER_FAVORITES",e,e],[1,189,"ZoomToggle",0,e,0,e,e,e],[1,190,"MailReply",0,e,0,e,e,e],[1,191,"MailForward",0,e,0,e,e,e],[1,192,"MailSend",0,e,0,e,e,e],[1,0,e,114,"KeyInComposition",229,e,e,e],[1,0,e,116,"ABNT_C2",194,"VK_ABNT_C2",e,e],[1,0,e,96,"OEM_8",223,"VK_OEM_8",e,e],[1,0,e,0,e,0,"VK_KANA",e,e],[1,0,e,0,e,0,"VK_HANGUL",e,e],[1,0,e,0,e,0,"VK_JUNJA",e,e],[1,0,e,0,e,0,"VK_FINAL",e,e],[1,0,e,0,e,0,"VK_HANJA",e,e],[1,0,e,0,e,0,"VK_KANJI",e,e],[1,0,e,0,e,0,"VK_CONVERT",e,e],[1,0,e,0,e,0,"VK_NONCONVERT",e,e],[1,0,e,0,e,0,"VK_ACCEPT",e,e],[1,0,e,0,e,0,"VK_MODECHANGE",e,e],[1,0,e,0,e,0,"VK_SELECT",e,e],[1,0,e,0,e,0,"VK_PRINT",e,e],[1,0,e,0,e,0,"VK_EXECUTE",e,e],[1,0,e,0,e,0,"VK_SNAPSHOT",e,e],[1,0,e,0,e,0,"VK_HELP",e,e],[1,0,e,0,e,0,"VK_APPS",e,e],[1,0,e,0,e,0,"VK_PROCESSKEY",e,e],[1,0,e,0,e,0,"VK_PACKET",e,e],[1,0,e,0,e,0,"VK_DBE_SBCSCHAR",e,e],[1,0,e,0,e,0,"VK_DBE_DBCSCHAR",e,e],[1,0,e,0,e,0,"VK_ATTN",e,e],[1,0,e,0,e,0,"VK_CRSEL",e,e],[1,0,e,0,e,0,"VK_EXSEL",e,e],[1,0,e,0,e,0,"VK_EREOF",e,e],[1,0,e,0,e,0,"VK_PLAY",e,e],[1,0,e,0,e,0,"VK_ZOOM",e,e],[1,0,e,0,e,0,"VK_NONAME",e,e],[1,0,e,0,e,0,"VK_PA1",e,e],[1,0,e,0,e,0,"VK_OEM_CLEAR",e,e]],n=[],r=[];for(const s of t){const[i,o,a,l,u,f,c,m,g]=s;if(r[o]||(r[o]=!0,Ip[a]=o,Bp[a.toLowerCase()]=o),!n[l]){if(n[l]=!0,!u)throw new Error(`String representation missing for key code ${l} around scan code ${a}`);yi.define(l,u),Da.define(l,m||u),wa.define(l,g||m||u)}f&&($p[f]=l)}})();var _c;(function(e){function t(a){return yi.keyCodeToStr(a)}e.toString=t;function n(a){return yi.strToKeyCode(a)}e.fromString=n;function r(a){return Da.keyCodeToStr(a)}e.toUserSettingsUS=r;function s(a){return wa.keyCodeToStr(a)}e.toUserSettingsGeneral=s;function i(a){return Da.strToKeyCode(a)||wa.strToKeyCode(a)}e.fromUserSettings=i;function o(a){if(a>=98&&a<=113)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return yi.keyCodeToStr(a)}e.toElectronAccelerator=o})(_c||(_c={}));function Vp(e,t){const n=(t&65535)<<16>>>0;return(e|n)>>>0}class dt extends me{constructor(t,n,r,s){super(t,n,r,s),this.selectionStartLineNumber=t,this.selectionStartColumn=n,this.positionLineNumber=r,this.positionColumn=s}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(t){return dt.selectionsEqual(this,t)}static selectionsEqual(t,n){return t.selectionStartLineNumber===n.selectionStartLineNumber&&t.selectionStartColumn===n.selectionStartColumn&&t.positionLineNumber===n.positionLineNumber&&t.positionColumn===n.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(t,n){return this.getDirection()===0?new dt(this.startLineNumber,this.startColumn,t,n):new dt(t,n,this.startLineNumber,this.startColumn)}getPosition(){return new Oe(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new Oe(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(t,n){return this.getDirection()===0?new dt(t,n,this.endLineNumber,this.endColumn):new dt(this.endLineNumber,this.endColumn,t,n)}static fromPositions(t,n=t){return new dt(t.lineNumber,t.column,n.lineNumber,n.column)}static fromRange(t,n){return n===0?new dt(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):new dt(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)}static liftSelection(t){return new dt(t.selectionStartLineNumber,t.selectionStartColumn,t.positionLineNumber,t.positionColumn)}static selectionsArrEqual(t,n){if(t&&!n||!t&&n)return!1;if(!t&&!n)return!0;if(t.length!==n.length)return!1;for(let r=0,s=t.length;r<s;r++)if(!this.selectionsEqual(t[r],n[r]))return!1;return!0}static isISelection(t){return t&&typeof t.selectionStartLineNumber=="number"&&typeof t.selectionStartColumn=="number"&&typeof t.positionLineNumber=="number"&&typeof t.positionColumn=="number"}static createWithDirection(t,n,r,s,i){return i===0?new dt(t,n,r,s):new dt(r,s,t,n)}}function jp(e){return typeof e=="string"}const Tc=Object.create(null);function v(e,t){if(jp(t)){const n=Tc[t];if(n===void 0)throw new Error(`${e} references an unknown codicon: ${t}`);t=n}return Tc[e]=t,{id:e}}const Up={add:v("add",6e4),plus:v("plus",6e4),gistNew:v("gist-new",6e4),repoCreate:v("repo-create",6e4),lightbulb:v("lightbulb",60001),lightBulb:v("light-bulb",60001),repo:v("repo",60002),repoDelete:v("repo-delete",60002),gistFork:v("gist-fork",60003),repoForked:v("repo-forked",60003),gitPullRequest:v("git-pull-request",60004),gitPullRequestAbandoned:v("git-pull-request-abandoned",60004),recordKeys:v("record-keys",60005),keyboard:v("keyboard",60005),tag:v("tag",60006),gitPullRequestLabel:v("git-pull-request-label",60006),tagAdd:v("tag-add",60006),tagRemove:v("tag-remove",60006),person:v("person",60007),personFollow:v("person-follow",60007),personOutline:v("person-outline",60007),personFilled:v("person-filled",60007),gitBranch:v("git-branch",60008),gitBranchCreate:v("git-branch-create",60008),gitBranchDelete:v("git-branch-delete",60008),sourceControl:v("source-control",60008),mirror:v("mirror",60009),mirrorPublic:v("mirror-public",60009),star:v("star",60010),starAdd:v("star-add",60010),starDelete:v("star-delete",60010),starEmpty:v("star-empty",60010),comment:v("comment",60011),commentAdd:v("comment-add",60011),alert:v("alert",60012),warning:v("warning",60012),search:v("search",60013),searchSave:v("search-save",60013),logOut:v("log-out",60014),signOut:v("sign-out",60014),logIn:v("log-in",60015),signIn:v("sign-in",60015),eye:v("eye",60016),eyeUnwatch:v("eye-unwatch",60016),eyeWatch:v("eye-watch",60016),circleFilled:v("circle-filled",60017),primitiveDot:v("primitive-dot",60017),closeDirty:v("close-dirty",60017),debugBreakpoint:v("debug-breakpoint",60017),debugBreakpointDisabled:v("debug-breakpoint-disabled",60017),debugHint:v("debug-hint",60017),terminalDecorationSuccess:v("terminal-decoration-success",60017),primitiveSquare:v("primitive-square",60018),edit:v("edit",60019),pencil:v("pencil",60019),info:v("info",60020),issueOpened:v("issue-opened",60020),gistPrivate:v("gist-private",60021),gitForkPrivate:v("git-fork-private",60021),lock:v("lock",60021),mirrorPrivate:v("mirror-private",60021),close:v("close",60022),removeClose:v("remove-close",60022),x:v("x",60022),repoSync:v("repo-sync",60023),sync:v("sync",60023),clone:v("clone",60024),desktopDownload:v("desktop-download",60024),beaker:v("beaker",60025),microscope:v("microscope",60025),vm:v("vm",60026),deviceDesktop:v("device-desktop",60026),file:v("file",60027),fileText:v("file-text",60027),more:v("more",60028),ellipsis:v("ellipsis",60028),kebabHorizontal:v("kebab-horizontal",60028),mailReply:v("mail-reply",60029),reply:v("reply",60029),organization:v("organization",60030),organizationFilled:v("organization-filled",60030),organizationOutline:v("organization-outline",60030),newFile:v("new-file",60031),fileAdd:v("file-add",60031),newFolder:v("new-folder",60032),fileDirectoryCreate:v("file-directory-create",60032),trash:v("trash",60033),trashcan:v("trashcan",60033),history:v("history",60034),clock:v("clock",60034),folder:v("folder",60035),fileDirectory:v("file-directory",60035),symbolFolder:v("symbol-folder",60035),logoGithub:v("logo-github",60036),markGithub:v("mark-github",60036),github:v("github",60036),terminal:v("terminal",60037),console:v("console",60037),repl:v("repl",60037),zap:v("zap",60038),symbolEvent:v("symbol-event",60038),error:v("error",60039),stop:v("stop",60039),variable:v("variable",60040),symbolVariable:v("symbol-variable",60040),array:v("array",60042),symbolArray:v("symbol-array",60042),symbolModule:v("symbol-module",60043),symbolPackage:v("symbol-package",60043),symbolNamespace:v("symbol-namespace",60043),symbolObject:v("symbol-object",60043),symbolMethod:v("symbol-method",60044),symbolFunction:v("symbol-function",60044),symbolConstructor:v("symbol-constructor",60044),symbolBoolean:v("symbol-boolean",60047),symbolNull:v("symbol-null",60047),symbolNumeric:v("symbol-numeric",60048),symbolNumber:v("symbol-number",60048),symbolStructure:v("symbol-structure",60049),symbolStruct:v("symbol-struct",60049),symbolParameter:v("symbol-parameter",60050),symbolTypeParameter:v("symbol-type-parameter",60050),symbolKey:v("symbol-key",60051),symbolText:v("symbol-text",60051),symbolReference:v("symbol-reference",60052),goToFile:v("go-to-file",60052),symbolEnum:v("symbol-enum",60053),symbolValue:v("symbol-value",60053),symbolRuler:v("symbol-ruler",60054),symbolUnit:v("symbol-unit",60054),activateBreakpoints:v("activate-breakpoints",60055),archive:v("archive",60056),arrowBoth:v("arrow-both",60057),arrowDown:v("arrow-down",60058),arrowLeft:v("arrow-left",60059),arrowRight:v("arrow-right",60060),arrowSmallDown:v("arrow-small-down",60061),arrowSmallLeft:v("arrow-small-left",60062),arrowSmallRight:v("arrow-small-right",60063),arrowSmallUp:v("arrow-small-up",60064),arrowUp:v("arrow-up",60065),bell:v("bell",60066),bold:v("bold",60067),book:v("book",60068),bookmark:v("bookmark",60069),debugBreakpointConditionalUnverified:v("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:v("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:v("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:v("debug-breakpoint-data-unverified",60072),debugBreakpointData:v("debug-breakpoint-data",60073),debugBreakpointDataDisabled:v("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:v("debug-breakpoint-log-unverified",60074),debugBreakpointLog:v("debug-breakpoint-log",60075),debugBreakpointLogDisabled:v("debug-breakpoint-log-disabled",60075),briefcase:v("briefcase",60076),broadcast:v("broadcast",60077),browser:v("browser",60078),bug:v("bug",60079),calendar:v("calendar",60080),caseSensitive:v("case-sensitive",60081),check:v("check",60082),checklist:v("checklist",60083),chevronDown:v("chevron-down",60084),chevronLeft:v("chevron-left",60085),chevronRight:v("chevron-right",60086),chevronUp:v("chevron-up",60087),chromeClose:v("chrome-close",60088),chromeMaximize:v("chrome-maximize",60089),chromeMinimize:v("chrome-minimize",60090),chromeRestore:v("chrome-restore",60091),circleOutline:v("circle-outline",60092),circle:v("circle",60092),debugBreakpointUnverified:v("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:v("terminal-decoration-incomplete",60092),circleSlash:v("circle-slash",60093),circuitBoard:v("circuit-board",60094),clearAll:v("clear-all",60095),clippy:v("clippy",60096),closeAll:v("close-all",60097),cloudDownload:v("cloud-download",60098),cloudUpload:v("cloud-upload",60099),code:v("code",60100),collapseAll:v("collapse-all",60101),colorMode:v("color-mode",60102),commentDiscussion:v("comment-discussion",60103),creditCard:v("credit-card",60105),dash:v("dash",60108),dashboard:v("dashboard",60109),database:v("database",60110),debugContinue:v("debug-continue",60111),debugDisconnect:v("debug-disconnect",60112),debugPause:v("debug-pause",60113),debugRestart:v("debug-restart",60114),debugStart:v("debug-start",60115),debugStepInto:v("debug-step-into",60116),debugStepOut:v("debug-step-out",60117),debugStepOver:v("debug-step-over",60118),debugStop:v("debug-stop",60119),debug:v("debug",60120),deviceCameraVideo:v("device-camera-video",60121),deviceCamera:v("device-camera",60122),deviceMobile:v("device-mobile",60123),diffAdded:v("diff-added",60124),diffIgnored:v("diff-ignored",60125),diffModified:v("diff-modified",60126),diffRemoved:v("diff-removed",60127),diffRenamed:v("diff-renamed",60128),diff:v("diff",60129),diffSidebyside:v("diff-sidebyside",60129),discard:v("discard",60130),editorLayout:v("editor-layout",60131),emptyWindow:v("empty-window",60132),exclude:v("exclude",60133),extensions:v("extensions",60134),eyeClosed:v("eye-closed",60135),fileBinary:v("file-binary",60136),fileCode:v("file-code",60137),fileMedia:v("file-media",60138),filePdf:v("file-pdf",60139),fileSubmodule:v("file-submodule",60140),fileSymlinkDirectory:v("file-symlink-directory",60141),fileSymlinkFile:v("file-symlink-file",60142),fileZip:v("file-zip",60143),files:v("files",60144),filter:v("filter",60145),flame:v("flame",60146),foldDown:v("fold-down",60147),foldUp:v("fold-up",60148),fold:v("fold",60149),folderActive:v("folder-active",60150),folderOpened:v("folder-opened",60151),gear:v("gear",60152),gift:v("gift",60153),gistSecret:v("gist-secret",60154),gist:v("gist",60155),gitCommit:v("git-commit",60156),gitCompare:v("git-compare",60157),compareChanges:v("compare-changes",60157),gitMerge:v("git-merge",60158),githubAction:v("github-action",60159),githubAlt:v("github-alt",60160),globe:v("globe",60161),grabber:v("grabber",60162),graph:v("graph",60163),gripper:v("gripper",60164),heart:v("heart",60165),home:v("home",60166),horizontalRule:v("horizontal-rule",60167),hubot:v("hubot",60168),inbox:v("inbox",60169),issueReopened:v("issue-reopened",60171),issues:v("issues",60172),italic:v("italic",60173),jersey:v("jersey",60174),json:v("json",60175),kebabVertical:v("kebab-vertical",60176),key:v("key",60177),law:v("law",60178),lightbulbAutofix:v("lightbulb-autofix",60179),linkExternal:v("link-external",60180),link:v("link",60181),listOrdered:v("list-ordered",60182),listUnordered:v("list-unordered",60183),liveShare:v("live-share",60184),loading:v("loading",60185),location:v("location",60186),mailRead:v("mail-read",60187),mail:v("mail",60188),markdown:v("markdown",60189),megaphone:v("megaphone",60190),mention:v("mention",60191),milestone:v("milestone",60192),gitPullRequestMilestone:v("git-pull-request-milestone",60192),mortarBoard:v("mortar-board",60193),move:v("move",60194),multipleWindows:v("multiple-windows",60195),mute:v("mute",60196),noNewline:v("no-newline",60197),note:v("note",60198),octoface:v("octoface",60199),openPreview:v("open-preview",60200),package:v("package",60201),paintcan:v("paintcan",60202),pin:v("pin",60203),play:v("play",60204),run:v("run",60204),plug:v("plug",60205),preserveCase:v("preserve-case",60206),preview:v("preview",60207),project:v("project",60208),pulse:v("pulse",60209),question:v("question",60210),quote:v("quote",60211),radioTower:v("radio-tower",60212),reactions:v("reactions",60213),references:v("references",60214),refresh:v("refresh",60215),regex:v("regex",60216),remoteExplorer:v("remote-explorer",60217),remote:v("remote",60218),remove:v("remove",60219),replaceAll:v("replace-all",60220),replace:v("replace",60221),repoClone:v("repo-clone",60222),repoForcePush:v("repo-force-push",60223),repoPull:v("repo-pull",60224),repoPush:v("repo-push",60225),report:v("report",60226),requestChanges:v("request-changes",60227),rocket:v("rocket",60228),rootFolderOpened:v("root-folder-opened",60229),rootFolder:v("root-folder",60230),rss:v("rss",60231),ruby:v("ruby",60232),saveAll:v("save-all",60233),saveAs:v("save-as",60234),save:v("save",60235),screenFull:v("screen-full",60236),screenNormal:v("screen-normal",60237),searchStop:v("search-stop",60238),server:v("server",60240),settingsGear:v("settings-gear",60241),settings:v("settings",60242),shield:v("shield",60243),smiley:v("smiley",60244),sortPrecedence:v("sort-precedence",60245),splitHorizontal:v("split-horizontal",60246),splitVertical:v("split-vertical",60247),squirrel:v("squirrel",60248),starFull:v("star-full",60249),starHalf:v("star-half",60250),symbolClass:v("symbol-class",60251),symbolColor:v("symbol-color",60252),symbolConstant:v("symbol-constant",60253),symbolEnumMember:v("symbol-enum-member",60254),symbolField:v("symbol-field",60255),symbolFile:v("symbol-file",60256),symbolInterface:v("symbol-interface",60257),symbolKeyword:v("symbol-keyword",60258),symbolMisc:v("symbol-misc",60259),symbolOperator:v("symbol-operator",60260),symbolProperty:v("symbol-property",60261),wrench:v("wrench",60261),wrenchSubaction:v("wrench-subaction",60261),symbolSnippet:v("symbol-snippet",60262),tasklist:v("tasklist",60263),telescope:v("telescope",60264),textSize:v("text-size",60265),threeBars:v("three-bars",60266),thumbsdown:v("thumbsdown",60267),thumbsup:v("thumbsup",60268),tools:v("tools",60269),triangleDown:v("triangle-down",60270),triangleLeft:v("triangle-left",60271),triangleRight:v("triangle-right",60272),triangleUp:v("triangle-up",60273),twitter:v("twitter",60274),unfold:v("unfold",60275),unlock:v("unlock",60276),unmute:v("unmute",60277),unverified:v("unverified",60278),verified:v("verified",60279),versions:v("versions",60280),vmActive:v("vm-active",60281),vmOutline:v("vm-outline",60282),vmRunning:v("vm-running",60283),watch:v("watch",60284),whitespace:v("whitespace",60285),wholeWord:v("whole-word",60286),window:v("window",60287),wordWrap:v("word-wrap",60288),zoomIn:v("zoom-in",60289),zoomOut:v("zoom-out",60290),listFilter:v("list-filter",60291),listFlat:v("list-flat",60292),listSelection:v("list-selection",60293),selection:v("selection",60293),listTree:v("list-tree",60294),debugBreakpointFunctionUnverified:v("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:v("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:v("debug-breakpoint-function-disabled",60296),debugStackframeActive:v("debug-stackframe-active",60297),circleSmallFilled:v("circle-small-filled",60298),debugStackframeDot:v("debug-stackframe-dot",60298),terminalDecorationMark:v("terminal-decoration-mark",60298),debugStackframe:v("debug-stackframe",60299),debugStackframeFocused:v("debug-stackframe-focused",60299),debugBreakpointUnsupported:v("debug-breakpoint-unsupported",60300),symbolString:v("symbol-string",60301),debugReverseContinue:v("debug-reverse-continue",60302),debugStepBack:v("debug-step-back",60303),debugRestartFrame:v("debug-restart-frame",60304),debugAlt:v("debug-alt",60305),callIncoming:v("call-incoming",60306),callOutgoing:v("call-outgoing",60307),menu:v("menu",60308),expandAll:v("expand-all",60309),feedback:v("feedback",60310),gitPullRequestReviewer:v("git-pull-request-reviewer",60310),groupByRefType:v("group-by-ref-type",60311),ungroupByRefType:v("ungroup-by-ref-type",60312),account:v("account",60313),gitPullRequestAssignee:v("git-pull-request-assignee",60313),bellDot:v("bell-dot",60314),debugConsole:v("debug-console",60315),library:v("library",60316),output:v("output",60317),runAll:v("run-all",60318),syncIgnored:v("sync-ignored",60319),pinned:v("pinned",60320),githubInverted:v("github-inverted",60321),serverProcess:v("server-process",60322),serverEnvironment:v("server-environment",60323),pass:v("pass",60324),issueClosed:v("issue-closed",60324),stopCircle:v("stop-circle",60325),playCircle:v("play-circle",60326),record:v("record",60327),debugAltSmall:v("debug-alt-small",60328),vmConnect:v("vm-connect",60329),cloud:v("cloud",60330),merge:v("merge",60331),export:v("export",60332),graphLeft:v("graph-left",60333),magnet:v("magnet",60334),notebook:v("notebook",60335),redo:v("redo",60336),checkAll:v("check-all",60337),pinnedDirty:v("pinned-dirty",60338),passFilled:v("pass-filled",60339),circleLargeFilled:v("circle-large-filled",60340),circleLarge:v("circle-large",60341),circleLargeOutline:v("circle-large-outline",60341),combine:v("combine",60342),gather:v("gather",60342),table:v("table",60343),variableGroup:v("variable-group",60344),typeHierarchy:v("type-hierarchy",60345),typeHierarchySub:v("type-hierarchy-sub",60346),typeHierarchySuper:v("type-hierarchy-super",60347),gitPullRequestCreate:v("git-pull-request-create",60348),runAbove:v("run-above",60349),runBelow:v("run-below",60350),notebookTemplate:v("notebook-template",60351),debugRerun:v("debug-rerun",60352),workspaceTrusted:v("workspace-trusted",60353),workspaceUntrusted:v("workspace-untrusted",60354),workspaceUnknown:v("workspace-unknown",60355),terminalCmd:v("terminal-cmd",60356),terminalDebian:v("terminal-debian",60357),terminalLinux:v("terminal-linux",60358),terminalPowershell:v("terminal-powershell",60359),terminalTmux:v("terminal-tmux",60360),terminalUbuntu:v("terminal-ubuntu",60361),terminalBash:v("terminal-bash",60362),arrowSwap:v("arrow-swap",60363),copy:v("copy",60364),personAdd:v("person-add",60365),filterFilled:v("filter-filled",60366),wand:v("wand",60367),debugLineByLine:v("debug-line-by-line",60368),inspect:v("inspect",60369),layers:v("layers",60370),layersDot:v("layers-dot",60371),layersActive:v("layers-active",60372),compass:v("compass",60373),compassDot:v("compass-dot",60374),compassActive:v("compass-active",60375),azure:v("azure",60376),issueDraft:v("issue-draft",60377),gitPullRequestClosed:v("git-pull-request-closed",60378),gitPullRequestDraft:v("git-pull-request-draft",60379),debugAll:v("debug-all",60380),debugCoverage:v("debug-coverage",60381),runErrors:v("run-errors",60382),folderLibrary:v("folder-library",60383),debugContinueSmall:v("debug-continue-small",60384),beakerStop:v("beaker-stop",60385),graphLine:v("graph-line",60386),graphScatter:v("graph-scatter",60387),pieChart:v("pie-chart",60388),bracket:v("bracket",60175),bracketDot:v("bracket-dot",60389),bracketError:v("bracket-error",60390),lockSmall:v("lock-small",60391),azureDevops:v("azure-devops",60392),verifiedFilled:v("verified-filled",60393),newline:v("newline",60394),layout:v("layout",60395),layoutActivitybarLeft:v("layout-activitybar-left",60396),layoutActivitybarRight:v("layout-activitybar-right",60397),layoutPanelLeft:v("layout-panel-left",60398),layoutPanelCenter:v("layout-panel-center",60399),layoutPanelJustify:v("layout-panel-justify",60400),layoutPanelRight:v("layout-panel-right",60401),layoutPanel:v("layout-panel",60402),layoutSidebarLeft:v("layout-sidebar-left",60403),layoutSidebarRight:v("layout-sidebar-right",60404),layoutStatusbar:v("layout-statusbar",60405),layoutMenubar:v("layout-menubar",60406),layoutCentered:v("layout-centered",60407),target:v("target",60408),indent:v("indent",60409),recordSmall:v("record-small",60410),errorSmall:v("error-small",60411),terminalDecorationError:v("terminal-decoration-error",60411),arrowCircleDown:v("arrow-circle-down",60412),arrowCircleLeft:v("arrow-circle-left",60413),arrowCircleRight:v("arrow-circle-right",60414),arrowCircleUp:v("arrow-circle-up",60415),layoutSidebarRightOff:v("layout-sidebar-right-off",60416),layoutPanelOff:v("layout-panel-off",60417),layoutSidebarLeftOff:v("layout-sidebar-left-off",60418),blank:v("blank",60419),heartFilled:v("heart-filled",60420),map:v("map",60421),mapHorizontal:v("map-horizontal",60421),foldHorizontal:v("fold-horizontal",60421),mapFilled:v("map-filled",60422),mapHorizontalFilled:v("map-horizontal-filled",60422),foldHorizontalFilled:v("fold-horizontal-filled",60422),circleSmall:v("circle-small",60423),bellSlash:v("bell-slash",60424),bellSlashDot:v("bell-slash-dot",60425),commentUnresolved:v("comment-unresolved",60426),gitPullRequestGoToChanges:v("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:v("git-pull-request-new-changes",60428),searchFuzzy:v("search-fuzzy",60429),commentDraft:v("comment-draft",60430),send:v("send",60431),sparkle:v("sparkle",60432),insert:v("insert",60433),mic:v("mic",60434),thumbsdownFilled:v("thumbsdown-filled",60435),thumbsupFilled:v("thumbsup-filled",60436),coffee:v("coffee",60437),snake:v("snake",60438),game:v("game",60439),vr:v("vr",60440),chip:v("chip",60441),piano:v("piano",60442),music:v("music",60443),micFilled:v("mic-filled",60444),repoFetch:v("repo-fetch",60445),copilot:v("copilot",60446),lightbulbSparkle:v("lightbulb-sparkle",60447),robot:v("robot",60448),sparkleFilled:v("sparkle-filled",60449),diffSingle:v("diff-single",60450),diffMultiple:v("diff-multiple",60451),surroundWith:v("surround-with",60452),share:v("share",60453),gitStash:v("git-stash",60454),gitStashApply:v("git-stash-apply",60455),gitStashPop:v("git-stash-pop",60456),vscode:v("vscode",60457),vscodeInsiders:v("vscode-insiders",60458),codeOss:v("code-oss",60459),runCoverage:v("run-coverage",60460),runAllCoverage:v("run-all-coverage",60461),coverage:v("coverage",60462),githubProject:v("github-project",60463),mapVertical:v("map-vertical",60464),foldVertical:v("fold-vertical",60464),mapVerticalFilled:v("map-vertical-filled",60465),foldVerticalFilled:v("fold-vertical-filled",60465),goToSearch:v("go-to-search",60466),percentage:v("percentage",60467),sortPercentage:v("sort-percentage",60467),attach:v("attach",60468)},qp={dialogError:v("dialog-error","error"),dialogWarning:v("dialog-warning","warning"),dialogInfo:v("dialog-info","info"),dialogClose:v("dialog-close","close"),treeItemExpanded:v("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:v("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:v("tree-filter-on-type-off","list-selection"),treeFilterClear:v("tree-filter-clear","close"),treeItemLoading:v("tree-item-loading","loading"),menuSelection:v("menu-selection","check"),menuSubmenu:v("menu-submenu","chevron-right"),menuBarMore:v("menubar-more","more"),scrollbarButtonLeft:v("scrollbar-button-left","triangle-left"),scrollbarButtonRight:v("scrollbar-button-right","triangle-right"),scrollbarButtonUp:v("scrollbar-button-up","triangle-up"),scrollbarButtonDown:v("scrollbar-button-down","triangle-down"),toolBarMore:v("toolbar-more","more"),quickInputBack:v("quick-input-back","arrow-left"),dropDownButton:v("drop-down-button",60084),symbolCustomColor:v("symbol-customcolor",60252),exportIcon:v("export",60332),workspaceUnspecified:v("workspace-unspecified",60355),newLine:v("newline",60394),thumbsDownFilled:v("thumbsdown-filled",60435),thumbsUpFilled:v("thumbsup-filled",60436),gitFetch:v("git-fetch",60445),lightbulbSparkleAutofix:v("lightbulb-sparkle-autofix",60447),debugBreakpointPending:v("debug-breakpoint-pending",60377)},ee={...Up,...qp};class Mc{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new Dt,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(t){this._onDidChange.fire({changedLanguages:t,changedColorMap:!1})}register(t,n){return this._tokenizationSupports.set(t,n),this.handleChange([t]),li(()=>{this._tokenizationSupports.get(t)===n&&(this._tokenizationSupports.delete(t),this.handleChange([t]))})}get(t){return this._tokenizationSupports.get(t)||null}registerFactory(t,n){var s;(s=this._factories.get(t))==null||s.dispose();const r=new Wp(this,t,n);return this._factories.set(t,r),li(()=>{const i=this._factories.get(t);!i||i!==r||(this._factories.delete(t),i.dispose())})}async getOrCreate(t){const n=this.get(t);if(n)return n;const r=this._factories.get(t);return!r||r.isResolved?null:(await r.resolve(),this.get(t))}isResolved(t){if(this.get(t))return!0;const r=this._factories.get(t);return!!(!r||r.isResolved)}setColorMap(t){this._colorMap=t,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class Wp extends Sr{get isResolved(){return this._isResolved}constructor(t,n,r){super(),this._registry=t,this._languageId=n,this._factory=r,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}async _create(){const t=await this._factory.tokenizationSupport;this._isResolved=!0,t&&!this._isDisposed&&this._register(this._registry.register(this._languageId,t))}}class Hp{constructor(t,n,r){this.offset=t,this.type=n,this.language=r,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}var Oc;(function(e){e[e.Increase=0]="Increase",e[e.Decrease=1]="Decrease"})(Oc||(Oc={}));var Rc;(function(e){const t=new Map;t.set(0,ee.symbolMethod),t.set(1,ee.symbolFunction),t.set(2,ee.symbolConstructor),t.set(3,ee.symbolField),t.set(4,ee.symbolVariable),t.set(5,ee.symbolClass),t.set(6,ee.symbolStruct),t.set(7,ee.symbolInterface),t.set(8,ee.symbolModule),t.set(9,ee.symbolProperty),t.set(10,ee.symbolEvent),t.set(11,ee.symbolOperator),t.set(12,ee.symbolUnit),t.set(13,ee.symbolValue),t.set(15,ee.symbolEnum),t.set(14,ee.symbolConstant),t.set(15,ee.symbolEnum),t.set(16,ee.symbolEnumMember),t.set(17,ee.symbolKeyword),t.set(27,ee.symbolSnippet),t.set(18,ee.symbolText),t.set(19,ee.symbolColor),t.set(20,ee.symbolFile),t.set(21,ee.symbolReference),t.set(22,ee.symbolCustomColor),t.set(23,ee.symbolFolder),t.set(24,ee.symbolTypeParameter),t.set(25,ee.account),t.set(26,ee.issues);function n(i){let o=t.get(i);return o||(console.info("No codicon found for CompletionItemKind "+i),o=ee.symbolProperty),o}e.toIcon=n;const r=new Map;r.set("method",0),r.set("function",1),r.set("constructor",2),r.set("field",3),r.set("variable",4),r.set("class",5),r.set("struct",6),r.set("interface",7),r.set("module",8),r.set("property",9),r.set("event",10),r.set("operator",11),r.set("unit",12),r.set("value",13),r.set("constant",14),r.set("enum",15),r.set("enum-member",16),r.set("enumMember",16),r.set("keyword",17),r.set("snippet",27),r.set("text",18),r.set("color",19),r.set("file",20),r.set("reference",21),r.set("customcolor",22),r.set("folder",23),r.set("type-parameter",24),r.set("typeParameter",24),r.set("account",25),r.set("issue",26);function s(i,o){let a=r.get(i);return typeof a>"u"&&!o&&(a=9),a}e.fromString=s})(Rc||(Rc={}));var Pc;(function(e){e[e.Automatic=0]="Automatic",e[e.Explicit=1]="Explicit"})(Pc||(Pc={}));var $c;(function(e){e[e.Automatic=0]="Automatic",e[e.PasteAs=1]="PasteAs"})($c||($c={}));var Ic;(function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"})(Ic||(Ic={}));var Bc;(function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"})(Bc||(Bc={})),Ne("Array","array"),Ne("Boolean","boolean"),Ne("Class","class"),Ne("Constant","constant"),Ne("Constructor","constructor"),Ne("Enum","enumeration"),Ne("EnumMember","enumeration member"),Ne("Event","event"),Ne("Field","field"),Ne("File","file"),Ne("Function","function"),Ne("Interface","interface"),Ne("Key","key"),Ne("Method","method"),Ne("Module","module"),Ne("Namespace","namespace"),Ne("Null","null"),Ne("Number","number"),Ne("Object","object"),Ne("Operator","operator"),Ne("Package","package"),Ne("Property","property"),Ne("String","string"),Ne("Struct","struct"),Ne("TypeParameter","type parameter"),Ne("Variable","variable");var Vc;(function(e){const t=new Map;t.set(0,ee.symbolFile),t.set(1,ee.symbolModule),t.set(2,ee.symbolNamespace),t.set(3,ee.symbolPackage),t.set(4,ee.symbolClass),t.set(5,ee.symbolMethod),t.set(6,ee.symbolProperty),t.set(7,ee.symbolField),t.set(8,ee.symbolConstructor),t.set(9,ee.symbolEnum),t.set(10,ee.symbolInterface),t.set(11,ee.symbolFunction),t.set(12,ee.symbolVariable),t.set(13,ee.symbolConstant),t.set(14,ee.symbolString),t.set(15,ee.symbolNumber),t.set(16,ee.symbolBoolean),t.set(17,ee.symbolArray),t.set(18,ee.symbolObject),t.set(19,ee.symbolKey),t.set(20,ee.symbolNull),t.set(21,ee.symbolEnumMember),t.set(22,ee.symbolStruct),t.set(23,ee.symbolEvent),t.set(24,ee.symbolOperator),t.set(25,ee.symbolTypeParameter);function n(r){let s=t.get(r);return s||(console.info("No codicon found for SymbolKind "+r),s=ee.symbolProperty),s}e.toIcon=n})(Vc||(Vc={}));let C6=(nt=class{static fromValue(t){switch(t){case"comment":return nt.Comment;case"imports":return nt.Imports;case"region":return nt.Region}return new nt(t)}constructor(t){this.value=t}},nt.Comment=new nt("comment"),nt.Imports=new nt("imports"),nt.Region=new nt("region"),nt);var jc;(function(e){e[e.AIGenerated=1]="AIGenerated"})(jc||(jc={}));var Uc;(function(e){e[e.Invoke=0]="Invoke",e[e.Automatic=1]="Automatic"})(Uc||(Uc={}));var qc;(function(e){function t(n){return!n||typeof n!="object"?!1:typeof n.id=="string"&&typeof n.title=="string"}e.is=t})(qc||(qc={}));var Wc;(function(e){e[e.Type=1]="Type",e[e.Parameter=2]="Parameter"})(Wc||(Wc={})),new Mc,new Mc;var Hc;(function(e){e[e.Invoke=0]="Invoke",e[e.Automatic=1]="Automatic"})(Hc||(Hc={}));var Yc;(function(e){e[e.Unknown=0]="Unknown",e[e.Disabled=1]="Disabled",e[e.Enabled=2]="Enabled"})(Yc||(Yc={}));var zc;(function(e){e[e.Invoke=1]="Invoke",e[e.Auto=2]="Auto"})(zc||(zc={}));var Gc;(function(e){e[e.None=0]="None",e[e.KeepWhitespace=1]="KeepWhitespace",e[e.InsertAsSnippet=4]="InsertAsSnippet"})(Gc||(Gc={}));var Jc;(function(e){e[e.Method=0]="Method",e[e.Function=1]="Function",e[e.Constructor=2]="Constructor",e[e.Field=3]="Field",e[e.Variable=4]="Variable",e[e.Class=5]="Class",e[e.Struct=6]="Struct",e[e.Interface=7]="Interface",e[e.Module=8]="Module",e[e.Property=9]="Property",e[e.Event=10]="Event",e[e.Operator=11]="Operator",e[e.Unit=12]="Unit",e[e.Value=13]="Value",e[e.Constant=14]="Constant",e[e.Enum=15]="Enum",e[e.EnumMember=16]="EnumMember",e[e.Keyword=17]="Keyword",e[e.Text=18]="Text",e[e.Color=19]="Color",e[e.File=20]="File",e[e.Reference=21]="Reference",e[e.Customcolor=22]="Customcolor",e[e.Folder=23]="Folder",e[e.TypeParameter=24]="TypeParameter",e[e.User=25]="User",e[e.Issue=26]="Issue",e[e.Snippet=27]="Snippet"})(Jc||(Jc={}));var Qc;(function(e){e[e.Deprecated=1]="Deprecated"})(Qc||(Qc={}));var Kc;(function(e){e[e.Invoke=0]="Invoke",e[e.TriggerCharacter=1]="TriggerCharacter",e[e.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(Kc||(Kc={}));var Xc;(function(e){e[e.EXACT=0]="EXACT",e[e.ABOVE=1]="ABOVE",e[e.BELOW=2]="BELOW"})(Xc||(Xc={}));var Zc;(function(e){e[e.NotSet=0]="NotSet",e[e.ContentFlush=1]="ContentFlush",e[e.RecoverFromMarkers=2]="RecoverFromMarkers",e[e.Explicit=3]="Explicit",e[e.Paste=4]="Paste",e[e.Undo=5]="Undo",e[e.Redo=6]="Redo"})(Zc||(Zc={}));var ef;(function(e){e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"})(ef||(ef={}));var tf;(function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"})(tf||(tf={}));var nf;(function(e){e[e.None=0]="None",e[e.Keep=1]="Keep",e[e.Brackets=2]="Brackets",e[e.Advanced=3]="Advanced",e[e.Full=4]="Full"})(nf||(nf={}));var rf;(function(e){e[e.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",e[e.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",e[e.accessibilitySupport=2]="accessibilitySupport",e[e.accessibilityPageSize=3]="accessibilityPageSize",e[e.ariaLabel=4]="ariaLabel",e[e.ariaRequired=5]="ariaRequired",e[e.autoClosingBrackets=6]="autoClosingBrackets",e[e.autoClosingComments=7]="autoClosingComments",e[e.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",e[e.autoClosingDelete=9]="autoClosingDelete",e[e.autoClosingOvertype=10]="autoClosingOvertype",e[e.autoClosingQuotes=11]="autoClosingQuotes",e[e.autoIndent=12]="autoIndent",e[e.automaticLayout=13]="automaticLayout",e[e.autoSurround=14]="autoSurround",e[e.bracketPairColorization=15]="bracketPairColorization",e[e.guides=16]="guides",e[e.codeLens=17]="codeLens",e[e.codeLensFontFamily=18]="codeLensFontFamily",e[e.codeLensFontSize=19]="codeLensFontSize",e[e.colorDecorators=20]="colorDecorators",e[e.colorDecoratorsLimit=21]="colorDecoratorsLimit",e[e.columnSelection=22]="columnSelection",e[e.comments=23]="comments",e[e.contextmenu=24]="contextmenu",e[e.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",e[e.cursorBlinking=26]="cursorBlinking",e[e.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",e[e.cursorStyle=28]="cursorStyle",e[e.cursorSurroundingLines=29]="cursorSurroundingLines",e[e.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",e[e.cursorWidth=31]="cursorWidth",e[e.disableLayerHinting=32]="disableLayerHinting",e[e.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",e[e.domReadOnly=34]="domReadOnly",e[e.dragAndDrop=35]="dragAndDrop",e[e.dropIntoEditor=36]="dropIntoEditor",e[e.emptySelectionClipboard=37]="emptySelectionClipboard",e[e.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",e[e.extraEditorClassName=39]="extraEditorClassName",e[e.fastScrollSensitivity=40]="fastScrollSensitivity",e[e.find=41]="find",e[e.fixedOverflowWidgets=42]="fixedOverflowWidgets",e[e.folding=43]="folding",e[e.foldingStrategy=44]="foldingStrategy",e[e.foldingHighlight=45]="foldingHighlight",e[e.foldingImportsByDefault=46]="foldingImportsByDefault",e[e.foldingMaximumRegions=47]="foldingMaximumRegions",e[e.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",e[e.fontFamily=49]="fontFamily",e[e.fontInfo=50]="fontInfo",e[e.fontLigatures=51]="fontLigatures",e[e.fontSize=52]="fontSize",e[e.fontWeight=53]="fontWeight",e[e.fontVariations=54]="fontVariations",e[e.formatOnPaste=55]="formatOnPaste",e[e.formatOnType=56]="formatOnType",e[e.glyphMargin=57]="glyphMargin",e[e.gotoLocation=58]="gotoLocation",e[e.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",e[e.hover=60]="hover",e[e.inDiffEditor=61]="inDiffEditor",e[e.inlineSuggest=62]="inlineSuggest",e[e.inlineEdit=63]="inlineEdit",e[e.letterSpacing=64]="letterSpacing",e[e.lightbulb=65]="lightbulb",e[e.lineDecorationsWidth=66]="lineDecorationsWidth",e[e.lineHeight=67]="lineHeight",e[e.lineNumbers=68]="lineNumbers",e[e.lineNumbersMinChars=69]="lineNumbersMinChars",e[e.linkedEditing=70]="linkedEditing",e[e.links=71]="links",e[e.matchBrackets=72]="matchBrackets",e[e.minimap=73]="minimap",e[e.mouseStyle=74]="mouseStyle",e[e.mouseWheelScrollSensitivity=75]="mouseWheelScrollSensitivity",e[e.mouseWheelZoom=76]="mouseWheelZoom",e[e.multiCursorMergeOverlapping=77]="multiCursorMergeOverlapping",e[e.multiCursorModifier=78]="multiCursorModifier",e[e.multiCursorPaste=79]="multiCursorPaste",e[e.multiCursorLimit=80]="multiCursorLimit",e[e.occurrencesHighlight=81]="occurrencesHighlight",e[e.overviewRulerBorder=82]="overviewRulerBorder",e[e.overviewRulerLanes=83]="overviewRulerLanes",e[e.padding=84]="padding",e[e.pasteAs=85]="pasteAs",e[e.parameterHints=86]="parameterHints",e[e.peekWidgetDefaultFocus=87]="peekWidgetDefaultFocus",e[e.placeholder=88]="placeholder",e[e.definitionLinkOpensInPeek=89]="definitionLinkOpensInPeek",e[e.quickSuggestions=90]="quickSuggestions",e[e.quickSuggestionsDelay=91]="quickSuggestionsDelay",e[e.readOnly=92]="readOnly",e[e.readOnlyMessage=93]="readOnlyMessage",e[e.renameOnType=94]="renameOnType",e[e.renderControlCharacters=95]="renderControlCharacters",e[e.renderFinalNewline=96]="renderFinalNewline",e[e.renderLineHighlight=97]="renderLineHighlight",e[e.renderLineHighlightOnlyWhenFocus=98]="renderLineHighlightOnlyWhenFocus",e[e.renderValidationDecorations=99]="renderValidationDecorations",e[e.renderWhitespace=100]="renderWhitespace",e[e.revealHorizontalRightPadding=101]="revealHorizontalRightPadding",e[e.roundedSelection=102]="roundedSelection",e[e.rulers=103]="rulers",e[e.scrollbar=104]="scrollbar",e[e.scrollBeyondLastColumn=105]="scrollBeyondLastColumn",e[e.scrollBeyondLastLine=106]="scrollBeyondLastLine",e[e.scrollPredominantAxis=107]="scrollPredominantAxis",e[e.selectionClipboard=108]="selectionClipboard",e[e.selectionHighlight=109]="selectionHighlight",e[e.selectOnLineNumbers=110]="selectOnLineNumbers",e[e.showFoldingControls=111]="showFoldingControls",e[e.showUnused=112]="showUnused",e[e.snippetSuggestions=113]="snippetSuggestions",e[e.smartSelect=114]="smartSelect",e[e.smoothScrolling=115]="smoothScrolling",e[e.stickyScroll=116]="stickyScroll",e[e.stickyTabStops=117]="stickyTabStops",e[e.stopRenderingLineAfter=118]="stopRenderingLineAfter",e[e.suggest=119]="suggest",e[e.suggestFontSize=120]="suggestFontSize",e[e.suggestLineHeight=121]="suggestLineHeight",e[e.suggestOnTriggerCharacters=122]="suggestOnTriggerCharacters",e[e.suggestSelection=123]="suggestSelection",e[e.tabCompletion=124]="tabCompletion",e[e.tabIndex=125]="tabIndex",e[e.unicodeHighlighting=126]="unicodeHighlighting",e[e.unusualLineTerminators=127]="unusualLineTerminators",e[e.useShadowDOM=128]="useShadowDOM",e[e.useTabStops=129]="useTabStops",e[e.wordBreak=130]="wordBreak",e[e.wordSegmenterLocales=131]="wordSegmenterLocales",e[e.wordSeparators=132]="wordSeparators",e[e.wordWrap=133]="wordWrap",e[e.wordWrapBreakAfterCharacters=134]="wordWrapBreakAfterCharacters",e[e.wordWrapBreakBeforeCharacters=135]="wordWrapBreakBeforeCharacters",e[e.wordWrapColumn=136]="wordWrapColumn",e[e.wordWrapOverride1=137]="wordWrapOverride1",e[e.wordWrapOverride2=138]="wordWrapOverride2",e[e.wrappingIndent=139]="wrappingIndent",e[e.wrappingStrategy=140]="wrappingStrategy",e[e.showDeprecated=141]="showDeprecated",e[e.inlayHints=142]="inlayHints",e[e.editorClassName=143]="editorClassName",e[e.pixelRatio=144]="pixelRatio",e[e.tabFocusMode=145]="tabFocusMode",e[e.layoutInfo=146]="layoutInfo",e[e.wrappingInfo=147]="wrappingInfo",e[e.defaultColorDecorators=148]="defaultColorDecorators",e[e.colorDecoratorsActivatedOn=149]="colorDecoratorsActivatedOn",e[e.inlineCompletionsAccessibilityVerbose=150]="inlineCompletionsAccessibilityVerbose"})(rf||(rf={}));var sf;(function(e){e[e.TextDefined=0]="TextDefined",e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"})(sf||(sf={}));var of;(function(e){e[e.LF=0]="LF",e[e.CRLF=1]="CRLF"})(of||(of={}));var af;(function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=3]="Right"})(af||(af={}));var lf;(function(e){e[e.Increase=0]="Increase",e[e.Decrease=1]="Decrease"})(lf||(lf={}));var uf;(function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"})(uf||(uf={}));var cf;(function(e){e[e.Both=0]="Both",e[e.Right=1]="Right",e[e.Left=2]="Left",e[e.None=3]="None"})(cf||(cf={}));var ff;(function(e){e[e.Type=1]="Type",e[e.Parameter=2]="Parameter"})(ff||(ff={}));var hf;(function(e){e[e.Automatic=0]="Automatic",e[e.Explicit=1]="Explicit"})(hf||(hf={}));var df;(function(e){e[e.Invoke=0]="Invoke",e[e.Automatic=1]="Automatic"})(df||(df={}));var Sa;(function(e){e[e.DependsOnKbLayout=-1]="DependsOnKbLayout",e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.Digit0=21]="Digit0",e[e.Digit1=22]="Digit1",e[e.Digit2=23]="Digit2",e[e.Digit3=24]="Digit3",e[e.Digit4=25]="Digit4",e[e.Digit5=26]="Digit5",e[e.Digit6=27]="Digit6",e[e.Digit7=28]="Digit7",e[e.Digit8=29]="Digit8",e[e.Digit9=30]="Digit9",e[e.KeyA=31]="KeyA",e[e.KeyB=32]="KeyB",e[e.KeyC=33]="KeyC",e[e.KeyD=34]="KeyD",e[e.KeyE=35]="KeyE",e[e.KeyF=36]="KeyF",e[e.KeyG=37]="KeyG",e[e.KeyH=38]="KeyH",e[e.KeyI=39]="KeyI",e[e.KeyJ=40]="KeyJ",e[e.KeyK=41]="KeyK",e[e.KeyL=42]="KeyL",e[e.KeyM=43]="KeyM",e[e.KeyN=44]="KeyN",e[e.KeyO=45]="KeyO",e[e.KeyP=46]="KeyP",e[e.KeyQ=47]="KeyQ",e[e.KeyR=48]="KeyR",e[e.KeyS=49]="KeyS",e[e.KeyT=50]="KeyT",e[e.KeyU=51]="KeyU",e[e.KeyV=52]="KeyV",e[e.KeyW=53]="KeyW",e[e.KeyX=54]="KeyX",e[e.KeyY=55]="KeyY",e[e.KeyZ=56]="KeyZ",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.F20=78]="F20",e[e.F21=79]="F21",e[e.F22=80]="F22",e[e.F23=81]="F23",e[e.F24=82]="F24",e[e.NumLock=83]="NumLock",e[e.ScrollLock=84]="ScrollLock",e[e.Semicolon=85]="Semicolon",e[e.Equal=86]="Equal",e[e.Comma=87]="Comma",e[e.Minus=88]="Minus",e[e.Period=89]="Period",e[e.Slash=90]="Slash",e[e.Backquote=91]="Backquote",e[e.BracketLeft=92]="BracketLeft",e[e.Backslash=93]="Backslash",e[e.BracketRight=94]="BracketRight",e[e.Quote=95]="Quote",e[e.OEM_8=96]="OEM_8",e[e.IntlBackslash=97]="IntlBackslash",e[e.Numpad0=98]="Numpad0",e[e.Numpad1=99]="Numpad1",e[e.Numpad2=100]="Numpad2",e[e.Numpad3=101]="Numpad3",e[e.Numpad4=102]="Numpad4",e[e.Numpad5=103]="Numpad5",e[e.Numpad6=104]="Numpad6",e[e.Numpad7=105]="Numpad7",e[e.Numpad8=106]="Numpad8",e[e.Numpad9=107]="Numpad9",e[e.NumpadMultiply=108]="NumpadMultiply",e[e.NumpadAdd=109]="NumpadAdd",e[e.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",e[e.NumpadSubtract=111]="NumpadSubtract",e[e.NumpadDecimal=112]="NumpadDecimal",e[e.NumpadDivide=113]="NumpadDivide",e[e.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",e[e.ABNT_C1=115]="ABNT_C1",e[e.ABNT_C2=116]="ABNT_C2",e[e.AudioVolumeMute=117]="AudioVolumeMute",e[e.AudioVolumeUp=118]="AudioVolumeUp",e[e.AudioVolumeDown=119]="AudioVolumeDown",e[e.BrowserSearch=120]="BrowserSearch",e[e.BrowserHome=121]="BrowserHome",e[e.BrowserBack=122]="BrowserBack",e[e.BrowserForward=123]="BrowserForward",e[e.MediaTrackNext=124]="MediaTrackNext",e[e.MediaTrackPrevious=125]="MediaTrackPrevious",e[e.MediaStop=126]="MediaStop",e[e.MediaPlayPause=127]="MediaPlayPause",e[e.LaunchMediaPlayer=128]="LaunchMediaPlayer",e[e.LaunchMail=129]="LaunchMail",e[e.LaunchApp2=130]="LaunchApp2",e[e.Clear=131]="Clear",e[e.MAX_VALUE=132]="MAX_VALUE"})(Sa||(Sa={}));var Ea;(function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"})(Ea||(Ea={}));var Aa;(function(e){e[e.Unnecessary=1]="Unnecessary",e[e.Deprecated=2]="Deprecated"})(Aa||(Aa={}));var mf;(function(e){e[e.Inline=1]="Inline",e[e.Gutter=2]="Gutter"})(mf||(mf={}));var gf;(function(e){e[e.Normal=1]="Normal",e[e.Underlined=2]="Underlined"})(gf||(gf={}));var pf;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXTAREA=1]="TEXTAREA",e[e.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",e[e.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",e[e.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",e[e.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",e[e.CONTENT_TEXT=6]="CONTENT_TEXT",e[e.CONTENT_EMPTY=7]="CONTENT_EMPTY",e[e.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",e[e.CONTENT_WIDGET=9]="CONTENT_WIDGET",e[e.OVERVIEW_RULER=10]="OVERVIEW_RULER",e[e.SCROLLBAR=11]="SCROLLBAR",e[e.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",e[e.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(pf||(pf={}));var bf;(function(e){e[e.AIGenerated=1]="AIGenerated"})(bf||(bf={}));var yf;(function(e){e[e.Invoke=0]="Invoke",e[e.Automatic=1]="Automatic"})(yf||(yf={}));var vf;(function(e){e[e.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",e[e.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",e[e.TOP_CENTER=2]="TOP_CENTER"})(vf||(vf={}));var Df;(function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"})(Df||(Df={}));var wf;(function(e){e[e.Word=0]="Word",e[e.Line=1]="Line",e[e.Suggest=2]="Suggest"})(wf||(wf={}));var Sf;(function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.None=2]="None",e[e.LeftOfInjectedText=3]="LeftOfInjectedText",e[e.RightOfInjectedText=4]="RightOfInjectedText"})(Sf||(Sf={}));var Ef;(function(e){e[e.Off=0]="Off",e[e.On=1]="On",e[e.Relative=2]="Relative",e[e.Interval=3]="Interval",e[e.Custom=4]="Custom"})(Ef||(Ef={}));var Af;(function(e){e[e.None=0]="None",e[e.Text=1]="Text",e[e.Blocks=2]="Blocks"})(Af||(Af={}));var Nf;(function(e){e[e.Smooth=0]="Smooth",e[e.Immediate=1]="Immediate"})(Nf||(Nf={}));var xf;(function(e){e[e.Auto=1]="Auto",e[e.Hidden=2]="Hidden",e[e.Visible=3]="Visible"})(xf||(xf={}));var Na;(function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"})(Na||(Na={}));var Lf;(function(e){e.Off="off",e.OnCode="onCode",e.On="on"})(Lf||(Lf={}));var Cf;(function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"})(Cf||(Cf={}));var kf;(function(e){e[e.File=0]="File",e[e.Module=1]="Module",e[e.Namespace=2]="Namespace",e[e.Package=3]="Package",e[e.Class=4]="Class",e[e.Method=5]="Method",e[e.Property=6]="Property",e[e.Field=7]="Field",e[e.Constructor=8]="Constructor",e[e.Enum=9]="Enum",e[e.Interface=10]="Interface",e[e.Function=11]="Function",e[e.Variable=12]="Variable",e[e.Constant=13]="Constant",e[e.String=14]="String",e[e.Number=15]="Number",e[e.Boolean=16]="Boolean",e[e.Array=17]="Array",e[e.Object=18]="Object",e[e.Key=19]="Key",e[e.Null=20]="Null",e[e.EnumMember=21]="EnumMember",e[e.Struct=22]="Struct",e[e.Event=23]="Event",e[e.Operator=24]="Operator",e[e.TypeParameter=25]="TypeParameter"})(kf||(kf={}));var Ff;(function(e){e[e.Deprecated=1]="Deprecated"})(Ff||(Ff={}));var _f;(function(e){e[e.Hidden=0]="Hidden",e[e.Blink=1]="Blink",e[e.Smooth=2]="Smooth",e[e.Phase=3]="Phase",e[e.Expand=4]="Expand",e[e.Solid=5]="Solid"})(_f||(_f={}));var Tf;(function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"})(Tf||(Tf={}));var Mf;(function(e){e[e.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",e[e.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",e[e.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",e[e.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(Mf||(Mf={}));var Of;(function(e){e[e.None=0]="None",e[e.Same=1]="Same",e[e.Indent=2]="Indent",e[e.DeepIndent=3]="DeepIndent"})(Of||(Of={}));const ps=class ps{static chord(t,n){return Vp(t,n)}};ps.CtrlCmd=2048,ps.Shift=1024,ps.Alt=512,ps.WinCtrl=256;let xa=ps;function Yp(){return{editor:void 0,languages:void 0,CancellationTokenSource:Pp,Emitter:Dt,KeyCode:Sa,KeyMod:xa,Position:Oe,Range:me,Selection:dt,SelectionDirection:Na,MarkerSeverity:Ea,MarkerTag:Aa,Uri:qt,Token:Hp}}const si=class si{static getChannel(t){return t.getChannel(si.CHANNEL_NAME)}static setChannel(t,n){t.setChannel(si.CHANNEL_NAME,n)}};si.CHANNEL_NAME="editorWorkerHost";let La=si;var Rf;class zp{constructor(){this[Rf]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)==null?void 0:t.value}get last(){var t;return(t=this._tail)==null?void 0:t.value}has(t){return this._map.has(t)}get(t,n=0){const r=this._map.get(t);if(r)return n!==0&&this.touch(r,n),r.value}set(t,n,r=0){let s=this._map.get(t);if(s)s.value=n,r!==0&&this.touch(s,r);else{switch(s={key:t,value:n,next:void 0,previous:void 0},r){case 0:this.addItemLast(s);break;case 1:this.addItemFirst(s);break;case 2:this.addItemLast(s);break;default:this.addItemLast(s);break}this._map.set(t,s),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){const n=this._map.get(t);if(n)return this._map.delete(t),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,n){const r=this._state;let s=this._head;for(;s;){if(n?t.bind(n)(s.value,s.key,this):t(s.value,s.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");s=s.next}}keys(){const t=this,n=this._state;let r=this._head;const s={[Symbol.iterator](){return s},next(){if(t._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){const i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return s}values(){const t=this,n=this._state;let r=this._head;const s={[Symbol.iterator](){return s},next(){if(t._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){const i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return s}entries(){const t=this,n=this._state;let r=this._head;const s={[Symbol.iterator](){return s},next(){if(t._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){const i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return s}[(Rf=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>t;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}trimNew(t){if(t>=this.size)return;if(t===0){this.clear();return}let n=this._tail,r=this.size;for(;n&&r>t;)this._map.delete(n.key),n=n.previous,r--;this._tail=n,this._size=r,n&&(n.next=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{const n=t.next,r=t.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}t.next=void 0,t.previous=void 0,this._state++}touch(t,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==1&&n!==2)){if(n===1){if(t===this._head)return;const r=t.next,s=t.previous;t===this._tail?(s.next=void 0,this._tail=s):(r.previous=s,s.next=r),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(n===2){if(t===this._tail)return;const r=t.next,s=t.previous;t===this._head?(r.previous=void 0,this._head=r):(r.previous=s,s.next=r),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){const t=[];return this.forEach((n,r)=>{t.push([r,n])}),t}fromJSON(t){this.clear();for(const[n,r]of t)this.set(n,r)}}class Gp extends zp{constructor(t,n=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get(t,n=2){return super.get(t,n)}peek(t){return super.get(t,0)}set(t,n){return super.set(t,n,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}}class Jp extends Gp{constructor(t,n=1){super(t,n)}trim(t){this.trimOld(t)}set(t,n){return super.set(t,n),this.checkTrim(),this}}class Qp{constructor(){this.map=new Map}add(t,n){let r=this.map.get(t);r||(r=new Set,this.map.set(t,r)),r.add(n)}delete(t,n){const r=this.map.get(t);r&&(r.delete(n),r.size===0&&this.map.delete(t))}forEach(t,n){const r=this.map.get(t);r&&r.forEach(n)}get(t){const n=this.map.get(t);return n||new Set}}new Jp(10);function Kp(e){let t=[];for(;Object.prototype!==e;)t=t.concat(Object.getOwnPropertyNames(e)),e=Object.getPrototypeOf(e);return t}function Pf(e){const t=[];for(const n of Kp(e))typeof e[n]=="function"&&t.push(n);return t}function Xp(e,t){const n=s=>function(){const i=Array.prototype.slice.call(arguments,0);return t(s,i)},r={};for(const s of e)r[s]=n(s);return r}var $f;(function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"})($f||($f={}));var If;(function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=3]="Right"})(If||(If={}));var Bf;(function(e){e[e.Both=0]="Both",e[e.Right=1]="Right",e[e.Left=2]="Left",e[e.None=3]="None"})(Bf||(Bf={}));function Zp(e,t,n,r,s){if(r===0)return!0;const i=t.charCodeAt(r-1);if(e.get(i)!==0||i===13||i===10)return!0;if(s>0){const o=t.charCodeAt(r);if(e.get(o)!==0)return!0}return!1}function eb(e,t,n,r,s){if(r+s===n)return!0;const i=t.charCodeAt(r+s);if(e.get(i)!==0||i===13||i===10)return!0;if(s>0){const o=t.charCodeAt(r+s-1);if(e.get(o)!==0)return!0}return!1}function tb(e,t,n,r,s){return Zp(e,t,n,r,s)&&eb(e,t,n,r,s)}class nb{constructor(t,n){this._wordSeparators=t,this._searchRegex=n,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(t){this._searchRegex.lastIndex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(t){const n=t.length;let r;do{if(this._prevMatchStartIndex+this._prevMatchLength===n||(r=this._searchRegex.exec(t),!r))return null;const s=r.index,i=r[0].length;if(s===this._prevMatchStartIndex&&i===this._prevMatchLength){if(i===0){Q0(t,n,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=s,this._prevMatchLength=i,!this._wordSeparators||tb(this._wordSeparators,t,n,s,i))return r}while(r);return null}}function rb(e,t="Unreachable"){throw new Error(t)}function vi(e){if(!e()){debugger;e(),jt(new ht("Assertion Failed"))}}function Vf(e,t){let n=0;for(;n<e.length-1;){const r=e[n],s=e[n+1];if(!t(r,s))return!1;n++}return!0}const sb="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function ib(e=""){let t="(-?\\d*\\.\\d\\w*)|([^";for(const n of sb)e.indexOf(n)>=0||(t+="\\"+n);return t+="\\s]+)",new RegExp(t,"g")}const jf=ib();function Uf(e){let t=jf;if(e&&e instanceof RegExp)if(e.global)t=e;else{let n="g";e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),e.unicode&&(n+="u"),t=new RegExp(e.source,n)}return t.lastIndex=0,t}const qf=new A0;qf.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function Ca(e,t,n,r,s){if(t=Uf(t),s||(s=ai.first(qf)),n.length>s.maxLen){let u=e-s.maxLen/2;return u<0?u=0:r+=u,n=n.substring(u,e+s.maxLen/2),Ca(e,t,n,r,s)}const i=Date.now(),o=e-1-r;let a=-1,l=null;for(let u=1;!(Date.now()-i>=s.timeBudget);u++){const f=o-s.windowSize*u;t.lastIndex=Math.max(0,f);const c=ob(t,n,o,a);if(!c&&l||(l=c,f<=0))break;a=f}if(l){const u={word:l[0],startColumn:r+1+l.index,endColumn:r+1+l.index+l[0].length};return t.lastIndex=0,u}return null}function ob(e,t,n,r){let s;for(;s=e.exec(t);){const i=s.index||0;if(i<=n&&e.lastIndex>=n)return s;if(r>0&&i>r)return null}return null}class ab{static computeUnicodeHighlights(t,n,r){const s=r?r.startLineNumber:1,i=r?r.endLineNumber:t.getLineCount(),o=new Wf(n),a=o.getCandidateCodePoints();let l;a==="allNonBasicAscii"?l=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):l=new RegExp(`${lb(Array.from(a))}`,"g");const u=new nb(null,l),f=[];let c=!1,m,g=0,w=0,A=0;e:for(let E=s,N=i;E<=N;E++){const k=t.getLineContent(E),b=k.length;u.reset(0);do if(m=u.next(k),m){let p=m.index,h=m.index+m[0].length;if(p>0){const D=k.charCodeAt(p-1);ua(D)&&p--}if(h+1<b){const D=k.charCodeAt(h-1);ua(D)&&h++}const d=k.substring(p,h);let y=Ca(p+1,jf,k,0);y&&y.endColumn<=p+1&&(y=null);const S=o.shouldHighlightNonBasicASCII(d,y?y.word:null);if(S!==0){if(S===3?g++:S===2?w++:S===1?A++:rb(),f.length>=1e3){c=!0;break e}f.push(new me(E,p+1,E,h+1))}}while(m)}return{ranges:f,hasMore:c,ambiguousCharacterCount:g,invisibleCharacterCount:w,nonBasicAsciiCharacterCount:A}}static computeUnicodeHighlightReason(t,n){const r=new Wf(n);switch(r.shouldHighlightNonBasicASCII(t,null)){case 0:return null;case 2:return{kind:1};case 3:{const i=t.codePointAt(0),o=r.ambiguousCharacters.getPrimaryConfusable(i),a=Ds.getLocales().filter(l=>!Ds.getInstance(new Set([...n.allowedLocales,l])).isAmbiguous(i));return{kind:0,confusableWith:String.fromCodePoint(o),notAmbiguousInLocales:a}}case 1:return{kind:2}}}}function lb(e,t){return`[${W0(e.map(r=>String.fromCodePoint(r)).join(""))}]`}class Wf{constructor(t){this.options=t,this.allowedCodePoints=new Set(t.allowedCodePoints),this.ambiguousCharacters=Ds.getInstance(new Set(t.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const t=new Set;if(this.options.invisibleCharacters)for(const n of ws.codePoints)Hf(String.fromCodePoint(n))||t.add(n);if(this.options.ambiguousCharacters)for(const n of this.ambiguousCharacters.getConfusableCodePoints())t.add(n);for(const n of this.allowedCodePoints)t.delete(n);return t}shouldHighlightNonBasicASCII(t,n){const r=t.codePointAt(0);if(this.allowedCodePoints.has(r))return 0;if(this.options.nonBasicASCII)return 1;let s=!1,i=!1;if(n)for(const o of n){const a=o.codePointAt(0),l=X0(o);s=s||l,!l&&!this.ambiguousCharacters.isAmbiguous(a)&&!ws.isInvisibleCharacter(a)&&(i=!0)}return!s&&i?0:this.options.invisibleCharacters&&!Hf(t)&&ws.isInvisibleCharacter(r)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(r)?3:0}}function Hf(e){return e===" "||e===`
`||e==="	"}class Di{constructor(t,n,r){this.changes=t,this.moves=n,this.hitTimeout=r}}class ub{constructor(t,n){this.lineRangeMapping=t,this.changes=n}}class fe{static addRange(t,n){let r=0;for(;r<n.length&&n[r].endExclusive<t.start;)r++;let s=r;for(;s<n.length&&n[s].start<=t.endExclusive;)s++;if(r===s)n.splice(r,0,t);else{const i=Math.min(t.start,n[r].start),o=Math.max(t.endExclusive,n[s-1].endExclusive);n.splice(r,s-r,new fe(i,o))}}static tryCreate(t,n){if(!(t>n))return new fe(t,n)}static ofLength(t){return new fe(0,t)}static ofStartAndLength(t,n){return new fe(t,t+n)}constructor(t,n){if(this.start=t,this.endExclusive=n,t>n)throw new ht(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(t){return new fe(this.start+t,this.endExclusive+t)}deltaStart(t){return new fe(this.start+t,this.endExclusive)}deltaEnd(t){return new fe(this.start,this.endExclusive+t)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(t){return this.start<=t&&t<this.endExclusive}join(t){return new fe(Math.min(this.start,t.start),Math.max(this.endExclusive,t.endExclusive))}intersect(t){const n=Math.max(this.start,t.start),r=Math.min(this.endExclusive,t.endExclusive);if(n<=r)return new fe(n,r)}intersects(t){const n=Math.max(this.start,t.start),r=Math.min(this.endExclusive,t.endExclusive);return n<r}isBefore(t){return this.endExclusive<=t.start}isAfter(t){return this.start>=t.endExclusive}slice(t){return t.slice(this.start,this.endExclusive)}substring(t){return t.substring(this.start,this.endExclusive)}clip(t){if(this.isEmpty)throw new ht(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,t))}clipCyclic(t){if(this.isEmpty)throw new ht(`Invalid clipping range: ${this.toString()}`);return t<this.start?this.endExclusive-(this.start-t)%this.length:t>=this.endExclusive?this.start+(t-this.start)%this.length:t}forEach(t){for(let n=this.start;n<this.endExclusive;n++)t(n)}}function kr(e,t){const n=Es(e,t);return n===-1?void 0:e[n]}function Es(e,t,n=0,r=e.length){let s=n,i=r;for(;s<i;){const o=Math.floor((s+i)/2);t(e[o])?s=o+1:i=o}return s-1}function cb(e,t){const n=ka(e,t);return n===e.length?void 0:e[n]}function ka(e,t,n=0,r=e.length){let s=n,i=r;for(;s<i;){const o=Math.floor((s+i)/2);t(e[o])?i=o:s=o+1}return s}const zo=class zo{constructor(t){this._array=t,this._findLastMonotonousLastIdx=0}findLastMonotonous(t){if(zo.assertInvariants){if(this._prevFindLastPredicate){for(const r of this._array)if(this._prevFindLastPredicate(r)&&!t(r))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=t}const n=Es(this._array,t,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=n+1,n===-1?void 0:this._array[n]}};zo.assertInvariants=!1;let wi=zo;class ae{static fromRangeInclusive(t){return new ae(t.startLineNumber,t.endLineNumber+1)}static joinMany(t){if(t.length===0)return[];let n=new Wt(t[0].slice());for(let r=1;r<t.length;r++)n=n.getUnion(new Wt(t[r].slice()));return n.ranges}static join(t){if(t.length===0)throw new ht("lineRanges cannot be empty");let n=t[0].startLineNumber,r=t[0].endLineNumberExclusive;for(let s=1;s<t.length;s++)n=Math.min(n,t[s].startLineNumber),r=Math.max(r,t[s].endLineNumberExclusive);return new ae(n,r)}static ofLength(t,n){return new ae(t,t+n)}static deserialize(t){return new ae(t[0],t[1])}constructor(t,n){if(t>n)throw new ht(`startLineNumber ${t} cannot be after endLineNumberExclusive ${n}`);this.startLineNumber=t,this.endLineNumberExclusive=n}contains(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(t){return new ae(this.startLineNumber+t,this.endLineNumberExclusive+t)}deltaLength(t){return new ae(this.startLineNumber,this.endLineNumberExclusive+t)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(t){return new ae(Math.min(this.startLineNumber,t.startLineNumber),Math.max(this.endLineNumberExclusive,t.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(t){const n=Math.max(this.startLineNumber,t.startLineNumber),r=Math.min(this.endLineNumberExclusive,t.endLineNumberExclusive);if(n<=r)return new ae(n,r)}intersectsStrict(t){return this.startLineNumber<t.endLineNumberExclusive&&t.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(t){return this.startLineNumber<=t.endLineNumberExclusive&&t.startLineNumber<=this.endLineNumberExclusive}equals(t){return this.startLineNumber===t.startLineNumber&&this.endLineNumberExclusive===t.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new me(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new me(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(t){const n=[];for(let r=this.startLineNumber;r<this.endLineNumberExclusive;r++)n.push(t(r));return n}forEach(t){for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)t(n)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}toOffsetRange(){return new fe(this.startLineNumber-1,this.endLineNumberExclusive-1)}}class Wt{constructor(t=[]){this._normalizedRanges=t}get ranges(){return this._normalizedRanges}addRange(t){if(t.length===0)return;const n=ka(this._normalizedRanges,s=>s.endLineNumberExclusive>=t.startLineNumber),r=Es(this._normalizedRanges,s=>s.startLineNumber<=t.endLineNumberExclusive)+1;if(n===r)this._normalizedRanges.splice(n,0,t);else if(n===r-1){const s=this._normalizedRanges[n];this._normalizedRanges[n]=s.join(t)}else{const s=this._normalizedRanges[n].join(this._normalizedRanges[r-1]).join(t);this._normalizedRanges.splice(n,r-n,s)}}contains(t){const n=kr(this._normalizedRanges,r=>r.startLineNumber<=t);return!!n&&n.endLineNumberExclusive>t}intersects(t){const n=kr(this._normalizedRanges,r=>r.startLineNumber<t.endLineNumberExclusive);return!!n&&n.endLineNumberExclusive>t.startLineNumber}getUnion(t){if(this._normalizedRanges.length===0)return t;if(t._normalizedRanges.length===0)return this;const n=[];let r=0,s=0,i=null;for(;r<this._normalizedRanges.length||s<t._normalizedRanges.length;){let o=null;if(r<this._normalizedRanges.length&&s<t._normalizedRanges.length){const a=this._normalizedRanges[r],l=t._normalizedRanges[s];a.startLineNumber<l.startLineNumber?(o=a,r++):(o=l,s++)}else r<this._normalizedRanges.length?(o=this._normalizedRanges[r],r++):(o=t._normalizedRanges[s],s++);i===null?i=o:i.endLineNumberExclusive>=o.startLineNumber?i=new ae(i.startLineNumber,Math.max(i.endLineNumberExclusive,o.endLineNumberExclusive)):(n.push(i),i=o)}return i!==null&&n.push(i),new Wt(n)}subtractFrom(t){const n=ka(this._normalizedRanges,o=>o.endLineNumberExclusive>=t.startLineNumber),r=Es(this._normalizedRanges,o=>o.startLineNumber<=t.endLineNumberExclusive)+1;if(n===r)return new Wt([t]);const s=[];let i=t.startLineNumber;for(let o=n;o<r;o++){const a=this._normalizedRanges[o];a.startLineNumber>i&&s.push(new ae(i,a.startLineNumber)),i=a.endLineNumberExclusive}return i<t.endLineNumberExclusive&&s.push(new ae(i,t.endLineNumberExclusive)),new Wt(s)}toString(){return this._normalizedRanges.map(t=>t.toString()).join(", ")}getIntersection(t){const n=[];let r=0,s=0;for(;r<this._normalizedRanges.length&&s<t._normalizedRanges.length;){const i=this._normalizedRanges[r],o=t._normalizedRanges[s],a=i.intersect(o);a&&!a.isEmpty&&n.push(a),i.endLineNumberExclusive<o.endLineNumberExclusive?r++:s++}return new Wt(n)}getWithDelta(t){return new Wt(this._normalizedRanges.map(n=>n.delta(t)))}}const Un=class Un{static betweenPositions(t,n){return t.lineNumber===n.lineNumber?new Un(0,n.column-t.column):new Un(n.lineNumber-t.lineNumber,n.column-1)}static ofRange(t){return Un.betweenPositions(t.getStartPosition(),t.getEndPosition())}static ofText(t){let n=0,r=0;for(const s of t)s===`
`?(n++,r=0):r++;return new Un(n,r)}constructor(t,n){this.lineCount=t,this.columnCount=n}isGreaterThanOrEqualTo(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>=t.columnCount}createRange(t){return this.lineCount===0?new me(t.lineNumber,t.column,t.lineNumber,t.column+this.columnCount):new me(t.lineNumber,t.column,t.lineNumber+this.lineCount,this.columnCount+1)}addToPosition(t){return this.lineCount===0?new Oe(t.lineNumber,t.column+this.columnCount):new Oe(t.lineNumber+this.lineCount,this.columnCount+1)}toString(){return`${this.lineCount},${this.columnCount}`}};Un.zero=new Un(0,0);let Yf=Un;class fb{constructor(t,n){this.range=t,this.text=n}toSingleEditOperation(){return{range:this.range,text:this.text}}}class wt{static inverse(t,n,r){const s=[];let i=1,o=1;for(const l of t){const u=new wt(new ae(i,l.original.startLineNumber),new ae(o,l.modified.startLineNumber));u.modified.isEmpty||s.push(u),i=l.original.endLineNumberExclusive,o=l.modified.endLineNumberExclusive}const a=new wt(new ae(i,n+1),new ae(o,r+1));return a.modified.isEmpty||s.push(a),s}static clip(t,n,r){const s=[];for(const i of t){const o=i.original.intersect(n),a=i.modified.intersect(r);o&&!o.isEmpty&&a&&!a.isEmpty&&s.push(new wt(o,a))}return s}constructor(t,n){this.original=t,this.modified=n}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new wt(this.modified,this.original)}join(t){return new wt(this.original.join(t.original),this.modified.join(t.modified))}toRangeMapping(){const t=this.original.toInclusiveRange(),n=this.modified.toInclusiveRange();if(t&&n)return new Mt(t,n);if(this.original.startLineNumber===1||this.modified.startLineNumber===1){if(!(this.modified.startLineNumber===1&&this.original.startLineNumber===1))throw new ht("not a valid diff");return new Mt(new me(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new me(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1))}else return new Mt(new me(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),new me(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER))}toRangeMapping2(t,n){if(zf(this.original.endLineNumberExclusive,t)&&zf(this.modified.endLineNumberExclusive,n))return new Mt(new me(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new me(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1));if(!this.original.isEmpty&&!this.modified.isEmpty)return new Mt(me.fromPositions(new Oe(this.original.startLineNumber,1),Fr(new Oe(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),t)),me.fromPositions(new Oe(this.modified.startLineNumber,1),Fr(new Oe(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),n)));if(this.original.startLineNumber>1&&this.modified.startLineNumber>1)return new Mt(me.fromPositions(Fr(new Oe(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER),t),Fr(new Oe(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),t)),me.fromPositions(Fr(new Oe(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER),n),Fr(new Oe(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),n)));throw new ht}}function Fr(e,t){if(e.lineNumber<1)return new Oe(1,1);if(e.lineNumber>t.length)return new Oe(t.length,t[t.length-1].length+1);const n=t[e.lineNumber-1];return e.column>n.length+1?new Oe(e.lineNumber,n.length+1):e}function zf(e,t){return e>=1&&e<=t.length}class on extends wt{static fromRangeMappings(t){const n=ae.join(t.map(s=>ae.fromRangeInclusive(s.originalRange))),r=ae.join(t.map(s=>ae.fromRangeInclusive(s.modifiedRange)));return new on(n,r,t)}constructor(t,n,r){super(t,n),this.innerChanges=r}flip(){var t;return new on(this.modified,this.original,(t=this.innerChanges)==null?void 0:t.map(n=>n.flip()))}withInnerChangesFromLineRanges(){return new on(this.original,this.modified,[this.toRangeMapping()])}}class Mt{static assertSorted(t){for(let n=1;n<t.length;n++){const r=t[n-1],s=t[n];if(!(r.originalRange.getEndPosition().isBeforeOrEqual(s.originalRange.getStartPosition())&&r.modifiedRange.getEndPosition().isBeforeOrEqual(s.modifiedRange.getStartPosition())))throw new ht("Range mappings must be sorted")}}constructor(t,n){this.originalRange=t,this.modifiedRange=n}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new Mt(this.modifiedRange,this.originalRange)}toTextEdit(t){const n=t.getValueOfRange(this.modifiedRange);return new fb(this.originalRange,n)}}const hb=3;class db{computeDiff(t,n,r){var l;const i=new pb(t,n,{maxComputationTime:r.maxComputationTimeMs,shouldIgnoreTrimWhitespace:r.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),o=[];let a=null;for(const u of i.changes){let f;u.originalEndLineNumber===0?f=new ae(u.originalStartLineNumber+1,u.originalStartLineNumber+1):f=new ae(u.originalStartLineNumber,u.originalEndLineNumber+1);let c;u.modifiedEndLineNumber===0?c=new ae(u.modifiedStartLineNumber+1,u.modifiedStartLineNumber+1):c=new ae(u.modifiedStartLineNumber,u.modifiedEndLineNumber+1);let m=new on(f,c,(l=u.charChanges)==null?void 0:l.map(g=>new Mt(new me(g.originalStartLineNumber,g.originalStartColumn,g.originalEndLineNumber,g.originalEndColumn),new me(g.modifiedStartLineNumber,g.modifiedStartColumn,g.modifiedEndLineNumber,g.modifiedEndColumn))));a&&(a.modified.endLineNumberExclusive===m.modified.startLineNumber||a.original.endLineNumberExclusive===m.original.startLineNumber)&&(m=new on(a.original.join(m.original),a.modified.join(m.modified),a.innerChanges&&m.innerChanges?a.innerChanges.concat(m.innerChanges):void 0),o.pop()),o.push(m),a=m}return vi(()=>Vf(o,(u,f)=>f.original.startLineNumber-u.original.endLineNumberExclusive===f.modified.startLineNumber-u.modified.endLineNumberExclusive&&u.original.endLineNumberExclusive<f.original.startLineNumber&&u.modified.endLineNumberExclusive<f.modified.startLineNumber)),new Di(o,[],i.quitEarly)}}function Gf(e,t,n,r){return new Fn(e,t,n).ComputeDiff(r)}let Jf=class{constructor(t){const n=[],r=[];for(let s=0,i=t.length;s<i;s++)n[s]=Fa(t[s],1),r[s]=_a(t[s],1);this.lines=t,this._startColumns=n,this._endColumns=r}getElements(){const t=[];for(let n=0,r=this.lines.length;n<r;n++)t[n]=this.lines[n].substring(this._startColumns[n]-1,this._endColumns[n]-1);return t}getStrictElement(t){return this.lines[t]}getStartLineNumber(t){return t+1}getEndLineNumber(t){return t+1}createCharSequence(t,n,r){const s=[],i=[],o=[];let a=0;for(let l=n;l<=r;l++){const u=this.lines[l],f=t?this._startColumns[l]:1,c=t?this._endColumns[l]:u.length+1;for(let m=f;m<c;m++)s[a]=u.charCodeAt(m-1),i[a]=l+1,o[a]=m,a++;!t&&l<r&&(s[a]=10,i[a]=l+1,o[a]=u.length+1,a++)}return new mb(s,i,o)}};class mb{constructor(t,n,r){this._charCodes=t,this._lineNumbers=n,this._columns=r}toString(){return"["+this._charCodes.map((t,n)=>(t===10?"\\n":String.fromCharCode(t))+`-(${this._lineNumbers[n]},${this._columns[n]})`).join(", ")+"]"}_assertIndex(t,n){if(t<0||t>=n.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(t){return t>0&&t===this._lineNumbers.length?this.getEndLineNumber(t-1):(this._assertIndex(t,this._lineNumbers),this._lineNumbers[t])}getEndLineNumber(t){return t===-1?this.getStartLineNumber(t+1):(this._assertIndex(t,this._lineNumbers),this._charCodes[t]===10?this._lineNumbers[t]+1:this._lineNumbers[t])}getStartColumn(t){return t>0&&t===this._columns.length?this.getEndColumn(t-1):(this._assertIndex(t,this._columns),this._columns[t])}getEndColumn(t){return t===-1?this.getStartColumn(t+1):(this._assertIndex(t,this._columns),this._charCodes[t]===10?1:this._columns[t]+1)}}class _r{constructor(t,n,r,s,i,o,a,l){this.originalStartLineNumber=t,this.originalStartColumn=n,this.originalEndLineNumber=r,this.originalEndColumn=s,this.modifiedStartLineNumber=i,this.modifiedStartColumn=o,this.modifiedEndLineNumber=a,this.modifiedEndColumn=l}static createFromDiffChange(t,n,r){const s=n.getStartLineNumber(t.originalStart),i=n.getStartColumn(t.originalStart),o=n.getEndLineNumber(t.originalStart+t.originalLength-1),a=n.getEndColumn(t.originalStart+t.originalLength-1),l=r.getStartLineNumber(t.modifiedStart),u=r.getStartColumn(t.modifiedStart),f=r.getEndLineNumber(t.modifiedStart+t.modifiedLength-1),c=r.getEndColumn(t.modifiedStart+t.modifiedLength-1);return new _r(s,i,o,a,l,u,f,c)}}function gb(e){if(e.length<=1)return e;const t=[e[0]];let n=t[0];for(let r=1,s=e.length;r<s;r++){const i=e[r],o=i.originalStart-(n.originalStart+n.originalLength),a=i.modifiedStart-(n.modifiedStart+n.modifiedLength);Math.min(o,a)<hb?(n.originalLength=i.originalStart+i.originalLength-n.originalStart,n.modifiedLength=i.modifiedStart+i.modifiedLength-n.modifiedStart):(t.push(i),n=i)}return t}class As{constructor(t,n,r,s,i){this.originalStartLineNumber=t,this.originalEndLineNumber=n,this.modifiedStartLineNumber=r,this.modifiedEndLineNumber=s,this.charChanges=i}static createFromDiffResult(t,n,r,s,i,o,a){let l,u,f,c,m;if(n.originalLength===0?(l=r.getStartLineNumber(n.originalStart)-1,u=0):(l=r.getStartLineNumber(n.originalStart),u=r.getEndLineNumber(n.originalStart+n.originalLength-1)),n.modifiedLength===0?(f=s.getStartLineNumber(n.modifiedStart)-1,c=0):(f=s.getStartLineNumber(n.modifiedStart),c=s.getEndLineNumber(n.modifiedStart+n.modifiedLength-1)),o&&n.originalLength>0&&n.originalLength<20&&n.modifiedLength>0&&n.modifiedLength<20&&i()){const g=r.createCharSequence(t,n.originalStart,n.originalStart+n.originalLength-1),w=s.createCharSequence(t,n.modifiedStart,n.modifiedStart+n.modifiedLength-1);if(g.getElements().length>0&&w.getElements().length>0){let A=Gf(g,w,i,!0).changes;a&&(A=gb(A)),m=[];for(let E=0,N=A.length;E<N;E++)m.push(_r.createFromDiffChange(A[E],g,w))}}return new As(l,u,f,c,m)}}class pb{constructor(t,n,r){this.shouldComputeCharChanges=r.shouldComputeCharChanges,this.shouldPostProcessCharChanges=r.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=r.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=r.shouldMakePrettyDiff,this.originalLines=t,this.modifiedLines=n,this.original=new Jf(t),this.modified=new Jf(n),this.continueLineDiff=Qf(r.maxComputationTime),this.continueCharDiff=Qf(r.maxComputationTime===0?0:Math.min(r.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const t=Gf(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),n=t.changes,r=t.quitEarly;if(this.shouldIgnoreTrimWhitespace){const a=[];for(let l=0,u=n.length;l<u;l++)a.push(As.createFromDiffResult(this.shouldIgnoreTrimWhitespace,n[l],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:r,changes:a}}const s=[];let i=0,o=0;for(let a=-1,l=n.length;a<l;a++){const u=a+1<l?n[a+1]:null,f=u?u.originalStart:this.originalLines.length,c=u?u.modifiedStart:this.modifiedLines.length;for(;i<f&&o<c;){const m=this.originalLines[i],g=this.modifiedLines[o];if(m!==g){{let w=Fa(m,1),A=Fa(g,1);for(;w>1&&A>1;){const E=m.charCodeAt(w-2),N=g.charCodeAt(A-2);if(E!==N)break;w--,A--}(w>1||A>1)&&this._pushTrimWhitespaceCharChange(s,i+1,1,w,o+1,1,A)}{let w=_a(m,1),A=_a(g,1);const E=m.length+1,N=g.length+1;for(;w<E&&A<N;){const k=m.charCodeAt(w-1),b=m.charCodeAt(A-1);if(k!==b)break;w++,A++}(w<E||A<N)&&this._pushTrimWhitespaceCharChange(s,i+1,w,E,o+1,A,N)}}i++,o++}u&&(s.push(As.createFromDiffResult(this.shouldIgnoreTrimWhitespace,u,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),i+=u.originalLength,o+=u.modifiedLength)}return{quitEarly:r,changes:s}}_pushTrimWhitespaceCharChange(t,n,r,s,i,o,a){if(this._mergeTrimWhitespaceCharChange(t,n,r,s,i,o,a))return;let l;this.shouldComputeCharChanges&&(l=[new _r(n,r,n,s,i,o,i,a)]),t.push(new As(n,n,i,i,l))}_mergeTrimWhitespaceCharChange(t,n,r,s,i,o,a){const l=t.length;if(l===0)return!1;const u=t[l-1];return u.originalEndLineNumber===0||u.modifiedEndLineNumber===0?!1:u.originalEndLineNumber===n&&u.modifiedEndLineNumber===i?(this.shouldComputeCharChanges&&u.charChanges&&u.charChanges.push(new _r(n,r,n,s,i,o,i,a)),!0):u.originalEndLineNumber+1===n&&u.modifiedEndLineNumber+1===i?(u.originalEndLineNumber=n,u.modifiedEndLineNumber=i,this.shouldComputeCharChanges&&u.charChanges&&u.charChanges.push(new _r(n,r,n,s,i,o,i,a)),!0):!1}}function Fa(e,t){const n=Y0(e);return n===-1?t:n+1}function _a(e,t){const n=z0(e);return n===-1?t:n+2}function Qf(e){if(e===0)return()=>!0;const t=Date.now();return()=>Date.now()-t<e}function bb(e,t,n=(r,s)=>r===s){if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(let r=0,s=e.length;r<s;r++)if(!n(e[r],t[r]))return!1;return!0}function*yb(e,t){let n,r;for(const s of e)r!==void 0&&t(r,s)?n.push(s):(n&&(yield n),n=[s]),r=s;n&&(yield n)}function vb(e,t){for(let n=0;n<=e.length;n++)t(n===0?void 0:e[n-1],n===e.length?void 0:e[n])}function Db(e,t){for(let n=0;n<e.length;n++)t(n===0?void 0:e[n-1],e[n],n+1===e.length?void 0:e[n+1])}function wb(e,t){for(const n of t)e.push(n)}var Ta;(function(e){function t(i){return i<0}e.isLessThan=t;function n(i){return i<=0}e.isLessThanOrEqual=n;function r(i){return i>0}e.isGreaterThan=r;function s(i){return i===0}e.isNeitherLessOrGreaterThan=s,e.greaterThan=1,e.lessThan=-1,e.neitherLessOrGreaterThan=0})(Ta||(Ta={}));function Si(e,t){return(n,r)=>t(e(n),e(r))}const Ei=(e,t)=>e-t;function Sb(e){return(t,n)=>-e(t,n)}const bs=class bs{constructor(t){this.iterate=t}toArray(){const t=[];return this.iterate(n=>(t.push(n),!0)),t}filter(t){return new bs(n=>this.iterate(r=>t(r)?n(r):!0))}map(t){return new bs(n=>this.iterate(r=>n(t(r))))}findLast(t){let n;return this.iterate(r=>(t(r)&&(n=r),!0)),n}findLastMaxBy(t){let n,r=!0;return this.iterate(s=>((r||Ta.isGreaterThan(t(s,n)))&&(r=!1,n=s),!0)),n}};bs.empty=new bs(t=>{});let Kf=bs;class an{static trivial(t,n){return new an([new Te(fe.ofLength(t.length),fe.ofLength(n.length))],!1)}static trivialTimedOut(t,n){return new an([new Te(fe.ofLength(t.length),fe.ofLength(n.length))],!0)}constructor(t,n){this.diffs=t,this.hitTimeout=n}}class Te{static invert(t,n){const r=[];return vb(t,(s,i)=>{r.push(Te.fromOffsetPairs(s?s.getEndExclusives():ln.zero,i?i.getStarts():new ln(n,(s?s.seq2Range.endExclusive-s.seq1Range.endExclusive:0)+n)))}),r}static fromOffsetPairs(t,n){return new Te(new fe(t.offset1,n.offset1),new fe(t.offset2,n.offset2))}static assertSorted(t){let n;for(const r of t){if(n&&!(n.seq1Range.endExclusive<=r.seq1Range.start&&n.seq2Range.endExclusive<=r.seq2Range.start))throw new ht("Sequence diffs must be sorted");n=r}}constructor(t,n){this.seq1Range=t,this.seq2Range=n}swap(){return new Te(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(t){return new Te(this.seq1Range.join(t.seq1Range),this.seq2Range.join(t.seq2Range))}delta(t){return t===0?this:new Te(this.seq1Range.delta(t),this.seq2Range.delta(t))}deltaStart(t){return t===0?this:new Te(this.seq1Range.deltaStart(t),this.seq2Range.deltaStart(t))}deltaEnd(t){return t===0?this:new Te(this.seq1Range.deltaEnd(t),this.seq2Range.deltaEnd(t))}intersect(t){const n=this.seq1Range.intersect(t.seq1Range),r=this.seq2Range.intersect(t.seq2Range);if(!(!n||!r))return new Te(n,r)}getStarts(){return new ln(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new ln(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}const yr=class yr{constructor(t,n){this.offset1=t,this.offset2=n}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(t){return t===0?this:new yr(this.offset1+t,this.offset2+t)}equals(t){return this.offset1===t.offset1&&this.offset2===t.offset2}};yr.zero=new yr(0,0),yr.max=new yr(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);let ln=yr;const Go=class Go{isValid(){return!0}};Go.instance=new Go;let Ns=Go;class Eb{constructor(t){if(this.timeout=t,this.startTime=Date.now(),this.valid=!0,t<=0)throw new ht("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}class Ma{constructor(t,n){this.width=t,this.height=n,this.array=[],this.array=new Array(t*n)}get(t,n){return this.array[t+n*this.width]}set(t,n,r){this.array[t+n*this.width]=r}}function Oa(e){return e===32||e===9}const ii=class ii{static getKey(t){let n=this.chrKeys.get(t);return n===void 0&&(n=this.chrKeys.size,this.chrKeys.set(t,n)),n}constructor(t,n,r){this.range=t,this.lines=n,this.source=r,this.histogram=[];let s=0;for(let i=t.startLineNumber-1;i<t.endLineNumberExclusive-1;i++){const o=n[i];for(let l=0;l<o.length;l++){s++;const u=o[l],f=ii.getKey(u);this.histogram[f]=(this.histogram[f]||0)+1}s++;const a=ii.getKey(`
`);this.histogram[a]=(this.histogram[a]||0)+1}this.totalCount=s}computeSimilarity(t){let n=0;const r=Math.max(this.histogram.length,t.histogram.length);for(let s=0;s<r;s++)n+=Math.abs((this.histogram[s]??0)-(t.histogram[s]??0));return 1-n/(this.totalCount+t.totalCount)}};ii.chrKeys=new Map;let Ai=ii;class Ab{compute(t,n,r=Ns.instance,s){if(t.length===0||n.length===0)return an.trivial(t,n);const i=new Ma(t.length,n.length),o=new Ma(t.length,n.length),a=new Ma(t.length,n.length);for(let w=0;w<t.length;w++)for(let A=0;A<n.length;A++){if(!r.isValid())return an.trivialTimedOut(t,n);const E=w===0?0:i.get(w-1,A),N=A===0?0:i.get(w,A-1);let k;t.getElement(w)===n.getElement(A)?(w===0||A===0?k=0:k=i.get(w-1,A-1),w>0&&A>0&&o.get(w-1,A-1)===3&&(k+=a.get(w-1,A-1)),k+=s?s(w,A):1):k=-1;const b=Math.max(E,N,k);if(b===k){const p=w>0&&A>0?a.get(w-1,A-1):0;a.set(w,A,p+1),o.set(w,A,3)}else b===E?(a.set(w,A,0),o.set(w,A,1)):b===N&&(a.set(w,A,0),o.set(w,A,2));i.set(w,A,b)}const l=[];let u=t.length,f=n.length;function c(w,A){(w+1!==u||A+1!==f)&&l.push(new Te(new fe(w+1,u),new fe(A+1,f))),u=w,f=A}let m=t.length-1,g=n.length-1;for(;m>=0&&g>=0;)o.get(m,g)===3?(c(m,g),m--,g--):o.get(m,g)===1?m--:g--;return c(-1,-1),l.reverse(),new an(l,!1)}}class Xf{compute(t,n,r=Ns.instance){if(t.length===0||n.length===0)return an.trivial(t,n);const s=t,i=n;function o(A,E){for(;A<s.length&&E<i.length&&s.getElement(A)===i.getElement(E);)A++,E++;return A}let a=0;const l=new Nb;l.set(0,o(0,0));const u=new xb;u.set(0,l.get(0)===0?null:new Zf(null,0,0,l.get(0)));let f=0;e:for(;;){if(a++,!r.isValid())return an.trivialTimedOut(s,i);const A=-Math.min(a,i.length+a%2),E=Math.min(a,s.length+a%2);for(f=A;f<=E;f+=2){const N=f===E?-1:l.get(f+1),k=f===A?-1:l.get(f-1)+1,b=Math.min(Math.max(N,k),s.length),p=b-f;if(b>s.length||p>i.length)continue;const h=o(b,p);l.set(f,h);const d=b===N?u.get(f+1):u.get(f-1);if(u.set(f,h!==b?new Zf(d,b,p,h-b):d),l.get(f)===s.length&&l.get(f)-f===i.length)break e}}let c=u.get(f);const m=[];let g=s.length,w=i.length;for(;;){const A=c?c.x+c.length:0,E=c?c.y+c.length:0;if((A!==g||E!==w)&&m.push(new Te(new fe(A,g),new fe(E,w))),!c)break;g=c.x,w=c.y,c=c.prev}return m.reverse(),new an(m,!1)}}class Zf{constructor(t,n,r,s){this.prev=t,this.x=n,this.y=r,this.length=s}}class Nb{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(t){return t<0?(t=-t-1,this.negativeArr[t]):this.positiveArr[t]}set(t,n){if(t<0){if(t=-t-1,t>=this.negativeArr.length){const r=this.negativeArr;this.negativeArr=new Int32Array(r.length*2),this.negativeArr.set(r)}this.negativeArr[t]=n}else{if(t>=this.positiveArr.length){const r=this.positiveArr;this.positiveArr=new Int32Array(r.length*2),this.positiveArr.set(r)}this.positiveArr[t]=n}}}class xb{constructor(){this.positiveArr=[],this.negativeArr=[]}get(t){return t<0?(t=-t-1,this.negativeArr[t]):this.positiveArr[t]}set(t,n){t<0?(t=-t-1,this.negativeArr[t]=n):this.positiveArr[t]=n}}class Ni{constructor(t,n,r){this.lines=t,this.range=n,this.considerWhitespaceChanges=r,this.elements=[],this.firstElementOffsetByLineIdx=[],this.lineStartOffsets=[],this.trimmedWsLengthsByLineIdx=[],this.firstElementOffsetByLineIdx.push(0);for(let s=this.range.startLineNumber;s<=this.range.endLineNumber;s++){let i=t[s-1],o=0;s===this.range.startLineNumber&&this.range.startColumn>1&&(o=this.range.startColumn-1,i=i.substring(o)),this.lineStartOffsets.push(o);let a=0;if(!r){const u=i.trimStart();a=i.length-u.length,i=u.trimEnd()}this.trimmedWsLengthsByLineIdx.push(a);const l=s===this.range.endLineNumber?Math.min(this.range.endColumn-1-o-a,i.length):i.length;for(let u=0;u<l;u++)this.elements.push(i.charCodeAt(u));s<this.range.endLineNumber&&(this.elements.push(10),this.firstElementOffsetByLineIdx.push(this.elements.length))}}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new fe(0,this.length))}getText(t){return this.elements.slice(t.start,t.endExclusive).map(n=>String.fromCharCode(n)).join("")}getElement(t){return this.elements[t]}get length(){return this.elements.length}getBoundaryScore(t){const n=th(t>0?this.elements[t-1]:-1),r=th(t<this.elements.length?this.elements[t]:-1);if(n===7&&r===8)return 0;if(n===8)return 150;let s=0;return n!==r&&(s+=10,n===0&&r===1&&(s+=1)),s+=eh(n),s+=eh(r),s}translateOffset(t,n="right"){const r=Es(this.firstElementOffsetByLineIdx,i=>i<=t),s=t-this.firstElementOffsetByLineIdx[r];return new Oe(this.range.startLineNumber+r,1+this.lineStartOffsets[r]+s+(s===0&&n==="left"?0:this.trimmedWsLengthsByLineIdx[r]))}translateRange(t){const n=this.translateOffset(t.start,"right"),r=this.translateOffset(t.endExclusive,"left");return r.isBefore(n)?me.fromPositions(r,r):me.fromPositions(n,r)}findWordContaining(t){if(t<0||t>=this.elements.length||!Ra(this.elements[t]))return;let n=t;for(;n>0&&Ra(this.elements[n-1]);)n--;let r=t;for(;r<this.elements.length&&Ra(this.elements[r]);)r++;return new fe(n,r)}countLinesIn(t){return this.translateOffset(t.endExclusive).lineNumber-this.translateOffset(t.start).lineNumber}isStronglyEqual(t,n){return this.elements[t]===this.elements[n]}extendToFullLines(t){const n=kr(this.firstElementOffsetByLineIdx,s=>s<=t.start)??0,r=cb(this.firstElementOffsetByLineIdx,s=>t.endExclusive<=s)??this.elements.length;return new fe(n,r)}}function Ra(e){return e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57}const Lb={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function eh(e){return Lb[e]}function th(e){return e===10?8:e===13?7:Oa(e)?6:e>=97&&e<=122?0:e>=65&&e<=90?1:e>=48&&e<=57?2:e===-1?3:e===44||e===59?5:4}function Cb(e,t,n,r,s,i){let{moves:o,excludedChanges:a}=Fb(e,t,n,i);if(!i.isValid())return[];const l=e.filter(f=>!a.has(f)),u=_b(l,r,s,t,n,i);return wb(o,u),o=Tb(o),o=o.filter(f=>{const c=f.original.toOffsetRange().slice(t).map(g=>g.trim());return c.join(`
`).length>=15&&kb(c,g=>g.length>=2)>=2}),o=Mb(e,o),o}function kb(e,t){let n=0;for(const r of e)t(r)&&n++;return n}function Fb(e,t,n,r){const s=[],i=e.filter(l=>l.modified.isEmpty&&l.original.length>=3).map(l=>new Ai(l.original,t,l)),o=new Set(e.filter(l=>l.original.isEmpty&&l.modified.length>=3).map(l=>new Ai(l.modified,n,l))),a=new Set;for(const l of i){let u=-1,f;for(const c of o){const m=l.computeSimilarity(c);m>u&&(u=m,f=c)}if(u>.9&&f&&(o.delete(f),s.push(new wt(l.range,f.range)),a.add(l.source),a.add(f.source)),!r.isValid())return{moves:s,excludedChanges:a}}return{moves:s,excludedChanges:a}}function _b(e,t,n,r,s,i){const o=[],a=new Qp;for(const m of e)for(let g=m.original.startLineNumber;g<m.original.endLineNumberExclusive-2;g++){const w=`${t[g-1]}:${t[g+1-1]}:${t[g+2-1]}`;a.add(w,{range:new ae(g,g+3)})}const l=[];e.sort(Si(m=>m.modified.startLineNumber,Ei));for(const m of e){let g=[];for(let w=m.modified.startLineNumber;w<m.modified.endLineNumberExclusive-2;w++){const A=`${n[w-1]}:${n[w+1-1]}:${n[w+2-1]}`,E=new ae(w,w+3),N=[];a.forEach(A,({range:k})=>{for(const p of g)if(p.originalLineRange.endLineNumberExclusive+1===k.endLineNumberExclusive&&p.modifiedLineRange.endLineNumberExclusive+1===E.endLineNumberExclusive){p.originalLineRange=new ae(p.originalLineRange.startLineNumber,k.endLineNumberExclusive),p.modifiedLineRange=new ae(p.modifiedLineRange.startLineNumber,E.endLineNumberExclusive),N.push(p);return}const b={modifiedLineRange:E,originalLineRange:k};l.push(b),N.push(b)}),g=N}if(!i.isValid())return[]}l.sort(Sb(Si(m=>m.modifiedLineRange.length,Ei)));const u=new Wt,f=new Wt;for(const m of l){const g=m.modifiedLineRange.startLineNumber-m.originalLineRange.startLineNumber,w=u.subtractFrom(m.modifiedLineRange),A=f.subtractFrom(m.originalLineRange).getWithDelta(g),E=w.getIntersection(A);for(const N of E.ranges){if(N.length<3)continue;const k=N,b=N.delta(-g);o.push(new wt(b,k)),u.addRange(k),f.addRange(b)}}o.sort(Si(m=>m.original.startLineNumber,Ei));const c=new wi(e);for(let m=0;m<o.length;m++){const g=o[m],w=c.findLastMonotonous(d=>d.original.startLineNumber<=g.original.startLineNumber),A=kr(e,d=>d.modified.startLineNumber<=g.modified.startLineNumber),E=Math.max(g.original.startLineNumber-w.original.startLineNumber,g.modified.startLineNumber-A.modified.startLineNumber),N=c.findLastMonotonous(d=>d.original.startLineNumber<g.original.endLineNumberExclusive),k=kr(e,d=>d.modified.startLineNumber<g.modified.endLineNumberExclusive),b=Math.max(N.original.endLineNumberExclusive-g.original.endLineNumberExclusive,k.modified.endLineNumberExclusive-g.modified.endLineNumberExclusive);let p;for(p=0;p<E;p++){const d=g.original.startLineNumber-p-1,y=g.modified.startLineNumber-p-1;if(d>r.length||y>s.length||u.contains(y)||f.contains(d)||!nh(r[d-1],s[y-1],i))break}p>0&&(f.addRange(new ae(g.original.startLineNumber-p,g.original.startLineNumber)),u.addRange(new ae(g.modified.startLineNumber-p,g.modified.startLineNumber)));let h;for(h=0;h<b;h++){const d=g.original.endLineNumberExclusive+h,y=g.modified.endLineNumberExclusive+h;if(d>r.length||y>s.length||u.contains(y)||f.contains(d)||!nh(r[d-1],s[y-1],i))break}h>0&&(f.addRange(new ae(g.original.endLineNumberExclusive,g.original.endLineNumberExclusive+h)),u.addRange(new ae(g.modified.endLineNumberExclusive,g.modified.endLineNumberExclusive+h))),(p>0||h>0)&&(o[m]=new wt(new ae(g.original.startLineNumber-p,g.original.endLineNumberExclusive+h),new ae(g.modified.startLineNumber-p,g.modified.endLineNumberExclusive+h)))}return o}function nh(e,t,n){if(e.trim()===t.trim())return!0;if(e.length>300&&t.length>300)return!1;const s=new Xf().compute(new Ni([e],new me(1,1,1,e.length),!1),new Ni([t],new me(1,1,1,t.length),!1),n);let i=0;const o=Te.invert(s.diffs,e.length);for(const f of o)f.seq1Range.forEach(c=>{Oa(e.charCodeAt(c))||i++});function a(f){let c=0;for(let m=0;m<e.length;m++)Oa(f.charCodeAt(m))||c++;return c}const l=a(e.length>t.length?e:t);return i/l>.6&&l>10}function Tb(e){if(e.length===0)return e;e.sort(Si(n=>n.original.startLineNumber,Ei));const t=[e[0]];for(let n=1;n<e.length;n++){const r=t[t.length-1],s=e[n],i=s.original.startLineNumber-r.original.endLineNumberExclusive,o=s.modified.startLineNumber-r.modified.endLineNumberExclusive;if(i>=0&&o>=0&&i+o<=2){t[t.length-1]=r.join(s);continue}t.push(s)}return t}function Mb(e,t){const n=new wi(e);return t=t.filter(r=>{const s=n.findLastMonotonous(a=>a.original.startLineNumber<r.original.endLineNumberExclusive)||new wt(new ae(1,1),new ae(1,1)),i=kr(e,a=>a.modified.startLineNumber<r.modified.endLineNumberExclusive);return s!==i}),t}function rh(e,t,n){let r=n;return r=sh(e,t,r),r=sh(e,t,r),r=Ob(e,t,r),r}function sh(e,t,n){if(n.length===0)return n;const r=[];r.push(n[0]);for(let i=1;i<n.length;i++){const o=r[r.length-1];let a=n[i];if(a.seq1Range.isEmpty||a.seq2Range.isEmpty){const l=a.seq1Range.start-o.seq1Range.endExclusive;let u;for(u=1;u<=l&&!(e.getElement(a.seq1Range.start-u)!==e.getElement(a.seq1Range.endExclusive-u)||t.getElement(a.seq2Range.start-u)!==t.getElement(a.seq2Range.endExclusive-u));u++);if(u--,u===l){r[r.length-1]=new Te(new fe(o.seq1Range.start,a.seq1Range.endExclusive-l),new fe(o.seq2Range.start,a.seq2Range.endExclusive-l));continue}a=a.delta(-u)}r.push(a)}const s=[];for(let i=0;i<r.length-1;i++){const o=r[i+1];let a=r[i];if(a.seq1Range.isEmpty||a.seq2Range.isEmpty){const l=o.seq1Range.start-a.seq1Range.endExclusive;let u;for(u=0;u<l&&!(!e.isStronglyEqual(a.seq1Range.start+u,a.seq1Range.endExclusive+u)||!t.isStronglyEqual(a.seq2Range.start+u,a.seq2Range.endExclusive+u));u++);if(u===l){r[i+1]=new Te(new fe(a.seq1Range.start+l,o.seq1Range.endExclusive),new fe(a.seq2Range.start+l,o.seq2Range.endExclusive));continue}u>0&&(a=a.delta(u))}s.push(a)}return r.length>0&&s.push(r[r.length-1]),s}function Ob(e,t,n){if(!e.getBoundaryScore||!t.getBoundaryScore)return n;for(let r=0;r<n.length;r++){const s=r>0?n[r-1]:void 0,i=n[r],o=r+1<n.length?n[r+1]:void 0,a=new fe(s?s.seq1Range.endExclusive+1:0,o?o.seq1Range.start-1:e.length),l=new fe(s?s.seq2Range.endExclusive+1:0,o?o.seq2Range.start-1:t.length);i.seq1Range.isEmpty?n[r]=ih(i,e,t,a,l):i.seq2Range.isEmpty&&(n[r]=ih(i.swap(),t,e,l,a).swap())}return n}function ih(e,t,n,r,s){let o=1;for(;e.seq1Range.start-o>=r.start&&e.seq2Range.start-o>=s.start&&n.isStronglyEqual(e.seq2Range.start-o,e.seq2Range.endExclusive-o)&&o<100;)o++;o--;let a=0;for(;e.seq1Range.start+a<r.endExclusive&&e.seq2Range.endExclusive+a<s.endExclusive&&n.isStronglyEqual(e.seq2Range.start+a,e.seq2Range.endExclusive+a)&&a<100;)a++;if(o===0&&a===0)return e;let l=0,u=-1;for(let f=-o;f<=a;f++){const c=e.seq2Range.start+f,m=e.seq2Range.endExclusive+f,g=e.seq1Range.start+f,w=t.getBoundaryScore(g)+n.getBoundaryScore(c)+n.getBoundaryScore(m);w>u&&(u=w,l=f)}return e.delta(l)}function Rb(e,t,n){const r=[];for(const s of n){const i=r[r.length-1];if(!i){r.push(s);continue}s.seq1Range.start-i.seq1Range.endExclusive<=2||s.seq2Range.start-i.seq2Range.endExclusive<=2?r[r.length-1]=new Te(i.seq1Range.join(s.seq1Range),i.seq2Range.join(s.seq2Range)):r.push(s)}return r}function Pb(e,t,n){const r=Te.invert(n,e.length),s=[];let i=new ln(0,0);function o(l,u){if(l.offset1<i.offset1||l.offset2<i.offset2)return;const f=e.findWordContaining(l.offset1),c=t.findWordContaining(l.offset2);if(!f||!c)return;let m=new Te(f,c);const g=m.intersect(u);let w=g.seq1Range.length,A=g.seq2Range.length;for(;r.length>0;){const E=r[0];if(!(E.seq1Range.intersects(m.seq1Range)||E.seq2Range.intersects(m.seq2Range)))break;const k=e.findWordContaining(E.seq1Range.start),b=t.findWordContaining(E.seq2Range.start),p=new Te(k,b),h=p.intersect(E);if(w+=h.seq1Range.length,A+=h.seq2Range.length,m=m.join(p),m.seq1Range.endExclusive>=E.seq1Range.endExclusive)r.shift();else break}w+A<(m.seq1Range.length+m.seq2Range.length)*2/3&&s.push(m),i=m.getEndExclusives()}for(;r.length>0;){const l=r.shift();l.seq1Range.isEmpty||(o(l.getStarts(),l),o(l.getEndExclusives().delta(-1),l))}return $b(n,s)}function $b(e,t){const n=[];for(;e.length>0||t.length>0;){const r=e[0],s=t[0];let i;r&&(!s||r.seq1Range.start<s.seq1Range.start)?i=e.shift():i=t.shift(),n.length>0&&n[n.length-1].seq1Range.endExclusive>=i.seq1Range.start?n[n.length-1]=n[n.length-1].join(i):n.push(i)}return n}function Ib(e,t,n){let r=n;if(r.length===0)return r;let s=0,i;do{i=!1;const o=[r[0]];for(let a=1;a<r.length;a++){let f=function(m,g){const w=new fe(u.seq1Range.endExclusive,l.seq1Range.start);return e.getText(w).replace(/\s/g,"").length<=4&&(m.seq1Range.length+m.seq2Range.length>5||g.seq1Range.length+g.seq2Range.length>5)};const l=r[a],u=o[o.length-1];f(u,l)?(i=!0,o[o.length-1]=o[o.length-1].join(l)):o.push(l)}r=o}while(s++<10&&i);return r}function Bb(e,t,n){let r=n;if(r.length===0)return r;let s=0,i;do{i=!1;const a=[r[0]];for(let l=1;l<r.length;l++){let c=function(g,w){const A=new fe(f.seq1Range.endExclusive,u.seq1Range.start);if(e.countLinesIn(A)>5||A.length>500)return!1;const N=e.getText(A).trim();if(N.length>20||N.split(/\r\n|\r|\n/).length>1)return!1;const k=e.countLinesIn(g.seq1Range),b=g.seq1Range.length,p=t.countLinesIn(g.seq2Range),h=g.seq2Range.length,d=e.countLinesIn(w.seq1Range),y=w.seq1Range.length,S=t.countLinesIn(w.seq2Range),D=w.seq2Range.length,x=2*40+50;function C(L){return Math.min(L,x)}return Math.pow(Math.pow(C(k*40+b),1.5)+Math.pow(C(p*40+h),1.5),1.5)+Math.pow(Math.pow(C(d*40+y),1.5)+Math.pow(C(S*40+D),1.5),1.5)>(x**1.5)**1.5*1.3};const u=r[l],f=a[a.length-1];c(f,u)?(i=!0,a[a.length-1]=a[a.length-1].join(u)):a.push(u)}r=a}while(s++<10&&i);const o=[];return Db(r,(a,l,u)=>{let f=l;function c(N){return N.length>0&&N.trim().length<=3&&l.seq1Range.length+l.seq2Range.length>100}const m=e.extendToFullLines(l.seq1Range),g=e.getText(new fe(m.start,l.seq1Range.start));c(g)&&(f=f.deltaStart(-g.length));const w=e.getText(new fe(l.seq1Range.endExclusive,m.endExclusive));c(w)&&(f=f.deltaEnd(w.length));const A=Te.fromOffsetPairs(a?a.getEndExclusives():ln.zero,u?u.getStarts():ln.max),E=f.intersect(A);o.length>0&&E.getStarts().equals(o[o.length-1].getEndExclusives())?o[o.length-1]=o[o.length-1].join(E):o.push(E)}),o}class oh{constructor(t,n){this.trimmedHash=t,this.lines=n}getElement(t){return this.trimmedHash[t]}get length(){return this.trimmedHash.length}getBoundaryScore(t){const n=t===0?0:ah(this.lines[t-1]),r=t===this.lines.length?0:ah(this.lines[t]);return 1e3-(n+r)}getText(t){return this.lines.slice(t.start,t.endExclusive).join(`
`)}isStronglyEqual(t,n){return this.lines[t]===this.lines[n]}}function ah(e){let t=0;for(;t<e.length&&(e.charCodeAt(t)===32||e.charCodeAt(t)===9);)t++;return t}class Vb{constructor(){this.dynamicProgrammingDiffing=new Ab,this.myersDiffingAlgorithm=new Xf}computeDiff(t,n,r){if(t.length<=1&&bb(t,n,(h,d)=>h===d))return new Di([],[],!1);if(t.length===1&&t[0].length===0||n.length===1&&n[0].length===0)return new Di([new on(new ae(1,t.length+1),new ae(1,n.length+1),[new Mt(new me(1,1,t.length,t[t.length-1].length+1),new me(1,1,n.length,n[n.length-1].length+1))])],[],!1);const s=r.maxComputationTimeMs===0?Ns.instance:new Eb(r.maxComputationTimeMs),i=!r.ignoreTrimWhitespace,o=new Map;function a(h){let d=o.get(h);return d===void 0&&(d=o.size,o.set(h,d)),d}const l=t.map(h=>a(h.trim())),u=n.map(h=>a(h.trim())),f=new oh(l,t),c=new oh(u,n),m=f.length+c.length<1700?this.dynamicProgrammingDiffing.compute(f,c,s,(h,d)=>t[h]===n[d]?n[d].length===0?.1:1+Math.log(1+n[d].length):.99):this.myersDiffingAlgorithm.compute(f,c,s);let g=m.diffs,w=m.hitTimeout;g=rh(f,c,g),g=Ib(f,c,g);const A=[],E=h=>{if(i)for(let d=0;d<h;d++){const y=N+d,S=k+d;if(t[y]!==n[S]){const D=this.refineDiff(t,n,new Te(new fe(y,y+1),new fe(S,S+1)),s,i);for(const x of D.mappings)A.push(x);D.hitTimeout&&(w=!0)}}};let N=0,k=0;for(const h of g){vi(()=>h.seq1Range.start-N===h.seq2Range.start-k);const d=h.seq1Range.start-N;E(d),N=h.seq1Range.endExclusive,k=h.seq2Range.endExclusive;const y=this.refineDiff(t,n,h,s,i);y.hitTimeout&&(w=!0);for(const S of y.mappings)A.push(S)}E(t.length-N);const b=lh(A,t,n);let p=[];return r.computeMoves&&(p=this.computeMoves(b,t,n,l,u,s,i)),vi(()=>{function h(y,S){if(y.lineNumber<1||y.lineNumber>S.length)return!1;const D=S[y.lineNumber-1];return!(y.column<1||y.column>D.length+1)}function d(y,S){return!(y.startLineNumber<1||y.startLineNumber>S.length+1||y.endLineNumberExclusive<1||y.endLineNumberExclusive>S.length+1)}for(const y of b){if(!y.innerChanges)return!1;for(const S of y.innerChanges)if(!(h(S.modifiedRange.getStartPosition(),n)&&h(S.modifiedRange.getEndPosition(),n)&&h(S.originalRange.getStartPosition(),t)&&h(S.originalRange.getEndPosition(),t)))return!1;if(!d(y.modified,n)||!d(y.original,t))return!1}return!0}),new Di(b,p,w)}computeMoves(t,n,r,s,i,o,a){return Cb(t,n,r,s,i,o).map(f=>{const c=this.refineDiff(n,r,new Te(f.original.toOffsetRange(),f.modified.toOffsetRange()),o,a),m=lh(c.mappings,n,r,!0);return new ub(f,m)})}refineDiff(t,n,r,s,i){const a=Ub(r).toRangeMapping2(t,n),l=new Ni(t,a.originalRange,i),u=new Ni(n,a.modifiedRange,i),f=l.length+u.length<500?this.dynamicProgrammingDiffing.compute(l,u,s):this.myersDiffingAlgorithm.compute(l,u,s);let c=f.diffs;return c=rh(l,u,c),c=Pb(l,u,c),c=Rb(l,u,c),c=Bb(l,u,c),{mappings:c.map(g=>new Mt(l.translateRange(g.seq1Range),u.translateRange(g.seq2Range))),hitTimeout:f.hitTimeout}}}function lh(e,t,n,r=!1){const s=[];for(const i of yb(e.map(o=>jb(o,t,n)),(o,a)=>o.original.overlapOrTouch(a.original)||o.modified.overlapOrTouch(a.modified))){const o=i[0],a=i[i.length-1];s.push(new on(o.original.join(a.original),o.modified.join(a.modified),i.map(l=>l.innerChanges[0])))}return vi(()=>!r&&s.length>0&&(s[0].modified.startLineNumber!==s[0].original.startLineNumber||n.length-s[s.length-1].modified.endLineNumberExclusive!==t.length-s[s.length-1].original.endLineNumberExclusive)?!1:Vf(s,(i,o)=>o.original.startLineNumber-i.original.endLineNumberExclusive===o.modified.startLineNumber-i.modified.endLineNumberExclusive&&i.original.endLineNumberExclusive<o.original.startLineNumber&&i.modified.endLineNumberExclusive<o.modified.startLineNumber)),s}function jb(e,t,n){let r=0,s=0;e.modifiedRange.endColumn===1&&e.originalRange.endColumn===1&&e.originalRange.startLineNumber+r<=e.originalRange.endLineNumber&&e.modifiedRange.startLineNumber+r<=e.modifiedRange.endLineNumber&&(s=-1),e.modifiedRange.startColumn-1>=n[e.modifiedRange.startLineNumber-1].length&&e.originalRange.startColumn-1>=t[e.originalRange.startLineNumber-1].length&&e.originalRange.startLineNumber<=e.originalRange.endLineNumber+s&&e.modifiedRange.startLineNumber<=e.modifiedRange.endLineNumber+s&&(r=1);const i=new ae(e.originalRange.startLineNumber+r,e.originalRange.endLineNumber+1+s),o=new ae(e.modifiedRange.startLineNumber+r,e.modifiedRange.endLineNumber+1+s);return new on(i,o,[e])}function Ub(e){return new wt(new ae(e.seq1Range.start+1,e.seq1Range.endExclusive+1),new ae(e.seq2Range.start+1,e.seq2Range.endExclusive+1))}const uh={getLegacy:()=>new db,getDefault:()=>new Vb};function _n(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}class je{constructor(t,n,r,s=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,t))|0,this.g=Math.min(255,Math.max(0,n))|0,this.b=Math.min(255,Math.max(0,r))|0,this.a=_n(Math.max(Math.min(1,s),0),3)}static equals(t,n){return t.r===n.r&&t.g===n.g&&t.b===n.b&&t.a===n.a}}class St{constructor(t,n,r,s){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,t),0)|0,this.s=_n(Math.max(Math.min(1,n),0),3),this.l=_n(Math.max(Math.min(1,r),0),3),this.a=_n(Math.max(Math.min(1,s),0),3)}static equals(t,n){return t.h===n.h&&t.s===n.s&&t.l===n.l&&t.a===n.a}static fromRGBA(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=t.a,o=Math.max(n,r,s),a=Math.min(n,r,s);let l=0,u=0;const f=(a+o)/2,c=o-a;if(c>0){switch(u=Math.min(f<=.5?c/(2*f):c/(2-2*f),1),o){case n:l=(r-s)/c+(r<s?6:0);break;case r:l=(s-n)/c+2;break;case s:l=(n-r)/c+4;break}l*=60,l=Math.round(l)}return new St(l,u,f,i)}static _hue2rgb(t,n,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(n-t)*6*r:r<1/2?n:r<2/3?t+(n-t)*(2/3-r)*6:t}static toRGBA(t){const n=t.h/360,{s:r,l:s,a:i}=t;let o,a,l;if(r===0)o=a=l=s;else{const u=s<.5?s*(1+r):s+r-s*r,f=2*s-u;o=St._hue2rgb(f,u,n+1/3),a=St._hue2rgb(f,u,n),l=St._hue2rgb(f,u,n-1/3)}return new je(Math.round(o*255),Math.round(a*255),Math.round(l*255),i)}}class Tr{constructor(t,n,r,s){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,t),0)|0,this.s=_n(Math.max(Math.min(1,n),0),3),this.v=_n(Math.max(Math.min(1,r),0),3),this.a=_n(Math.max(Math.min(1,s),0),3)}static equals(t,n){return t.h===n.h&&t.s===n.s&&t.v===n.v&&t.a===n.a}static fromRGBA(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=i-o,l=i===0?0:a/i;let u;return a===0?u=0:i===n?u=((r-s)/a%6+6)%6:i===r?u=(s-n)/a+2:u=(n-r)/a+4,new Tr(Math.round(u*60),l,i,t.a)}static toRGBA(t){const{h:n,s:r,v:s,a:i}=t,o=s*r,a=o*(1-Math.abs(n/60%2-1)),l=s-o;let[u,f,c]=[0,0,0];return n<60?(u=o,f=a):n<120?(u=a,f=o):n<180?(f=o,c=a):n<240?(f=a,c=o):n<300?(u=a,c=o):n<=360&&(u=o,c=a),u=Math.round((u+l)*255),f=Math.round((f+l)*255),c=Math.round((c+l)*255),new je(u,f,c,i)}}let xi=(pe=class{static fromHex(t){return pe.Format.CSS.parseHex(t)||pe.red}static equals(t,n){return!t&&!n?!0:!t||!n?!1:t.equals(n)}get hsla(){return this._hsla?this._hsla:St.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:Tr.fromRGBA(this.rgba)}constructor(t){if(t)if(t instanceof je)this.rgba=t;else if(t instanceof St)this._hsla=t,this.rgba=St.toRGBA(t);else if(t instanceof Tr)this._hsva=t,this.rgba=Tr.toRGBA(t);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(t){return!!t&&je.equals(this.rgba,t.rgba)&&St.equals(this.hsla,t.hsla)&&Tr.equals(this.hsva,t.hsva)}getRelativeLuminance(){const t=pe._relativeLuminanceForComponent(this.rgba.r),n=pe._relativeLuminanceForComponent(this.rgba.g),r=pe._relativeLuminanceForComponent(this.rgba.b),s=.2126*t+.7152*n+.0722*r;return _n(s,4)}static _relativeLuminanceForComponent(t){const n=t/255;return n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(t){const n=this.getRelativeLuminance(),r=t.getRelativeLuminance();return n>r}isDarkerThan(t){const n=this.getRelativeLuminance(),r=t.getRelativeLuminance();return n<r}lighten(t){return new pe(new St(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*t,this.hsla.a))}darken(t){return new pe(new St(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*t,this.hsla.a))}transparent(t){const{r:n,g:r,b:s,a:i}=this.rgba;return new pe(new je(n,r,s,i*t))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new pe(new je(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(t){if(this.isOpaque()||t.rgba.a!==1)return this;const{r:n,g:r,b:s,a:i}=this.rgba;return new pe(new je(t.rgba.r-i*(t.rgba.r-n),t.rgba.g-i*(t.rgba.g-r),t.rgba.b-i*(t.rgba.b-s),1))}toString(){return this._toString||(this._toString=pe.Format.CSS.format(this)),this._toString}static getLighterColor(t,n,r){if(t.isLighterThan(n))return t;r=r||.5;const s=t.getRelativeLuminance(),i=n.getRelativeLuminance();return r=r*(i-s)/i,t.lighten(r)}static getDarkerColor(t,n,r){if(t.isDarkerThan(n))return t;r=r||.5;const s=t.getRelativeLuminance(),i=n.getRelativeLuminance();return r=r*(s-i)/s,t.darken(r)}},pe.white=new pe(new je(255,255,255,1)),pe.black=new pe(new je(0,0,0,1)),pe.red=new pe(new je(255,0,0,1)),pe.blue=new pe(new je(0,0,255,1)),pe.green=new pe(new je(0,255,0,1)),pe.cyan=new pe(new je(0,255,255,1)),pe.lightgrey=new pe(new je(211,211,211,1)),pe.transparent=new pe(new je(0,0,0,0)),pe);(function(e){(function(t){(function(n){function r(g){return g.rgba.a===1?`rgb(${g.rgba.r}, ${g.rgba.g}, ${g.rgba.b})`:e.Format.CSS.formatRGBA(g)}n.formatRGB=r;function s(g){return`rgba(${g.rgba.r}, ${g.rgba.g}, ${g.rgba.b}, ${+g.rgba.a.toFixed(2)})`}n.formatRGBA=s;function i(g){return g.hsla.a===1?`hsl(${g.hsla.h}, ${(g.hsla.s*100).toFixed(2)}%, ${(g.hsla.l*100).toFixed(2)}%)`:e.Format.CSS.formatHSLA(g)}n.formatHSL=i;function o(g){return`hsla(${g.hsla.h}, ${(g.hsla.s*100).toFixed(2)}%, ${(g.hsla.l*100).toFixed(2)}%, ${g.hsla.a.toFixed(2)})`}n.formatHSLA=o;function a(g){const w=g.toString(16);return w.length!==2?"0"+w:w}function l(g){return`#${a(g.rgba.r)}${a(g.rgba.g)}${a(g.rgba.b)}`}n.formatHex=l;function u(g,w=!1){return w&&g.rgba.a===1?e.Format.CSS.formatHex(g):`#${a(g.rgba.r)}${a(g.rgba.g)}${a(g.rgba.b)}${a(Math.round(g.rgba.a*255))}`}n.formatHexA=u;function f(g){return g.isOpaque()?e.Format.CSS.formatHex(g):e.Format.CSS.formatRGBA(g)}n.format=f;function c(g){const w=g.length;if(w===0||g.charCodeAt(0)!==35)return null;if(w===7){const A=16*m(g.charCodeAt(1))+m(g.charCodeAt(2)),E=16*m(g.charCodeAt(3))+m(g.charCodeAt(4)),N=16*m(g.charCodeAt(5))+m(g.charCodeAt(6));return new e(new je(A,E,N,1))}if(w===9){const A=16*m(g.charCodeAt(1))+m(g.charCodeAt(2)),E=16*m(g.charCodeAt(3))+m(g.charCodeAt(4)),N=16*m(g.charCodeAt(5))+m(g.charCodeAt(6)),k=16*m(g.charCodeAt(7))+m(g.charCodeAt(8));return new e(new je(A,E,N,k/255))}if(w===4){const A=m(g.charCodeAt(1)),E=m(g.charCodeAt(2)),N=m(g.charCodeAt(3));return new e(new je(16*A+A,16*E+E,16*N+N))}if(w===5){const A=m(g.charCodeAt(1)),E=m(g.charCodeAt(2)),N=m(g.charCodeAt(3)),k=m(g.charCodeAt(4));return new e(new je(16*A+A,16*E+E,16*N+N,(16*k+k)/255))}return null}n.parseHex=c;function m(g){switch(g){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(t.CSS||(t.CSS={}))})(e.Format||(e.Format={}))})(xi||(xi={}));function ch(e){const t=[];for(const n of e){const r=Number(n);(r||r===0&&n.replace(/\s/g,"")!=="")&&t.push(r)}return t}function Pa(e,t,n,r){return{red:e/255,blue:n/255,green:t/255,alpha:r}}function xs(e,t){const n=t.index,r=t[0].length;if(!n)return;const s=e.positionAt(n);return{startLineNumber:s.lineNumber,startColumn:s.column,endLineNumber:s.lineNumber,endColumn:s.column+r}}function qb(e,t){if(!e)return;const n=xi.Format.CSS.parseHex(t);if(n)return{range:e,color:Pa(n.rgba.r,n.rgba.g,n.rgba.b,n.rgba.a)}}function fh(e,t,n){if(!e||t.length!==1)return;const s=t[0].values(),i=ch(s);return{range:e,color:Pa(i[0],i[1],i[2],n?i[3]:1)}}function hh(e,t,n){if(!e||t.length!==1)return;const s=t[0].values(),i=ch(s),o=new xi(new St(i[0],i[1]/100,i[2]/100,n?i[3]:1));return{range:e,color:Pa(o.rgba.r,o.rgba.g,o.rgba.b,o.rgba.a)}}function Ls(e,t){return typeof e=="string"?[...e.matchAll(t)]:e.findMatches(t)}function Wb(e){const t=[],r=Ls(e,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(r.length>0)for(const s of r){const i=s.filter(u=>u!==void 0),o=i[1],a=i[2];if(!a)continue;let l;if(o==="rgb"){const u=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;l=fh(xs(e,s),Ls(a,u),!1)}else if(o==="rgba"){const u=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;l=fh(xs(e,s),Ls(a,u),!0)}else if(o==="hsl"){const u=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;l=hh(xs(e,s),Ls(a,u),!1)}else if(o==="hsla"){const u=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;l=hh(xs(e,s),Ls(a,u),!0)}else o==="#"&&(l=qb(xs(e,s),o+a));l&&t.push(l)}return t}function Hb(e){return!e||typeof e.getValue!="function"||typeof e.positionAt!="function"?[]:Wb(e)}const dh=new RegExp("\\bMARK:\\s*(.*)$","d"),Yb=/^-+|-+$/g;function zb(e,t){var r;let n=[];if(t.findRegionSectionHeaders&&((r=t.foldingRules)!=null&&r.markers)){const s=Gb(e,t);n=n.concat(s)}if(t.findMarkSectionHeaders){const s=Jb(e);n=n.concat(s)}return n}function Gb(e,t){const n=[],r=e.getLineCount();for(let s=1;s<=r;s++){const i=e.getLineContent(s),o=i.match(t.foldingRules.markers.start);if(o){const a={startLineNumber:s,startColumn:o[0].length+1,endLineNumber:s,endColumn:i.length+1};if(a.endColumn>a.startColumn){const l={range:a,...mh(i.substring(o[0].length)),shouldBeInComments:!1};(l.text||l.hasSeparatorLine)&&n.push(l)}}}return n}function Jb(e){const t=[],n=e.getLineCount();for(let r=1;r<=n;r++){const s=e.getLineContent(r);Qb(s,r,t)}return t}function Qb(e,t,n){dh.lastIndex=0;const r=dh.exec(e);if(r){const s=r.indices[1][0]+1,i=r.indices[1][1]+1,o={startLineNumber:t,startColumn:s,endLineNumber:t,endColumn:i};if(o.endColumn>o.startColumn){const a={range:o,...mh(r[1]),shouldBeInComments:!0};(a.text||a.hasSeparatorLine)&&n.push(a)}}}function mh(e){e=e.trim();const t=e.startsWith("-");return e=e.replace(Yb,""),{text:e,hasSeparatorLine:t}}var gh;(function(e){async function t(r){let s;const i=await Promise.all(r.map(o=>o.then(a=>a,a=>{s||(s=a)})));if(typeof s<"u")throw s;return i}e.settled=t;function n(r){return new Promise(async(s,i)=>{try{await r(s,i)}catch(o){i(o)}})}e.withAsyncBody=n})(gh||(gh={}));const rt=class rt{static fromArray(t){return new rt(n=>{n.emitMany(t)})}static fromPromise(t){return new rt(async n=>{n.emitMany(await t)})}static fromPromises(t){return new rt(async n=>{await Promise.all(t.map(async r=>n.emitOne(await r)))})}static merge(t){return new rt(async n=>{await Promise.all(t.map(async r=>{for await(const s of r)n.emitOne(s)}))})}constructor(t,n){this._state=0,this._results=[],this._error=null,this._onReturn=n,this._onStateChanged=new Dt,queueMicrotask(async()=>{const r={emitOne:s=>this.emitOne(s),emitMany:s=>this.emitMany(s),reject:s=>this.reject(s)};try{await Promise.resolve(t(r)),this.resolve()}catch(s){this.reject(s)}finally{r.emitOne=void 0,r.emitMany=void 0,r.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(t<this._results.length)return{done:!1,value:this._results[t++]};if(this._state===1)return{done:!0,value:void 0};await ci.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>{var n;return(n=this._onReturn)==null||n.call(this),{done:!0,value:void 0}}}}static map(t,n){return new rt(async r=>{for await(const s of t)r.emitOne(n(s))})}map(t){return rt.map(this,t)}static filter(t,n){return new rt(async r=>{for await(const s of t)n(s)&&r.emitOne(s)})}filter(t){return rt.filter(this,t)}static coalesce(t){return rt.filter(t,n=>!!n)}coalesce(){return rt.coalesce(this)}static async toPromise(t){const n=[];for await(const r of t)n.push(r);return n}toPromise(){return rt.toPromise(this)}emitOne(t){this._state===0&&(this._results.push(t),this._onStateChanged.fire())}emitMany(t){this._state===0&&(this._results=this._results.concat(t),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(t){this._state===0&&(this._state=2,this._error=t,this._onStateChanged.fire())}};rt.EMPTY=rt.fromArray([]);let ph=rt;class Kb{constructor(t){this.values=t,this.prefixSum=new Uint32Array(t.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(t,n){t=Cr(t);const r=this.values,s=this.prefixSum,i=n.length;return i===0?!1:(this.values=new Uint32Array(r.length+i),this.values.set(r.subarray(0,t),0),this.values.set(r.subarray(t),t+i),this.values.set(n,t),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(s.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(t,n){return t=Cr(t),n=Cr(n),this.values[t]===n?!1:(this.values[t]=n,t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),!0)}removeValues(t,n){t=Cr(t),n=Cr(n);const r=this.values,s=this.prefixSum;if(t>=r.length)return!1;const i=r.length-t;return n>=i&&(n=i),n===0?!1:(this.values=new Uint32Array(r.length-n),this.values.set(r.subarray(0,t),0),this.values.set(r.subarray(t+n),t),this.prefixSum=new Uint32Array(this.values.length),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(s.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(t){return t<0?0:(t=Cr(t),this._getPrefixSum(t))}_getPrefixSum(t){if(t<=this.prefixSumValidIndex[0])return this.prefixSum[t];let n=this.prefixSumValidIndex[0]+1;n===0&&(this.prefixSum[0]=this.values[0],n++),t>=this.values.length&&(t=this.values.length-1);for(let r=n;r<=t;r++)this.prefixSum[r]=this.prefixSum[r-1]+this.values[r];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],t),this.prefixSum[t]}getIndexOf(t){t=Math.floor(t),this.getTotalSum();let n=0,r=this.values.length-1,s=0,i=0,o=0;for(;n<=r;)if(s=n+(r-n)/2|0,i=this.prefixSum[s],o=i-this.values[s],t<o)r=s-1;else if(t>=i)n=s+1;else break;return new Xb(s,t-o)}}class Xb{constructor(t,n){this.index=t,this.remainder=n,this._prefixSumIndexOfResultBrand=void 0,this.index=t,this.remainder=n}}class Zb{constructor(t,n,r,s){this._uri=t,this._lines=n,this._eol=r,this._versionId=s,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(t){t.eol&&t.eol!==this._eol&&(this._eol=t.eol,this._lineStarts=null);const n=t.changes;for(const r of n)this._acceptDeleteRange(r.range),this._acceptInsertText(new Oe(r.range.startLineNumber,r.range.startColumn),r.text);this._versionId=t.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const t=this._eol.length,n=this._lines.length,r=new Uint32Array(n);for(let s=0;s<n;s++)r[s]=this._lines[s].length+t;this._lineStarts=new Kb(r)}}_setLineText(t,n){this._lines[t]=n,this._lineStarts&&this._lineStarts.setValue(t,this._lines[t].length+this._eol.length)}_acceptDeleteRange(t){if(t.startLineNumber===t.endLineNumber){if(t.startColumn===t.endColumn)return;this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.startLineNumber-1].substring(t.endColumn-1));return}this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.endLineNumber-1].substring(t.endColumn-1)),this._lines.splice(t.startLineNumber,t.endLineNumber-t.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(t.startLineNumber,t.endLineNumber-t.startLineNumber)}_acceptInsertText(t,n){if(n.length===0)return;const r=H0(n);if(r.length===1){this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+r[0]+this._lines[t.lineNumber-1].substring(t.column-1));return}r[r.length-1]+=this._lines[t.lineNumber-1].substring(t.column-1),this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+r[0]);const s=new Uint32Array(r.length-1);for(let i=1;i<r.length;i++)this._lines.splice(t.lineNumber+i-1,0,r[i]),s[i-1]=r[i].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(t.lineNumber,s)}}class ey{constructor(){this._models=Object.create(null)}getModel(t){return this._models[t]}getModels(){const t=[];return Object.keys(this._models).forEach(n=>t.push(this._models[n])),t}$acceptNewModel(t){this._models[t.url]=new ty(qt.parse(t.url),t.lines,t.EOL,t.versionId)}$acceptModelChanged(t,n){if(!this._models[t])return;this._models[t].onEvents(n)}$acceptRemovedModel(t){this._models[t]&&delete this._models[t]}}class ty extends Zb{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(t){const n=[];for(let r=0;r<this._lines.length;r++){const s=this._lines[r],i=this.offsetAt(new Oe(r+1,1)),o=s.matchAll(t);for(const a of o)(a.index||a.index===0)&&(a.index=a.index+i),n.push(a)}return n}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(t){return this._lines[t-1]}getWordAtPosition(t,n){const r=Ca(t.column,Uf(n),this._lines[t.lineNumber-1],0);return r?new me(t.lineNumber,r.startColumn,t.lineNumber,r.endColumn):null}words(t){const n=this._lines,r=this._wordenize.bind(this);let s=0,i="",o=0,a=[];return{*[Symbol.iterator](){for(;;)if(o<a.length){const l=i.substring(a[o].start,a[o].end);o+=1,yield l}else if(s<n.length)i=n[s],a=r(i,t),o=0,s+=1;else break}}}getLineWords(t,n){const r=this._lines[t-1],s=this._wordenize(r,n),i=[];for(const o of s)i.push({word:r.substring(o.start,o.end),startColumn:o.start+1,endColumn:o.end+1});return i}_wordenize(t,n){const r=[];let s;for(n.lastIndex=0;(s=n.exec(t))&&s[0].length!==0;)r.push({start:s.index,end:s.index+s[0].length});return r}getValueInRange(t){if(t=this._validateRange(t),t.startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].substring(t.startColumn-1,t.endColumn-1);const n=this._eol,r=t.startLineNumber-1,s=t.endLineNumber-1,i=[];i.push(this._lines[r].substring(t.startColumn-1));for(let o=r+1;o<s;o++)i.push(this._lines[o]);return i.push(this._lines[s].substring(0,t.endColumn-1)),i.join(n)}offsetAt(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getPrefixSum(t.lineNumber-2)+(t.column-1)}positionAt(t){t=Math.floor(t),t=Math.max(0,t),this._ensureLineStarts();const n=this._lineStarts.getIndexOf(t),r=this._lines[n.index].length;return{lineNumber:1+n.index,column:1+Math.min(n.remainder,r)}}_validateRange(t){const n=this._validatePosition({lineNumber:t.startLineNumber,column:t.startColumn}),r=this._validatePosition({lineNumber:t.endLineNumber,column:t.endColumn});return n.lineNumber!==t.startLineNumber||n.column!==t.startColumn||r.lineNumber!==t.endLineNumber||r.column!==t.endColumn?{startLineNumber:n.lineNumber,startColumn:n.column,endLineNumber:r.lineNumber,endColumn:r.column}:t}_validatePosition(t){if(!Oe.isIPosition(t))throw new Error("bad position");let{lineNumber:n,column:r}=t,s=!1;if(n<1)n=1,r=1,s=!0;else if(n>this._lines.length)n=this._lines.length,r=this._lines[n-1].length+1,s=!0;else{const i=this._lines[n-1].length+1;r<1?(r=1,s=!0):r>i&&(r=i,s=!0)}return s?{lineNumber:n,column:r}:t}}const Jo=class Jo{constructor(){this._workerTextModelSyncServer=new ey}dispose(){}_getModel(t){return this._workerTextModelSyncServer.getModel(t)}_getModels(){return this._workerTextModelSyncServer.getModels()}$acceptNewModel(t){this._workerTextModelSyncServer.$acceptNewModel(t)}$acceptModelChanged(t,n){this._workerTextModelSyncServer.$acceptModelChanged(t,n)}$acceptRemovedModel(t){this._workerTextModelSyncServer.$acceptRemovedModel(t)}async $computeUnicodeHighlights(t,n,r){const s=this._getModel(t);return s?ab.computeUnicodeHighlights(s,n,r):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}async $findSectionHeaders(t,n){const r=this._getModel(t);return r?zb(r,n):[]}async $computeDiff(t,n,r,s){const i=this._getModel(t),o=this._getModel(n);return!i||!o?null:Li.computeDiff(i,o,r,s)}static computeDiff(t,n,r,s){const i=s==="advanced"?uh.getDefault():uh.getLegacy(),o=t.getLinesContent(),a=n.getLinesContent(),l=i.computeDiff(o,a,r),u=l.changes.length>0?!1:this._modelsAreIdentical(t,n);function f(c){return c.map(m=>{var g;return[m.original.startLineNumber,m.original.endLineNumberExclusive,m.modified.startLineNumber,m.modified.endLineNumberExclusive,(g=m.innerChanges)==null?void 0:g.map(w=>[w.originalRange.startLineNumber,w.originalRange.startColumn,w.originalRange.endLineNumber,w.originalRange.endColumn,w.modifiedRange.startLineNumber,w.modifiedRange.startColumn,w.modifiedRange.endLineNumber,w.modifiedRange.endColumn])]})}return{identical:u,quitEarly:l.hitTimeout,changes:f(l.changes),moves:l.moves.map(c=>[c.lineRangeMapping.original.startLineNumber,c.lineRangeMapping.original.endLineNumberExclusive,c.lineRangeMapping.modified.startLineNumber,c.lineRangeMapping.modified.endLineNumberExclusive,f(c.changes)])}}static _modelsAreIdentical(t,n){const r=t.getLineCount(),s=n.getLineCount();if(r!==s)return!1;for(let i=1;i<=r;i++){const o=t.getLineContent(i),a=n.getLineContent(i);if(o!==a)return!1}return!0}async $computeMoreMinimalEdits(t,n,r){const s=this._getModel(t);if(!s)return n;const i=[];let o;n=n.slice(0).sort((l,u)=>{if(l.range&&u.range)return me.compareRangesUsingStarts(l.range,u.range);const f=l.range?0:1,c=u.range?0:1;return f-c});let a=0;for(let l=1;l<n.length;l++)me.getEndPosition(n[a].range).equals(me.getStartPosition(n[l].range))?(n[a].range=me.fromPositions(me.getStartPosition(n[a].range),me.getEndPosition(n[l].range)),n[a].text+=n[l].text):(a++,n[a]=n[l]);n.length=a+1;for(let{range:l,text:u,eol:f}of n){if(typeof f=="number"&&(o=f),me.isEmpty(l)&&!u)continue;const c=s.getValueInRange(l);if(u=u.replace(/\r\n|\n|\r/g,s.eol),c===u)continue;if(Math.max(u.length,c.length)>Li._diffLimit){i.push({range:l,text:u});continue}const m=Fp(c,u,r),g=s.offsetAt(me.lift(l).getStartPosition());for(const w of m){const A=s.positionAt(g+w.originalStart),E=s.positionAt(g+w.originalStart+w.originalLength),N={text:u.substr(w.modifiedStart,w.modifiedLength),range:{startLineNumber:A.lineNumber,startColumn:A.column,endLineNumber:E.lineNumber,endColumn:E.column}};s.getValueInRange(N.range)!==N.text&&i.push(N)}}return typeof o=="number"&&i.push({eol:o,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),i}async $computeLinks(t){const n=this._getModel(t);return n?Rp(n):null}async $computeDefaultDocumentColors(t){const n=this._getModel(t);return n?Hb(n):null}async $textualSuggest(t,n,r,s){const i=new ui,o=new RegExp(r,s),a=new Set;e:for(const l of t){const u=this._getModel(l);if(u){for(const f of u.words(o))if(!(f===n||!isNaN(Number(f)))&&(a.add(f),a.size>Li._suggestionsLimit))break e}}return{words:Array.from(a),duration:i.elapsed()}}async $computeWordRanges(t,n,r,s){const i=this._getModel(t);if(!i)return Object.create(null);const o=new RegExp(r,s),a=Object.create(null);for(let l=n.startLineNumber;l<n.endLineNumber;l++){const u=i.getLineWords(l,o);for(const f of u){if(!isNaN(Number(f.word)))continue;let c=a[f.word];c||(c=[],a[f.word]=c),c.push({startLineNumber:l,startColumn:f.startColumn,endLineNumber:l,endColumn:f.endColumn})}}return a}async $navigateValueSet(t,n,r,s,i){const o=this._getModel(t);if(!o)return null;const a=new RegExp(s,i);n.startColumn===n.endColumn&&(n={startLineNumber:n.startLineNumber,startColumn:n.startColumn,endLineNumber:n.endLineNumber,endColumn:n.endColumn+1});const l=o.getValueInRange(n),u=o.getWordAtPosition({lineNumber:n.startLineNumber,column:n.startColumn},a);if(!u)return null;const f=o.getValueInRange(u);return ya.INSTANCE.navigateValueSet(n,l,u,f,r)}};Jo._diffLimit=1e5,Jo._suggestionsLimit=1e4;let $a=Jo;class Li extends $a{constructor(t,n){super(),this._host=t,this._foreignModuleFactory=n,this._foreignModule=null}async $ping(){return"pong"}$loadForeignModule(t,n,r){const o={host:Xp(r,(a,l)=>this._host.$fhr(a,l)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(o,n),Promise.resolve(Pf(this._foreignModule))):new Promise((a,l)=>{const u=f=>{this._foreignModule=f.create(o,n),a(Pf(this._foreignModule))};import(`${wc.asBrowserUri(`${t}.js`).toString(!0)}`).then(u).catch(l)})}$fmr(t,n){if(!this._foreignModule||typeof this._foreignModule[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._foreignModule[t].apply(this._foreignModule,n))}catch(r){return Promise.reject(r)}}}typeof importScripts=="function"&&(globalThis.monaco=Yp());let Ia=!1;function bh(e){if(Ia)return;Ia=!0;const t=new Cp(n=>{globalThis.postMessage(n)},n=>new Li(La.getChannel(n),e));globalThis.onmessage=n=>{t.onmessage(n.data)}}globalThis.onmessage=e=>{Ia||bh(null)};function ny(e){self.onmessage=()=>{bh((t,n)=>Object.create(e(t,n)))}}let yh=class ec{constructor(t,n,r,s){this._uri=t,this._languageId=n,this._version=r,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){const n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content}update(t,n){for(const r of t)if(ec.isIncremental(r)){const s=wh(r.range),i=this.offsetAt(s.start),o=this.offsetAt(s.end);this._content=this._content.substring(0,i)+r.text+this._content.substring(o,this._content.length);const a=Math.max(s.start.line,0),l=Math.max(s.end.line,0);let u=this._lineOffsets;const f=vh(r.text,!1,i);if(l-a===f.length)for(let m=0,g=f.length;m<g;m++)u[m+a+1]=f[m];else f.length<1e4?u.splice(a+1,l-a,...f):this._lineOffsets=u=u.slice(0,a+1).concat(f,u.slice(l+1));const c=r.text.length-(o-i);if(c!==0)for(let m=a+1+f.length,g=u.length;m<g;m++)u[m]=u[m]+c}else if(ec.isFull(r))this._content=r.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=n}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=vh(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);const n=this.getLineOffsets();let r=0,s=n.length;if(s===0)return{line:0,character:t};for(;r<s;){const o=Math.floor((r+s)/2);n[o]>t?s=o:r=o+1}const i=r-1;return t=this.ensureBeforeEOL(t,n[i]),{line:i,character:t-n[i]}}offsetAt(t){const n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;const r=n[t.line];if(t.character<=0)return r;const s=t.line+1<n.length?n[t.line+1]:this._content.length,i=Math.min(r+t.character,s);return this.ensureBeforeEOL(i,r)}ensureBeforeEOL(t,n){for(;t>n&&Dh(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){const n=t;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")}static isFull(t){const n=t;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0}};var Ba;(function(e){function t(s,i,o,a){return new yh(s,i,o,a)}e.create=t;function n(s,i,o){if(s instanceof yh)return s.update(i,o),s;throw new Error("TextDocument.update: document must be created by TextDocument.create")}e.update=n;function r(s,i){const o=s.getText(),a=Va(i.map(ry),(f,c)=>{const m=f.range.start.line-c.range.start.line;return m===0?f.range.start.character-c.range.start.character:m});let l=0;const u=[];for(const f of a){const c=s.offsetAt(f.range.start);if(c<l)throw new Error("Overlapping edit");c>l&&u.push(o.substring(l,c)),f.newText.length&&u.push(f.newText),l=s.offsetAt(f.range.end)}return u.push(o.substr(l)),u.join("")}e.applyEdits=r})(Ba||(Ba={}));function Va(e,t){if(e.length<=1)return e;const n=e.length/2|0,r=e.slice(0,n),s=e.slice(n);Va(r,t),Va(s,t);let i=0,o=0,a=0;for(;i<r.length&&o<s.length;)t(r[i],s[o])<=0?e[a++]=r[i++]:e[a++]=s[o++];for(;i<r.length;)e[a++]=r[i++];for(;o<s.length;)e[a++]=s[o++];return e}function vh(e,t,n=0){const r=t?[n]:[];for(let s=0;s<e.length;s++){const i=e.charCodeAt(s);Dh(i)&&(i===13&&s+1<e.length&&e.charCodeAt(s+1)===10&&s++,r.push(n+s+1))}return r}function Dh(e){return e===13||e===10}function wh(e){const t=e.start,n=e.end;return t.line>n.line||t.line===n.line&&t.character>n.character?{start:n,end:t}:e}function ry(e){const t=wh(e.range);return t!==e.range?{newText:e.newText,range:t}:e}function sy(e,t=!1){const n=e.length;let r=0,s="",i=0,o=16,a=0,l=0,u=0,f=0,c=0;function m(b,p){let h=0,d=0;for(;h<b;){let y=e.charCodeAt(r);if(y>=48&&y<=57)d=d*16+y-48;else if(y>=65&&y<=70)d=d*16+y-65+10;else if(y>=97&&y<=102)d=d*16+y-97+10;else break;r++,h++}return h<b&&(d=-1),d}function g(b){r=b,s="",i=0,o=16,c=0}function w(){let b=r;if(e.charCodeAt(r)===48)r++;else for(r++;r<e.length&&Mr(e.charCodeAt(r));)r++;if(r<e.length&&e.charCodeAt(r)===46)if(r++,r<e.length&&Mr(e.charCodeAt(r)))for(r++;r<e.length&&Mr(e.charCodeAt(r));)r++;else return c=3,e.substring(b,r);let p=r;if(r<e.length&&(e.charCodeAt(r)===69||e.charCodeAt(r)===101))if(r++,(r<e.length&&e.charCodeAt(r)===43||e.charCodeAt(r)===45)&&r++,r<e.length&&Mr(e.charCodeAt(r))){for(r++;r<e.length&&Mr(e.charCodeAt(r));)r++;p=r}else c=3;return e.substring(b,p)}function A(){let b="",p=r;for(;;){if(r>=n){b+=e.substring(p,r),c=2;break}const h=e.charCodeAt(r);if(h===34){b+=e.substring(p,r),r++;break}if(h===92){if(b+=e.substring(p,r),r++,r>=n){c=2;break}switch(e.charCodeAt(r++)){case 34:b+='"';break;case 92:b+="\\";break;case 47:b+="/";break;case 98:b+="\b";break;case 102:b+="\f";break;case 110:b+=`
`;break;case 114:b+="\r";break;case 116:b+="	";break;case 117:const y=m(4);y>=0?b+=String.fromCharCode(y):c=4;break;default:c=5}p=r;continue}if(h>=0&&h<=31)if(Cs(h)){b+=e.substring(p,r),c=2;break}else c=6;r++}return b}function E(){if(s="",c=0,i=r,l=a,f=u,r>=n)return i=n,o=17;let b=e.charCodeAt(r);if(ja(b)){do r++,s+=String.fromCharCode(b),b=e.charCodeAt(r);while(ja(b));return o=15}if(Cs(b))return r++,s+=String.fromCharCode(b),b===13&&e.charCodeAt(r)===10&&(r++,s+=`
`),a++,u=r,o=14;switch(b){case 123:return r++,o=1;case 125:return r++,o=2;case 91:return r++,o=3;case 93:return r++,o=4;case 58:return r++,o=6;case 44:return r++,o=5;case 34:return r++,s=A(),o=10;case 47:const p=r-1;if(e.charCodeAt(r+1)===47){for(r+=2;r<n&&!Cs(e.charCodeAt(r));)r++;return s=e.substring(p,r),o=12}if(e.charCodeAt(r+1)===42){r+=2;const h=n-1;let d=!1;for(;r<h;){const y=e.charCodeAt(r);if(y===42&&e.charCodeAt(r+1)===47){r+=2,d=!0;break}r++,Cs(y)&&(y===13&&e.charCodeAt(r)===10&&r++,a++,u=r)}return d||(r++,c=1),s=e.substring(p,r),o=13}return s+=String.fromCharCode(b),r++,o=16;case 45:if(s+=String.fromCharCode(b),r++,r===n||!Mr(e.charCodeAt(r)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return s+=w(),o=11;default:for(;r<n&&N(b);)r++,b=e.charCodeAt(r);if(i!==r){switch(s=e.substring(i,r),s){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return s+=String.fromCharCode(b),r++,o=16}}function N(b){if(ja(b)||Cs(b))return!1;switch(b){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function k(){let b;do b=E();while(b>=12&&b<=15);return b}return{setPosition:g,getPosition:()=>r,scan:t?k:E,getToken:()=>o,getTokenValue:()=>s,getTokenOffset:()=>i,getTokenLength:()=>r-i,getTokenStartLine:()=>l,getTokenStartCharacter:()=>i-f,getTokenError:()=>c}}function ja(e){return e===32||e===9}function Cs(e){return e===10||e===13}function Mr(e){return e>=48&&e<=57}var Sh;(function(e){e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.space=32]="space",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.asterisk=42]="asterisk",e[e.backslash=92]="backslash",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.plus=43]="plus",e[e.slash=47]="slash",e[e.formFeed=12]="formFeed",e[e.tab=9]="tab"})(Sh||(Sh={})),new Array(20).fill(0).map((e,t)=>" ".repeat(t));const Or=200;new Array(Or).fill(0).map((e,t)=>`
`+" ".repeat(t)),new Array(Or).fill(0).map((e,t)=>"\r"+" ".repeat(t)),new Array(Or).fill(0).map((e,t)=>`\r
`+" ".repeat(t)),new Array(Or).fill(0).map((e,t)=>`
`+"	".repeat(t)),new Array(Or).fill(0).map((e,t)=>"\r"+"	".repeat(t)),new Array(Or).fill(0).map((e,t)=>`\r
`+"	".repeat(t));var Ci;(function(e){e.DEFAULT={allowTrailingComma:!1}})(Ci||(Ci={}));function iy(e,t=[],n=Ci.DEFAULT){let r=null,s=[];const i=[];function o(l){Array.isArray(s)?s.push(l):r!==null&&(s[r]=l)}return oy(e,{onObjectBegin:()=>{const l={};o(l),i.push(s),s=l,r=null},onObjectProperty:l=>{r=l},onObjectEnd:()=>{s=i.pop()},onArrayBegin:()=>{const l=[];o(l),i.push(s),s=l,r=null},onArrayEnd:()=>{s=i.pop()},onLiteralValue:o,onError:(l,u,f)=>{t.push({error:l,offset:u,length:f})}},n),s[0]}function Ua(e){switch(e.type){case"array":return e.children.map(Ua);case"object":const t=Object.create(null);for(let n of e.children){const r=n.children[1];r&&(t[n.children[0].value]=Ua(r))}return t;case"null":case"string":case"number":case"boolean":return e.value;default:return}}function oy(e,t,n=Ci.DEFAULT){const r=sy(e,!1),s=[];let i=0;function o(T){return T?()=>i===0&&T(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function a(T){return T?M=>i===0&&T(M,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function l(T){return T?M=>i===0&&T(M,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>s.slice()):()=>!0}function u(T){return T?()=>{i>0?i++:T(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>s.slice())===!1&&(i=1)}:()=>!0}function f(T){return T?()=>{i>0&&i--,i===0&&T(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:()=>!0}const c=u(t.onObjectBegin),m=l(t.onObjectProperty),g=f(t.onObjectEnd),w=u(t.onArrayBegin),A=f(t.onArrayEnd),E=l(t.onLiteralValue),N=a(t.onSeparator),k=o(t.onComment),b=a(t.onError),p=n&&n.disallowComments,h=n&&n.allowTrailingComma;function d(){for(;;){const T=r.scan();switch(r.getTokenError()){case 4:y(14);break;case 5:y(15);break;case 3:y(13);break;case 1:p||y(11);break;case 2:y(12);break;case 6:y(16);break}switch(T){case 12:case 13:p?y(10):k();break;case 16:y(1);break;case 15:case 14:break;default:return T}}}function y(T,M=[],P=[]){if(b(T),M.length+P.length>0){let B=r.getToken();for(;B!==17;){if(M.indexOf(B)!==-1){d();break}else if(P.indexOf(B)!==-1)break;B=d()}}}function S(T){const M=r.getTokenValue();return T?E(M):(m(M),s.push(M)),d(),!0}function D(){switch(r.getToken()){case 11:const T=r.getTokenValue();let M=Number(T);isNaN(M)&&(y(2),M=0),E(M);break;case 7:E(null);break;case 8:E(!0);break;case 9:E(!1);break;default:return!1}return d(),!0}function x(){return r.getToken()!==10?(y(3,[],[2,5]),!1):(S(!1),r.getToken()===6?(N(":"),d(),_()||y(4,[],[2,5])):y(5,[],[2,5]),s.pop(),!0)}function C(){c(),d();let T=!1;for(;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(T||y(4,[],[]),N(","),d(),r.getToken()===2&&h)break}else T&&y(6,[],[]);x()||y(4,[],[2,5]),T=!0}return g(),r.getToken()!==2?y(7,[2],[]):d(),!0}function L(){w(),d();let T=!0,M=!1;for(;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(M||y(4,[],[]),N(","),d(),r.getToken()===4&&h)break}else M&&y(6,[],[]);T?(s.push(0),T=!1):s[s.length-1]++,_()||y(4,[],[4,5]),M=!0}return A(),T||s.pop(),r.getToken()!==4?y(8,[4],[]):d(),!0}function _(){switch(r.getToken()){case 3:return L();case 1:return C();case 10:return S(!0);default:return D()}}return d(),r.getToken()===17?n.allowEmptyContent?!0:(y(4,[],[]),!1):_()?(r.getToken()!==17&&y(9,[],[]),!0):(y(4,[],[]),!1)}var Eh;(function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"})(Eh||(Eh={}));var Ah;(function(e){e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.Unknown=16]="Unknown",e[e.EOF=17]="EOF"})(Ah||(Ah={}));const ay=iy,ly=Ua;var Nh;(function(e){e[e.InvalidSymbol=1]="InvalidSymbol",e[e.InvalidNumberFormat=2]="InvalidNumberFormat",e[e.PropertyNameExpected=3]="PropertyNameExpected",e[e.ValueExpected=4]="ValueExpected",e[e.ColonExpected=5]="ColonExpected",e[e.CommaExpected=6]="CommaExpected",e[e.CloseBraceExpected=7]="CloseBraceExpected",e[e.CloseBracketExpected=8]="CloseBracketExpected",e[e.EndOfFileExpected=9]="EndOfFileExpected",e[e.InvalidCommentToken=10]="InvalidCommentToken",e[e.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=12]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",e[e.InvalidUnicode=14]="InvalidUnicode",e[e.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",e[e.InvalidCharacter=16]="InvalidCharacter"})(Nh||(Nh={}));var xh;(()=>{var e={975:C=>{function L(M){if(typeof M!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(M))}function _(M,P){for(var B,W="",G=0,J=-1,I=0,Y=0;Y<=M.length;++Y){if(Y<M.length)B=M.charCodeAt(Y);else{if(B===47)break;B=47}if(B===47){if(!(J===Y-1||I===1))if(J!==Y-1&&I===2){if(W.length<2||G!==2||W.charCodeAt(W.length-1)!==46||W.charCodeAt(W.length-2)!==46){if(W.length>2){var X=W.lastIndexOf("/");if(X!==W.length-1){X===-1?(W="",G=0):G=(W=W.slice(0,X)).length-1-W.lastIndexOf("/"),J=Y,I=0;continue}}else if(W.length===2||W.length===1){W="",G=0,J=Y,I=0;continue}}P&&(W.length>0?W+="/..":W="..",G=2)}else W.length>0?W+="/"+M.slice(J+1,Y):W=M.slice(J+1,Y),G=Y-J-1;J=Y,I=0}else B===46&&I!==-1?++I:I=-1}return W}var T={resolve:function(){for(var M,P="",B=!1,W=arguments.length-1;W>=-1&&!B;W--){var G;W>=0?G=arguments[W]:(M===void 0&&(M=process.cwd()),G=M),L(G),G.length!==0&&(P=G+"/"+P,B=G.charCodeAt(0)===47)}return P=_(P,!B),B?P.length>0?"/"+P:"/":P.length>0?P:"."},normalize:function(M){if(L(M),M.length===0)return".";var P=M.charCodeAt(0)===47,B=M.charCodeAt(M.length-1)===47;return(M=_(M,!P)).length!==0||P||(M="."),M.length>0&&B&&(M+="/"),P?"/"+M:M},isAbsolute:function(M){return L(M),M.length>0&&M.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var M,P=0;P<arguments.length;++P){var B=arguments[P];L(B),B.length>0&&(M===void 0?M=B:M+="/"+B)}return M===void 0?".":T.normalize(M)},relative:function(M,P){if(L(M),L(P),M===P||(M=T.resolve(M))===(P=T.resolve(P)))return"";for(var B=1;B<M.length&&M.charCodeAt(B)===47;++B);for(var W=M.length,G=W-B,J=1;J<P.length&&P.charCodeAt(J)===47;++J);for(var I=P.length-J,Y=G<I?G:I,X=-1,Q=0;Q<=Y;++Q){if(Q===Y){if(I>Y){if(P.charCodeAt(J+Q)===47)return P.slice(J+Q+1);if(Q===0)return P.slice(J+Q)}else G>Y&&(M.charCodeAt(B+Q)===47?X=Q:Q===0&&(X=0));break}var te=M.charCodeAt(B+Q);if(te!==P.charCodeAt(J+Q))break;te===47&&(X=Q)}var ie="";for(Q=B+X+1;Q<=W;++Q)Q!==W&&M.charCodeAt(Q)!==47||(ie.length===0?ie+="..":ie+="/..");return ie.length>0?ie+P.slice(J+X):(J+=X,P.charCodeAt(J)===47&&++J,P.slice(J))},_makeLong:function(M){return M},dirname:function(M){if(L(M),M.length===0)return".";for(var P=M.charCodeAt(0),B=P===47,W=-1,G=!0,J=M.length-1;J>=1;--J)if((P=M.charCodeAt(J))===47){if(!G){W=J;break}}else G=!1;return W===-1?B?"/":".":B&&W===1?"//":M.slice(0,W)},basename:function(M,P){if(P!==void 0&&typeof P!="string")throw new TypeError('"ext" argument must be a string');L(M);var B,W=0,G=-1,J=!0;if(P!==void 0&&P.length>0&&P.length<=M.length){if(P.length===M.length&&P===M)return"";var I=P.length-1,Y=-1;for(B=M.length-1;B>=0;--B){var X=M.charCodeAt(B);if(X===47){if(!J){W=B+1;break}}else Y===-1&&(J=!1,Y=B+1),I>=0&&(X===P.charCodeAt(I)?--I==-1&&(G=B):(I=-1,G=Y))}return W===G?G=Y:G===-1&&(G=M.length),M.slice(W,G)}for(B=M.length-1;B>=0;--B)if(M.charCodeAt(B)===47){if(!J){W=B+1;break}}else G===-1&&(J=!1,G=B+1);return G===-1?"":M.slice(W,G)},extname:function(M){L(M);for(var P=-1,B=0,W=-1,G=!0,J=0,I=M.length-1;I>=0;--I){var Y=M.charCodeAt(I);if(Y!==47)W===-1&&(G=!1,W=I+1),Y===46?P===-1?P=I:J!==1&&(J=1):P!==-1&&(J=-1);else if(!G){B=I+1;break}}return P===-1||W===-1||J===0||J===1&&P===W-1&&P===B+1?"":M.slice(P,W)},format:function(M){if(M===null||typeof M!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof M);return function(P,B){var W=B.dir||B.root,G=B.base||(B.name||"")+(B.ext||"");return W?W===B.root?W+G:W+"/"+G:G}(0,M)},parse:function(M){L(M);var P={root:"",dir:"",base:"",ext:"",name:""};if(M.length===0)return P;var B,W=M.charCodeAt(0),G=W===47;G?(P.root="/",B=1):B=0;for(var J=-1,I=0,Y=-1,X=!0,Q=M.length-1,te=0;Q>=B;--Q)if((W=M.charCodeAt(Q))!==47)Y===-1&&(X=!1,Y=Q+1),W===46?J===-1?J=Q:te!==1&&(te=1):J!==-1&&(te=-1);else if(!X){I=Q+1;break}return J===-1||Y===-1||te===0||te===1&&J===Y-1&&J===I+1?Y!==-1&&(P.base=P.name=I===0&&G?M.slice(1,Y):M.slice(I,Y)):(I===0&&G?(P.name=M.slice(1,J),P.base=M.slice(1,Y)):(P.name=M.slice(I,J),P.base=M.slice(I,Y)),P.ext=M.slice(J,Y)),I>0?P.dir=M.slice(0,I-1):G&&(P.dir="/"),P},sep:"/",delimiter:":",win32:null,posix:null};T.posix=T,C.exports=T}},t={};function n(C){var L=t[C];if(L!==void 0)return L.exports;var _=t[C]={exports:{}};return e[C](_,_.exports,n),_.exports}n.d=(C,L)=>{for(var _ in L)n.o(L,_)&&!n.o(C,_)&&Object.defineProperty(C,_,{enumerable:!0,get:L[_]})},n.o=(C,L)=>Object.prototype.hasOwnProperty.call(C,L),n.r=C=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})};var r={};let s;n.r(r),n.d(r,{URI:()=>m,Utils:()=>x}),typeof process=="object"?s=process.platform==="win32":typeof navigator=="object"&&(s=navigator.userAgent.indexOf("Windows")>=0);const i=/^\w[\w\d+.-]*$/,o=/^\//,a=/^\/\//;function l(C,L){if(!C.scheme&&L)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${C.authority}", path: "${C.path}", query: "${C.query}", fragment: "${C.fragment}"}`);if(C.scheme&&!i.test(C.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(C.path){if(C.authority){if(!o.test(C.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(C.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const u="",f="/",c=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class m{constructor(L,_,T,M,P,B=!1){vt(this,"scheme");vt(this,"authority");vt(this,"path");vt(this,"query");vt(this,"fragment");typeof L=="object"?(this.scheme=L.scheme||u,this.authority=L.authority||u,this.path=L.path||u,this.query=L.query||u,this.fragment=L.fragment||u):(this.scheme=function(W,G){return W||G?W:"file"}(L,B),this.authority=_||u,this.path=function(W,G){switch(W){case"https":case"http":case"file":G?G[0]!==f&&(G=f+G):G=f}return G}(this.scheme,T||u),this.query=M||u,this.fragment=P||u,l(this,B))}static isUri(L){return L instanceof m||!!L&&typeof L.authority=="string"&&typeof L.fragment=="string"&&typeof L.path=="string"&&typeof L.query=="string"&&typeof L.scheme=="string"&&typeof L.fsPath=="string"&&typeof L.with=="function"&&typeof L.toString=="function"}get fsPath(){return k(this)}with(L){if(!L)return this;let{scheme:_,authority:T,path:M,query:P,fragment:B}=L;return _===void 0?_=this.scheme:_===null&&(_=u),T===void 0?T=this.authority:T===null&&(T=u),M===void 0?M=this.path:M===null&&(M=u),P===void 0?P=this.query:P===null&&(P=u),B===void 0?B=this.fragment:B===null&&(B=u),_===this.scheme&&T===this.authority&&M===this.path&&P===this.query&&B===this.fragment?this:new w(_,T,M,P,B)}static parse(L,_=!1){const T=c.exec(L);return T?new w(T[2]||u,d(T[4]||u),d(T[5]||u),d(T[7]||u),d(T[9]||u),_):new w(u,u,u,u,u)}static file(L){let _=u;if(s&&(L=L.replace(/\\/g,f)),L[0]===f&&L[1]===f){const T=L.indexOf(f,2);T===-1?(_=L.substring(2),L=f):(_=L.substring(2,T),L=L.substring(T)||f)}return new w("file",_,L,u,u)}static from(L){const _=new w(L.scheme,L.authority,L.path,L.query,L.fragment);return l(_,!0),_}toString(L=!1){return b(this,L)}toJSON(){return this}static revive(L){if(L){if(L instanceof m)return L;{const _=new w(L);return _._formatted=L.external,_._fsPath=L._sep===g?L.fsPath:null,_}}return L}}const g=s?1:void 0;class w extends m{constructor(){super(...arguments);vt(this,"_formatted",null);vt(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=k(this)),this._fsPath}toString(_=!1){return _?b(this,!0):(this._formatted||(this._formatted=b(this,!1)),this._formatted)}toJSON(){const _={$mid:1};return this._fsPath&&(_.fsPath=this._fsPath,_._sep=g),this._formatted&&(_.external=this._formatted),this.path&&(_.path=this.path),this.scheme&&(_.scheme=this.scheme),this.authority&&(_.authority=this.authority),this.query&&(_.query=this.query),this.fragment&&(_.fragment=this.fragment),_}}const A={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function E(C,L,_){let T,M=-1;for(let P=0;P<C.length;P++){const B=C.charCodeAt(P);if(B>=97&&B<=122||B>=65&&B<=90||B>=48&&B<=57||B===45||B===46||B===95||B===126||L&&B===47||_&&B===91||_&&B===93||_&&B===58)M!==-1&&(T+=encodeURIComponent(C.substring(M,P)),M=-1),T!==void 0&&(T+=C.charAt(P));else{T===void 0&&(T=C.substr(0,P));const W=A[B];W!==void 0?(M!==-1&&(T+=encodeURIComponent(C.substring(M,P)),M=-1),T+=W):M===-1&&(M=P)}}return M!==-1&&(T+=encodeURIComponent(C.substring(M))),T!==void 0?T:C}function N(C){let L;for(let _=0;_<C.length;_++){const T=C.charCodeAt(_);T===35||T===63?(L===void 0&&(L=C.substr(0,_)),L+=A[T]):L!==void 0&&(L+=C[_])}return L!==void 0?L:C}function k(C,L){let _;return _=C.authority&&C.path.length>1&&C.scheme==="file"?`//${C.authority}${C.path}`:C.path.charCodeAt(0)===47&&(C.path.charCodeAt(1)>=65&&C.path.charCodeAt(1)<=90||C.path.charCodeAt(1)>=97&&C.path.charCodeAt(1)<=122)&&C.path.charCodeAt(2)===58?C.path[1].toLowerCase()+C.path.substr(2):C.path,s&&(_=_.replace(/\//g,"\\")),_}function b(C,L){const _=L?N:E;let T="",{scheme:M,authority:P,path:B,query:W,fragment:G}=C;if(M&&(T+=M,T+=":"),(P||M==="file")&&(T+=f,T+=f),P){let J=P.indexOf("@");if(J!==-1){const I=P.substr(0,J);P=P.substr(J+1),J=I.lastIndexOf(":"),J===-1?T+=_(I,!1,!1):(T+=_(I.substr(0,J),!1,!1),T+=":",T+=_(I.substr(J+1),!1,!0)),T+="@"}P=P.toLowerCase(),J=P.lastIndexOf(":"),J===-1?T+=_(P,!1,!0):(T+=_(P.substr(0,J),!1,!0),T+=P.substr(J))}if(B){if(B.length>=3&&B.charCodeAt(0)===47&&B.charCodeAt(2)===58){const J=B.charCodeAt(1);J>=65&&J<=90&&(B=`/${String.fromCharCode(J+32)}:${B.substr(3)}`)}else if(B.length>=2&&B.charCodeAt(1)===58){const J=B.charCodeAt(0);J>=65&&J<=90&&(B=`${String.fromCharCode(J+32)}:${B.substr(2)}`)}T+=_(B,!0,!1)}return W&&(T+="?",T+=_(W,!1,!1)),G&&(T+="#",T+=L?G:E(G,!1,!1)),T}function p(C){try{return decodeURIComponent(C)}catch{return C.length>3?C.substr(0,3)+p(C.substr(3)):C}}const h=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function d(C){return C.match(h)?C.replace(h,L=>p(L)):C}var y=n(975);const S=y.posix||y,D="/";var x;(function(C){C.joinPath=function(L,..._){return L.with({path:S.join(L.path,..._)})},C.resolvePath=function(L,..._){let T=L.path,M=!1;T[0]!==D&&(T=D+T,M=!0);let P=S.resolve(T,..._);return M&&P[0]===D&&!L.authority&&(P=P.substring(1)),L.with({path:P})},C.dirname=function(L){if(L.path.length===0||L.path===D)return L;let _=S.dirname(L.path);return _.length===1&&_.charCodeAt(0)===46&&(_=""),L.with({path:_})},C.basename=function(L){return S.basename(L.path)},C.extname=function(L){return S.extname(L.path)}})(x||(x={})),xh=r})();const{URI:mt,Utils:k6}=xh;var Lh;(function(e){function t(n){return typeof n=="string"}e.is=t})(Lh||(Lh={}));var qa;(function(e){function t(n){return typeof n=="string"}e.is=t})(qa||(qa={}));var Ch;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(Ch||(Ch={}));var ki;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(ki||(ki={}));var qe;(function(e){function t(r,s){return r===Number.MAX_VALUE&&(r=ki.MAX_VALUE),s===Number.MAX_VALUE&&(s=ki.MAX_VALUE),{line:r,character:s}}e.create=t;function n(r){let s=r;return U.objectLiteral(s)&&U.uinteger(s.line)&&U.uinteger(s.character)}e.is=n})(qe||(qe={}));var re;(function(e){function t(r,s,i,o){if(U.uinteger(r)&&U.uinteger(s)&&U.uinteger(i)&&U.uinteger(o))return{start:qe.create(r,s),end:qe.create(i,o)};if(qe.is(r)&&qe.is(s))return{start:r,end:s};throw new Error(`Range#create called with invalid arguments[${r}, ${s}, ${i}, ${o}]`)}e.create=t;function n(r){let s=r;return U.objectLiteral(s)&&qe.is(s.start)&&qe.is(s.end)}e.is=n})(re||(re={}));var Rr;(function(e){function t(r,s){return{uri:r,range:s}}e.create=t;function n(r){let s=r;return U.objectLiteral(s)&&re.is(s.range)&&(U.string(s.uri)||U.undefined(s.uri))}e.is=n})(Rr||(Rr={}));var Wa;(function(e){function t(r,s,i,o){return{targetUri:r,targetRange:s,targetSelectionRange:i,originSelectionRange:o}}e.create=t;function n(r){let s=r;return U.objectLiteral(s)&&re.is(s.targetRange)&&U.string(s.targetUri)&&re.is(s.targetSelectionRange)&&(re.is(s.originSelectionRange)||U.undefined(s.originSelectionRange))}e.is=n})(Wa||(Wa={}));var Ha;(function(e){function t(r,s,i,o){return{red:r,green:s,blue:i,alpha:o}}e.create=t;function n(r){const s=r;return U.objectLiteral(s)&&U.numberRange(s.red,0,1)&&U.numberRange(s.green,0,1)&&U.numberRange(s.blue,0,1)&&U.numberRange(s.alpha,0,1)}e.is=n})(Ha||(Ha={}));var kh;(function(e){function t(r,s){return{range:r,color:s}}e.create=t;function n(r){const s=r;return U.objectLiteral(s)&&re.is(s.range)&&Ha.is(s.color)}e.is=n})(kh||(kh={}));var Fh;(function(e){function t(r,s,i){return{label:r,textEdit:s,additionalTextEdits:i}}e.create=t;function n(r){const s=r;return U.objectLiteral(s)&&U.string(s.label)&&(U.undefined(s.textEdit)||ke.is(s))&&(U.undefined(s.additionalTextEdits)||U.typedArray(s.additionalTextEdits,ke.is))}e.is=n})(Fh||(Fh={}));var _h;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(_h||(_h={}));var Ya;(function(e){function t(r,s,i,o,a,l){const u={startLine:r,endLine:s};return U.defined(i)&&(u.startCharacter=i),U.defined(o)&&(u.endCharacter=o),U.defined(a)&&(u.kind=a),U.defined(l)&&(u.collapsedText=l),u}e.create=t;function n(r){const s=r;return U.objectLiteral(s)&&U.uinteger(s.startLine)&&U.uinteger(s.startLine)&&(U.undefined(s.startCharacter)||U.uinteger(s.startCharacter))&&(U.undefined(s.endCharacter)||U.uinteger(s.endCharacter))&&(U.undefined(s.kind)||U.string(s.kind))}e.is=n})(Ya||(Ya={}));var za;(function(e){function t(r,s){return{location:r,message:s}}e.create=t;function n(r){let s=r;return U.defined(s)&&Rr.is(s.location)&&U.string(s.message)}e.is=n})(za||(za={}));var le;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(le||(le={}));var Ga;(function(e){e.Unnecessary=1,e.Deprecated=2})(Ga||(Ga={}));var Th;(function(e){function t(n){const r=n;return U.objectLiteral(r)&&U.string(r.href)}e.is=t})(Th||(Th={}));var gt;(function(e){function t(r,s,i,o,a,l){let u={range:r,message:s};return U.defined(i)&&(u.severity=i),U.defined(o)&&(u.code=o),U.defined(a)&&(u.source=a),U.defined(l)&&(u.relatedInformation=l),u}e.create=t;function n(r){var s;let i=r;return U.defined(i)&&re.is(i.range)&&U.string(i.message)&&(U.number(i.severity)||U.undefined(i.severity))&&(U.integer(i.code)||U.string(i.code)||U.undefined(i.code))&&(U.undefined(i.codeDescription)||U.string((s=i.codeDescription)===null||s===void 0?void 0:s.href))&&(U.string(i.source)||U.undefined(i.source))&&(U.undefined(i.relatedInformation)||U.typedArray(i.relatedInformation,za.is))}e.is=n})(gt||(gt={}));var Hn;(function(e){function t(r,s,...i){let o={title:r,command:s};return U.defined(i)&&i.length>0&&(o.arguments=i),o}e.create=t;function n(r){let s=r;return U.defined(s)&&U.string(s.title)&&U.string(s.command)}e.is=n})(Hn||(Hn={}));var ke;(function(e){function t(i,o){return{range:i,newText:o}}e.replace=t;function n(i,o){return{range:{start:i,end:i},newText:o}}e.insert=n;function r(i){return{range:i,newText:""}}e.del=r;function s(i){const o=i;return U.objectLiteral(o)&&U.string(o.newText)&&re.is(o.range)}e.is=s})(ke||(ke={}));var Ja;(function(e){function t(r,s,i){const o={label:r};return s!==void 0&&(o.needsConfirmation=s),i!==void 0&&(o.description=i),o}e.create=t;function n(r){const s=r;return U.objectLiteral(s)&&U.string(s.label)&&(U.boolean(s.needsConfirmation)||s.needsConfirmation===void 0)&&(U.string(s.description)||s.description===void 0)}e.is=n})(Ja||(Ja={}));var Pr;(function(e){function t(n){const r=n;return U.string(r)}e.is=t})(Pr||(Pr={}));var Mh;(function(e){function t(i,o,a){return{range:i,newText:o,annotationId:a}}e.replace=t;function n(i,o,a){return{range:{start:i,end:i},newText:o,annotationId:a}}e.insert=n;function r(i,o){return{range:i,newText:"",annotationId:o}}e.del=r;function s(i){const o=i;return ke.is(o)&&(Ja.is(o.annotationId)||Pr.is(o.annotationId))}e.is=s})(Mh||(Mh={}));var Qa;(function(e){function t(r,s){return{textDocument:r,edits:s}}e.create=t;function n(r){let s=r;return U.defined(s)&&tl.is(s.textDocument)&&Array.isArray(s.edits)}e.is=n})(Qa||(Qa={}));var Ka;(function(e){function t(r,s,i){let o={kind:"create",uri:r};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(o.options=s),i!==void 0&&(o.annotationId=i),o}e.create=t;function n(r){let s=r;return s&&s.kind==="create"&&U.string(s.uri)&&(s.options===void 0||(s.options.overwrite===void 0||U.boolean(s.options.overwrite))&&(s.options.ignoreIfExists===void 0||U.boolean(s.options.ignoreIfExists)))&&(s.annotationId===void 0||Pr.is(s.annotationId))}e.is=n})(Ka||(Ka={}));var Xa;(function(e){function t(r,s,i,o){let a={kind:"rename",oldUri:r,newUri:s};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),o!==void 0&&(a.annotationId=o),a}e.create=t;function n(r){let s=r;return s&&s.kind==="rename"&&U.string(s.oldUri)&&U.string(s.newUri)&&(s.options===void 0||(s.options.overwrite===void 0||U.boolean(s.options.overwrite))&&(s.options.ignoreIfExists===void 0||U.boolean(s.options.ignoreIfExists)))&&(s.annotationId===void 0||Pr.is(s.annotationId))}e.is=n})(Xa||(Xa={}));var Za;(function(e){function t(r,s,i){let o={kind:"delete",uri:r};return s!==void 0&&(s.recursive!==void 0||s.ignoreIfNotExists!==void 0)&&(o.options=s),i!==void 0&&(o.annotationId=i),o}e.create=t;function n(r){let s=r;return s&&s.kind==="delete"&&U.string(s.uri)&&(s.options===void 0||(s.options.recursive===void 0||U.boolean(s.options.recursive))&&(s.options.ignoreIfNotExists===void 0||U.boolean(s.options.ignoreIfNotExists)))&&(s.annotationId===void 0||Pr.is(s.annotationId))}e.is=n})(Za||(Za={}));var el;(function(e){function t(n){let r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(s=>U.string(s.kind)?Ka.is(s)||Xa.is(s)||Za.is(s):Qa.is(s)))}e.is=t})(el||(el={}));var Oh;(function(e){function t(r){return{uri:r}}e.create=t;function n(r){let s=r;return U.defined(s)&&U.string(s.uri)}e.is=n})(Oh||(Oh={}));var Rh;(function(e){function t(r,s){return{uri:r,version:s}}e.create=t;function n(r){let s=r;return U.defined(s)&&U.string(s.uri)&&U.integer(s.version)}e.is=n})(Rh||(Rh={}));var tl;(function(e){function t(r,s){return{uri:r,version:s}}e.create=t;function n(r){let s=r;return U.defined(s)&&U.string(s.uri)&&(s.version===null||U.integer(s.version))}e.is=n})(tl||(tl={}));var Ph;(function(e){function t(r,s,i,o){return{uri:r,languageId:s,version:i,text:o}}e.create=t;function n(r){let s=r;return U.defined(s)&&U.string(s.uri)&&U.string(s.languageId)&&U.integer(s.version)&&U.string(s.text)}e.is=n})(Ph||(Ph={}));var un;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(n){const r=n;return r===e.PlainText||r===e.Markdown}e.is=t})(un||(un={}));var ks;(function(e){function t(n){const r=n;return U.objectLiteral(n)&&un.is(r.kind)&&U.string(r.value)}e.is=t})(ks||(ks={}));var pt;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(pt||(pt={}));var Ge;(function(e){e.PlainText=1,e.Snippet=2})(Ge||(Ge={}));var $h;(function(e){e.Deprecated=1})($h||($h={}));var Ih;(function(e){function t(r,s,i){return{newText:r,insert:s,replace:i}}e.create=t;function n(r){const s=r;return s&&U.string(s.newText)&&re.is(s.insert)&&re.is(s.replace)}e.is=n})(Ih||(Ih={}));var nl;(function(e){e.asIs=1,e.adjustIndentation=2})(nl||(nl={}));var Bh;(function(e){function t(n){const r=n;return r&&(U.string(r.detail)||r.detail===void 0)&&(U.string(r.description)||r.description===void 0)}e.is=t})(Bh||(Bh={}));var rl;(function(e){function t(n){return{label:n}}e.create=t})(rl||(rl={}));var sl;(function(e){function t(n,r){return{items:n||[],isIncomplete:!!r}}e.create=t})(sl||(sl={}));var Fi;(function(e){function t(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function n(r){const s=r;return U.string(s)||U.objectLiteral(s)&&U.string(s.language)&&U.string(s.value)}e.is=n})(Fi||(Fi={}));var Vh;(function(e){function t(n){let r=n;return!!r&&U.objectLiteral(r)&&(ks.is(r.contents)||Fi.is(r.contents)||U.typedArray(r.contents,Fi.is))&&(n.range===void 0||re.is(n.range))}e.is=t})(Vh||(Vh={}));var jh;(function(e){function t(n,r){return r?{label:n,documentation:r}:{label:n}}e.create=t})(jh||(jh={}));var Uh;(function(e){function t(n,r,...s){let i={label:n};return U.defined(r)&&(i.documentation=r),U.defined(s)?i.parameters=s:i.parameters=[],i}e.create=t})(Uh||(Uh={}));var qh;(function(e){e.Text=1,e.Read=2,e.Write=3})(qh||(qh={}));var Wh;(function(e){function t(n,r){let s={range:n};return U.number(r)&&(s.kind=r),s}e.create=t})(Wh||(Wh={}));var Ht;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(Ht||(Ht={}));var Hh;(function(e){e.Deprecated=1})(Hh||(Hh={}));var Yh;(function(e){function t(n,r,s,i,o){let a={name:n,kind:r,location:{uri:i,range:s}};return o&&(a.containerName=o),a}e.create=t})(Yh||(Yh={}));var zh;(function(e){function t(n,r,s,i){return i!==void 0?{name:n,kind:r,location:{uri:s,range:i}}:{name:n,kind:r,location:{uri:s}}}e.create=t})(zh||(zh={}));var Gh;(function(e){function t(r,s,i,o,a,l){let u={name:r,detail:s,kind:i,range:o,selectionRange:a};return l!==void 0&&(u.children=l),u}e.create=t;function n(r){let s=r;return s&&U.string(s.name)&&U.number(s.kind)&&re.is(s.range)&&re.is(s.selectionRange)&&(s.detail===void 0||U.string(s.detail))&&(s.deprecated===void 0||U.boolean(s.deprecated))&&(s.children===void 0||Array.isArray(s.children))&&(s.tags===void 0||Array.isArray(s.tags))}e.is=n})(Gh||(Gh={}));var cn;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(cn||(cn={}));var _i;(function(e){e.Invoked=1,e.Automatic=2})(_i||(_i={}));var Jh;(function(e){function t(r,s,i){let o={diagnostics:r};return s!=null&&(o.only=s),i!=null&&(o.triggerKind=i),o}e.create=t;function n(r){let s=r;return U.defined(s)&&U.typedArray(s.diagnostics,gt.is)&&(s.only===void 0||U.typedArray(s.only,U.string))&&(s.triggerKind===void 0||s.triggerKind===_i.Invoked||s.triggerKind===_i.Automatic)}e.is=n})(Jh||(Jh={}));var Yt;(function(e){function t(r,s,i){let o={title:r},a=!0;return typeof s=="string"?(a=!1,o.kind=s):Hn.is(s)?o.command=s:o.edit=s,a&&i!==void 0&&(o.kind=i),o}e.create=t;function n(r){let s=r;return s&&U.string(s.title)&&(s.diagnostics===void 0||U.typedArray(s.diagnostics,gt.is))&&(s.kind===void 0||U.string(s.kind))&&(s.edit!==void 0||s.command!==void 0)&&(s.command===void 0||Hn.is(s.command))&&(s.isPreferred===void 0||U.boolean(s.isPreferred))&&(s.edit===void 0||el.is(s.edit))}e.is=n})(Yt||(Yt={}));var il;(function(e){function t(r,s){let i={range:r};return U.defined(s)&&(i.data=s),i}e.create=t;function n(r){let s=r;return U.defined(s)&&re.is(s.range)&&(U.undefined(s.command)||Hn.is(s.command))}e.is=n})(il||(il={}));var Qh;(function(e){function t(r,s){return{tabSize:r,insertSpaces:s}}e.create=t;function n(r){let s=r;return U.defined(s)&&U.uinteger(s.tabSize)&&U.boolean(s.insertSpaces)}e.is=n})(Qh||(Qh={}));var Kh;(function(e){function t(r,s,i){return{range:r,target:s,data:i}}e.create=t;function n(r){let s=r;return U.defined(s)&&re.is(s.range)&&(U.undefined(s.target)||U.string(s.target))}e.is=n})(Kh||(Kh={}));var Ti;(function(e){function t(r,s){return{range:r,parent:s}}e.create=t;function n(r){let s=r;return U.objectLiteral(s)&&re.is(s.range)&&(s.parent===void 0||e.is(s.parent))}e.is=n})(Ti||(Ti={}));var Xh;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(Xh||(Xh={}));var Zh;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(Zh||(Zh={}));var ed;(function(e){function t(n){const r=n;return U.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=t})(ed||(ed={}));var td;(function(e){function t(r,s){return{range:r,text:s}}e.create=t;function n(r){const s=r;return s!=null&&re.is(s.range)&&U.string(s.text)}e.is=n})(td||(td={}));var nd;(function(e){function t(r,s,i){return{range:r,variableName:s,caseSensitiveLookup:i}}e.create=t;function n(r){const s=r;return s!=null&&re.is(s.range)&&U.boolean(s.caseSensitiveLookup)&&(U.string(s.variableName)||s.variableName===void 0)}e.is=n})(nd||(nd={}));var rd;(function(e){function t(r,s){return{range:r,expression:s}}e.create=t;function n(r){const s=r;return s!=null&&re.is(s.range)&&(U.string(s.expression)||s.expression===void 0)}e.is=n})(rd||(rd={}));var sd;(function(e){function t(r,s){return{frameId:r,stoppedLocation:s}}e.create=t;function n(r){const s=r;return U.defined(s)&&re.is(r.stoppedLocation)}e.is=n})(sd||(sd={}));var ol;(function(e){e.Type=1,e.Parameter=2;function t(n){return n===1||n===2}e.is=t})(ol||(ol={}));var al;(function(e){function t(r){return{value:r}}e.create=t;function n(r){const s=r;return U.objectLiteral(s)&&(s.tooltip===void 0||U.string(s.tooltip)||ks.is(s.tooltip))&&(s.location===void 0||Rr.is(s.location))&&(s.command===void 0||Hn.is(s.command))}e.is=n})(al||(al={}));var id;(function(e){function t(r,s,i){const o={position:r,label:s};return i!==void 0&&(o.kind=i),o}e.create=t;function n(r){const s=r;return U.objectLiteral(s)&&qe.is(s.position)&&(U.string(s.label)||U.typedArray(s.label,al.is))&&(s.kind===void 0||ol.is(s.kind))&&s.textEdits===void 0||U.typedArray(s.textEdits,ke.is)&&(s.tooltip===void 0||U.string(s.tooltip)||ks.is(s.tooltip))&&(s.paddingLeft===void 0||U.boolean(s.paddingLeft))&&(s.paddingRight===void 0||U.boolean(s.paddingRight))}e.is=n})(id||(id={}));var od;(function(e){function t(n){return{kind:"snippet",value:n}}e.createSnippet=t})(od||(od={}));var ad;(function(e){function t(n,r,s,i){return{insertText:n,filterText:r,range:s,command:i}}e.create=t})(ad||(ad={}));var ld;(function(e){function t(n){return{items:n}}e.create=t})(ld||(ld={}));var ud;(function(e){e.Invoked=0,e.Automatic=1})(ud||(ud={}));var cd;(function(e){function t(n,r){return{range:n,text:r}}e.create=t})(cd||(cd={}));var fd;(function(e){function t(n,r){return{triggerKind:n,selectedCompletionInfo:r}}e.create=t})(fd||(fd={}));var hd;(function(e){function t(n){const r=n;return U.objectLiteral(r)&&qa.is(r.uri)&&U.string(r.name)}e.is=t})(hd||(hd={}));var dd;(function(e){function t(i,o,a,l){return new uy(i,o,a,l)}e.create=t;function n(i){let o=i;return!!(U.defined(o)&&U.string(o.uri)&&(U.undefined(o.languageId)||U.string(o.languageId))&&U.uinteger(o.lineCount)&&U.func(o.getText)&&U.func(o.positionAt)&&U.func(o.offsetAt))}e.is=n;function r(i,o){let a=i.getText(),l=s(o,(f,c)=>{let m=f.range.start.line-c.range.start.line;return m===0?f.range.start.character-c.range.start.character:m}),u=a.length;for(let f=l.length-1;f>=0;f--){let c=l[f],m=i.offsetAt(c.range.start),g=i.offsetAt(c.range.end);if(g<=u)a=a.substring(0,m)+c.newText+a.substring(g,a.length);else throw new Error("Overlapping edit");u=m}return a}e.applyEdits=r;function s(i,o){if(i.length<=1)return i;const a=i.length/2|0,l=i.slice(0,a),u=i.slice(a);s(l,o),s(u,o);let f=0,c=0,m=0;for(;f<l.length&&c<u.length;)o(l[f],u[c])<=0?i[m++]=l[f++]:i[m++]=u[c++];for(;f<l.length;)i[m++]=l[f++];for(;c<u.length;)i[m++]=u[c++];return i}})(dd||(dd={}));class uy{constructor(t,n,r,s){this._uri=t,this._languageId=n,this._version=r,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content}update(t,n){this._content=t.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],n=this._content,r=!0;for(let s=0;s<n.length;s++){r&&(t.push(s),r=!1);let i=n.charAt(s);r=i==="\r"||i===`
`,i==="\r"&&s+1<n.length&&n.charAt(s+1)===`
`&&s++}r&&n.length>0&&t.push(n.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let n=this.getLineOffsets(),r=0,s=n.length;if(s===0)return qe.create(0,t);for(;r<s;){let o=Math.floor((r+s)/2);n[o]>t?s=o:r=o+1}let i=r-1;return qe.create(i,t-n[i])}offsetAt(t){let n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;let r=n[t.line],s=t.line+1<n.length?n[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,s),r)}get lineCount(){return this.getLineOffsets().length}}var U;(function(e){const t=Object.prototype.toString;function n(g){return typeof g<"u"}e.defined=n;function r(g){return typeof g>"u"}e.undefined=r;function s(g){return g===!0||g===!1}e.boolean=s;function i(g){return t.call(g)==="[object String]"}e.string=i;function o(g){return t.call(g)==="[object Number]"}e.number=o;function a(g,w,A){return t.call(g)==="[object Number]"&&w<=g&&g<=A}e.numberRange=a;function l(g){return t.call(g)==="[object Number]"&&-2147483648<=g&&g<=2147483647}e.integer=l;function u(g){return t.call(g)==="[object Number]"&&0<=g&&g<=2147483647}e.uinteger=u;function f(g){return t.call(g)==="[object Function]"}e.func=f;function c(g){return g!==null&&typeof g=="object"}e.objectLiteral=c;function m(g,w){return Array.isArray(g)&&g.every(w)}e.typedArray=m})(U||(U={}));const ll=Symbol.for("yaml.alias"),ul=Symbol.for("yaml.document"),Tn=Symbol.for("yaml.map"),md=Symbol.for("yaml.pair"),zt=Symbol.for("yaml.scalar"),$r=Symbol.for("yaml.seq"),Et=Symbol.for("yaml.node.type"),Gt=e=>!!e&&typeof e=="object"&&e[Et]===ll,Ir=e=>!!e&&typeof e=="object"&&e[Et]===ul,Pe=e=>!!e&&typeof e=="object"&&e[Et]===Tn,De=e=>!!e&&typeof e=="object"&&e[Et]===md,se=e=>!!e&&typeof e=="object"&&e[Et]===zt,$e=e=>!!e&&typeof e=="object"&&e[Et]===$r;function Re(e){if(e&&typeof e=="object")switch(e[Et]){case Tn:case $r:return!0}return!1}function ye(e){if(e&&typeof e=="object")switch(e[Et]){case ll:case Tn:case zt:case $r:return!0}return!1}const cy=e=>(se(e)||Re(e))&&!!e.anchor,Yn=Symbol("break visit"),fy=Symbol("skip children"),Fs=Symbol("remove node");function Fe(e,t){const n=hy(t);Ir(e)?Br(null,e.contents,n,Object.freeze([e]))===Fs&&(e.contents=null):Br(null,e,n,Object.freeze([]))}Fe.BREAK=Yn,Fe.SKIP=fy,Fe.REMOVE=Fs;function Br(e,t,n,r){const s=dy(e,t,n,r);if(ye(s)||De(s))return my(e,r,s),Br(e,s,n,r);if(typeof s!="symbol"){if(Re(t)){r=Object.freeze(r.concat(t));for(let i=0;i<t.items.length;++i){const o=Br(i,t.items[i],n,r);if(typeof o=="number")i=o-1;else{if(o===Yn)return Yn;o===Fs&&(t.items.splice(i,1),i-=1)}}}else if(De(t)){r=Object.freeze(r.concat(t));const i=Br("key",t.key,n,r);if(i===Yn)return Yn;i===Fs&&(t.key=null);const o=Br("value",t.value,n,r);if(o===Yn)return Yn;o===Fs&&(t.value=null)}}return s}function hy(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function dy(e,t,n,r){var s,i,o,a,l;if(typeof n=="function")return n(e,t,r);if(Pe(t))return(s=n.Map)==null?void 0:s.call(n,e,t,r);if($e(t))return(i=n.Seq)==null?void 0:i.call(n,e,t,r);if(De(t))return(o=n.Pair)==null?void 0:o.call(n,e,t,r);if(se(t))return(a=n.Scalar)==null?void 0:a.call(n,e,t,r);if(Gt(t))return(l=n.Alias)==null?void 0:l.call(n,e,t,r)}function my(e,t,n){const r=t[t.length-1];if(Re(r))r.items[e]=n;else if(De(r))e==="key"?r.key=n:r.value=n;else if(Ir(r))r.contents=n;else{const s=Gt(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}const gy={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},py=e=>e.replace(/[!,[\]{}]/g,t=>gy[t]);class Xe{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Xe.defaultYaml,t),this.tags=Object.assign({},Xe.defaultTags,n)}clone(){const t=new Xe(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new Xe(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Xe.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Xe.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:Xe.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Xe.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),s=r.shift();switch(s){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[i,o]=r;return this.tags[i]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[i]=r;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const o=/^\d+\.\d+$/.test(i);return n(6,`Unsupported YAML version ${i}`,o),!1}}default:return n(0,`Unknown directive ${s}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const o=t.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,s]=t.match(/^(.*!)([^!]*)$/s);s||n(`The ${t} tag has no suffix`);const i=this.tags[r];if(i)try{return i+decodeURIComponent(s)}catch(o){return n(String(o)),null}return r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+py(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let s;if(t&&r.length>0&&ye(t.contents)){const i={};Fe(t.contents,(o,a)=>{ye(a)&&a.tag&&(i[a.tag]=!0)}),s=Object.keys(i)}else s=[];for(const[i,o]of r)i==="!!"&&o==="tag:yaml.org,2002:"||(!t||s.some(a=>a.startsWith(o)))&&n.push(`%TAG ${i} ${o}`);return n.join(`
`)}}Xe.defaultYaml={explicit:!1,version:"1.2"},Xe.defaultTags={"!!":"tag:yaml.org,2002:"};function gd(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function pd(e){const t=new Set;return Fe(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function bd(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function by(e,t){const n=[],r=new Map;let s=null;return{onAnchor:i=>{n.push(i),s||(s=pd(e));const o=bd(t,s);return s.add(o),o},setAnchors:()=>{for(const i of n){const o=r.get(i);if(typeof o=="object"&&o.anchor&&(se(o.node)||Re(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=i,a}}},sourceObjects:r}}function Vr(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let s=0,i=r.length;s<i;++s){const o=r[s],a=Vr(e,r,String(s),o);a===void 0?delete r[s]:a!==o&&(r[s]=a)}else if(r instanceof Map)for(const s of Array.from(r.keys())){const i=r.get(s),o=Vr(e,r,s,i);o===void 0?r.delete(s):o!==i&&r.set(s,o)}else if(r instanceof Set)for(const s of Array.from(r)){const i=Vr(e,r,s,s);i===void 0?r.delete(s):i!==s&&(r.delete(s),r.add(i))}else for(const[s,i]of Object.entries(r)){const o=Vr(e,r,s,i);o===void 0?delete r[s]:o!==i&&(r[s]=o)}return e.call(t,n,r)}function At(e,t,n){if(Array.isArray(e))return e.map((r,s)=>At(r,String(s),n));if(e&&typeof e.toJSON=="function"){if(!n||!cy(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=i=>{r.res=i,delete n.onCreate};const s=e.toJSON(t,n);return n.onCreate&&n.onCreate(s),s}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}class cl{constructor(t){Object.defineProperty(this,Et,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:n,maxAliasCount:r,onAnchor:s,reviver:i}={}){if(!Ir(t))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:t,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=At(this,"",o);if(typeof s=="function")for(const{count:l,res:u}of o.anchors.values())s(u,l);return typeof i=="function"?Vr(i,{"":a},"",a):a}}class fl extends cl{constructor(t){super(ll),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let n;return Fe(t,{Node:(r,s)=>{if(s===this)return Fe.BREAK;s.anchor===this.source&&(n=s)}}),n}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:s,maxAliasCount:i}=n,o=this.resolve(s);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=r.get(o);if(a||(At(o,null,n),a=r.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(i>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Mi(s,o,r)),a.count*a.aliasCount>i)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(t,n,r){const s=`*${this.source}`;if(t){if(gd(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(t.implicitKey)return`${s} `}return s}}function Mi(e,t,n){if(Gt(t)){const r=t.resolve(e),s=n&&r&&n.get(r);return s?s.count*s.aliasCount:0}else if(Re(t)){let r=0;for(const s of t.items){const i=Mi(e,s,n);i>r&&(r=i)}return r}else if(De(t)){const r=Mi(e,t.key,n),s=Mi(e,t.value,n);return Math.max(r,s)}return 1}const yd=e=>!e||typeof e!="function"&&typeof e!="object";class oe extends cl{constructor(t){super(zt),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:At(this.value,t,n)}toString(){return String(this.value)}}oe.BLOCK_FOLDED="BLOCK_FOLDED",oe.BLOCK_LITERAL="BLOCK_LITERAL",oe.PLAIN="PLAIN",oe.QUOTE_DOUBLE="QUOTE_DOUBLE",oe.QUOTE_SINGLE="QUOTE_SINGLE";const yy="tag:yaml.org,2002:";function vy(e,t,n){if(t){const r=n.filter(i=>i.tag===t),s=r.find(i=>!i.format)??r[0];if(!s)throw new Error(`Tag ${t} not found`);return s}return n.find(r=>{var s;return((s=r.identify)==null?void 0:s.call(r,e))&&!r.format})}function _s(e,t,n){var c,m,g;if(Ir(e)&&(e=e.contents),ye(e))return e;if(De(e)){const w=(m=(c=n.schema[Tn]).createNode)==null?void 0:m.call(c,n.schema,null,n);return w.items.push(e),w}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:s,onTagObj:i,schema:o,sourceObjects:a}=n;let l;if(r&&e&&typeof e=="object"){if(l=a.get(e),l)return l.anchor||(l.anchor=s(e)),new fl(l.anchor);l={anchor:null,node:null},a.set(e,l)}t!=null&&t.startsWith("!!")&&(t=yy+t.slice(2));let u=vy(e,t,o.tags);if(!u){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const w=new oe(e);return l&&(l.node=w),w}u=e instanceof Map?o[Tn]:Symbol.iterator in Object(e)?o[$r]:o[Tn]}i&&(i(u),delete n.onTagObj);const f=u!=null&&u.createNode?u.createNode(n.schema,e,n):typeof((g=u==null?void 0:u.nodeClass)==null?void 0:g.from)=="function"?u.nodeClass.from(n.schema,e,n):new oe(e);return t?f.tag=t:u.default||(f.tag=u.tag),l&&(l.node=f),f}function Oi(e,t,n){let r=n;for(let s=t.length-1;s>=0;--s){const i=t[s];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const o=[];o[i]=r,r=o}else r=new Map([[i,r]])}return _s(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const Ts=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class vd extends cl{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>ye(r)||De(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(Ts(t))this.add(n);else{const[r,...s]=t,i=this.get(r,!0);if(Re(i))i.addIn(s,n);else if(i===void 0&&this.schema)this.set(r,Oi(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const s=this.get(n,!0);if(Re(s))return s.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...s]=t,i=this.get(r,!0);return s.length===0?!n&&se(i)?i.value:i:Re(i)?i.getIn(s,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!De(n))return!1;const r=n.value;return r==null||t&&se(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const s=this.get(n,!0);return Re(s)?s.hasIn(r):!1}setIn(t,n){const[r,...s]=t;if(s.length===0)this.set(r,n);else{const i=this.get(r,!0);if(Re(i))i.setIn(s,n);else if(i===void 0&&this.schema)this.set(r,Oi(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}}const Dy=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function fn(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const zn=(e,t,n)=>e.endsWith(`
`)?fn(n,t):n.includes(`
`)?`
`+fn(n,t):(e.endsWith(" ")?"":" ")+n,Dd="flow",hl="block",Ri="quoted";function Pi(e,t,n="flow",{indentAtStart:r,lineWidth:s=80,minContentWidth:i=20,onFold:o,onOverflow:a}={}){if(!s||s<0)return e;s<i&&(i=0);const l=Math.max(1+i,1+s-t.length);if(e.length<=l)return e;const u=[],f={};let c=s-t.length;typeof r=="number"&&(r>s-Math.max(2,i)?u.push(0):c=s-r);let m,g,w=!1,A=-1,E=-1,N=-1;n===hl&&(A=wd(e,A,t.length),A!==-1&&(c=A+l));for(let b;b=e[A+=1];){if(n===Ri&&b==="\\"){switch(E=A,e[A+1]){case"x":A+=3;break;case"u":A+=5;break;case"U":A+=9;break;default:A+=1}N=A}if(b===`
`)n===hl&&(A=wd(e,A,t.length)),c=A+t.length+l,m=void 0;else{if(b===" "&&g&&g!==" "&&g!==`
`&&g!=="	"){const p=e[A+1];p&&p!==" "&&p!==`
`&&p!=="	"&&(m=A)}if(A>=c)if(m)u.push(m),c=m+l,m=void 0;else if(n===Ri){for(;g===" "||g==="	";)g=b,b=e[A+=1],w=!0;const p=A>N+1?A-2:E-1;if(f[p])return e;u.push(p),f[p]=!0,c=p+l,m=void 0}else w=!0}g=b}if(w&&a&&a(),u.length===0)return e;o&&o();let k=e.slice(0,u[0]);for(let b=0;b<u.length;++b){const p=u[b],h=u[b+1]||e.length;p===0?k=`
${t}${e.slice(0,h)}`:(n===Ri&&f[p]&&(k+=`${e[p]}\\`),k+=`
${t}${e.slice(p+1,h)}`)}return k}function wd(e,t,n){let r=t,s=t+1,i=e[s];for(;i===" "||i==="	";)if(t<s+n)i=e[++t];else{do i=e[++t];while(i&&i!==`
`);r=t,s=t+1,i=e[s]}return r}const $i=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),Ii=e=>/^(%|---|\.\.\.)/m.test(e);function wy(e,t,n){if(!t||t<0)return!1;const r=t-n,s=e.length;if(s<=r)return!1;for(let i=0,o=0;i<s;++i)if(e[i]===`
`){if(i-o>r)return!0;if(o=i+1,s-o<=r)return!1}return!0}function Ms(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,s=t.options.doubleQuotedMinMultiLineLength,i=t.indent||(Ii(e)?"  ":"");let o="",a=0;for(let l=0,u=n[l];u;u=n[++l])if(u===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(o+=n.slice(a,l)+"\\ ",l+=1,a=l,u="\\"),u==="\\")switch(n[l+1]){case"u":{o+=n.slice(a,l);const f=n.substr(l+2,4);switch(f){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:f.substr(0,2)==="00"?o+="\\x"+f.substr(2):o+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(r||n[l+2]==='"'||n.length<s)l+=1;else{for(o+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)o+=`
`,l+=2;o+=i,n[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+n.slice(a):n,r?o:Pi(o,i,Ri,$i(t,!1))}function dl(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return Ms(e,t);const n=t.indent||(Ii(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:Pi(r,n,Dd,$i(t,!1))}function jr(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=Ms;else{const s=e.includes('"'),i=e.includes("'");s&&!i?r=dl:i&&!s?r=Ms:r=n?dl:Ms}return r(e,t)}let ml;try{ml=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{ml=/\n+(?!\n|$)/g}function Bi({comment:e,type:t,value:n},r,s,i){const{blockQuote:o,commentString:a,lineWidth:l}=r.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return jr(n,r);const u=r.indent||(r.forceBlockIndent||Ii(n)?"  ":""),f=o==="literal"?!0:o==="folded"||t===oe.BLOCK_FOLDED?!1:t===oe.BLOCK_LITERAL?!0:!wy(n,l,u.length);if(!n)return f?`|
`:`>
`;let c,m;for(m=n.length;m>0;--m){const h=n[m-1];if(h!==`
`&&h!=="	"&&h!==" ")break}let g=n.substring(m);const w=g.indexOf(`
`);w===-1?c="-":n===g||w!==g.length-1?(c="+",i&&i()):c="",g&&(n=n.slice(0,-g.length),g[g.length-1]===`
`&&(g=g.slice(0,-1)),g=g.replace(ml,`$&${u}`));let A=!1,E,N=-1;for(E=0;E<n.length;++E){const h=n[E];if(h===" ")A=!0;else if(h===`
`)N=E;else break}let k=n.substring(0,N<E?N+1:E);k&&(n=n.substring(k.length),k=k.replace(/\n+/g,`$&${u}`));let p=(A?u?"2":"1":"")+c;if(e&&(p+=" "+a(e.replace(/ ?[\r\n]+/g," ")),s&&s()),!f){const h=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);let d=!1;const y=$i(r,!0);o!=="folded"&&t!==oe.BLOCK_FOLDED&&(y.onOverflow=()=>{d=!0});const S=Pi(`${k}${h}${g}`,u,hl,y);if(!d)return`>${p}
${u}${S}`}return n=n.replace(/\n+/g,`$&${u}`),`|${p}
${u}${k}${n}${g}`}function Sy(e,t,n,r){const{type:s,value:i}=e,{actualString:o,implicitKey:a,indent:l,indentStep:u,inFlow:f}=t;if(a&&i.includes(`
`)||f&&/[[\]{},]/.test(i))return jr(i,t);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||f||!i.includes(`
`)?jr(i,t):Bi(e,t,n,r);if(!a&&!f&&s!==oe.PLAIN&&i.includes(`
`))return Bi(e,t,n,r);if(Ii(i)){if(l==="")return t.forceBlockIndent=!0,Bi(e,t,n,r);if(a&&l===u)return jr(i,t)}const c=i.replace(/\n+/g,`$&
${l}`);if(o){const m=A=>{var E;return A.default&&A.tag!=="tag:yaml.org,2002:str"&&((E=A.test)==null?void 0:E.test(c))},{compat:g,tags:w}=t.doc.schema;if(w.some(m)||g!=null&&g.some(m))return jr(i,t)}return a?c:Pi(c,l,Dd,$i(t,!1))}function gl(e,t,n,r){const{implicitKey:s,inFlow:i}=t,o=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:a}=e;a!==oe.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=oe.QUOTE_DOUBLE);const l=f=>{switch(f){case oe.BLOCK_FOLDED:case oe.BLOCK_LITERAL:return s||i?jr(o.value,t):Bi(o,t,n,r);case oe.QUOTE_DOUBLE:return Ms(o.value,t);case oe.QUOTE_SINGLE:return dl(o.value,t);case oe.PLAIN:return Sy(o,t,n,r);default:return null}};let u=l(a);if(u===null){const{defaultKeyType:f,defaultStringType:c}=t.options,m=s&&f||c;if(u=l(m),u===null)throw new Error(`Unsupported default string type ${m}`)}return u}function Sd(e,t){const n=Object.assign({blockQuote:!0,commentString:Dy,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function Ey(e,t){var s;if(t.tag){const i=e.filter(o=>o.tag===t.tag);if(i.length>0)return i.find(o=>o.format===t.format)??i[0]}let n,r;if(se(t)){r=t.value;let i=e.filter(o=>{var a;return(a=o.identify)==null?void 0:a.call(o,r)});if(i.length>1){const o=i.filter(a=>a.test);o.length>0&&(i=o)}n=i.find(o=>o.format===t.format)??i.find(o=>!o.format)}else r=t,n=e.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){const i=((s=r==null?void 0:r.constructor)==null?void 0:s.name)??typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}function Ay(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const s=[],i=(se(e)||Re(e))&&e.anchor;i&&gd(i)&&(n.add(i),s.push(`&${i}`));const o=e.tag?e.tag:t.default?null:t.tag;return o&&s.push(r.directives.tagString(o)),s.join(" ")}function Ur(e,t,n,r){var l;if(De(e))return e.toString(t,n,r);if(Gt(e)){if(t.doc.directives)return e.toString(t);if((l=t.resolvedAliases)!=null&&l.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let s;const i=ye(e)?e:t.doc.createNode(e,{onTagObj:u=>s=u});s||(s=Ey(t.doc.schema.tags,i));const o=Ay(i,s,t);o.length>0&&(t.indentAtStart=(t.indentAtStart??0)+o.length+1);const a=typeof s.stringify=="function"?s.stringify(i,t,n,r):se(i)?gl(i,t,n,r):i.toString(t,n,r);return o?se(i)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${t.indent}${a}`:a}function Ny({key:e,value:t},n,r,s){const{allNullValues:i,doc:o,indent:a,indentStep:l,options:{commentString:u,indentSeq:f,simpleKeys:c}}=n;let m=ye(e)&&e.comment||null;if(c){if(m)throw new Error("With simple keys, key nodes cannot have comments");if(Re(e)||!ye(e)&&typeof e=="object"){const y="With simple keys, collection cannot be used as a key value";throw new Error(y)}}let g=!c&&(!e||m&&t==null&&!n.inFlow||Re(e)||(se(e)?e.type===oe.BLOCK_FOLDED||e.type===oe.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!g&&(c||!i),indent:a+l});let w=!1,A=!1,E=Ur(e,n,()=>w=!0,()=>A=!0);if(!g&&!n.inFlow&&E.length>1024){if(c)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");g=!0}if(n.inFlow){if(i||t==null)return w&&r&&r(),E===""?"?":g?`? ${E}`:E}else if(i&&!c||t==null&&g)return E=`? ${E}`,m&&!w?E+=zn(E,n.indent,u(m)):A&&s&&s(),E;w&&(m=null),g?(m&&(E+=zn(E,n.indent,u(m))),E=`? ${E}
${a}:`):(E=`${E}:`,m&&(E+=zn(E,n.indent,u(m))));let N,k,b;ye(t)?(N=!!t.spaceBefore,k=t.commentBefore,b=t.comment):(N=!1,k=null,b=null,t&&typeof t=="object"&&(t=o.createNode(t))),n.implicitKey=!1,!g&&!m&&se(t)&&(n.indentAtStart=E.length+1),A=!1,!f&&l.length>=2&&!n.inFlow&&!g&&$e(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let p=!1;const h=Ur(t,n,()=>p=!0,()=>A=!0);let d=" ";if(m||N||k){if(d=N?`
`:"",k){const y=u(k);d+=`
${fn(y,n.indent)}`}h===""&&!n.inFlow?d===`
`&&(d=`

`):d+=`
${n.indent}`}else if(!g&&Re(t)){const y=h[0],S=h.indexOf(`
`),D=S!==-1,x=n.inFlow??t.flow??t.items.length===0;if(D||!x){let C=!1;if(D&&(y==="&"||y==="!")){let L=h.indexOf(" ");y==="&"&&L!==-1&&L<S&&h[L+1]==="!"&&(L=h.indexOf(" ",L+1)),(L===-1||S<L)&&(C=!0)}C||(d=`
${n.indent}`)}}else(h===""||h[0]===`
`)&&(d="");return E+=d+h,n.inFlow?p&&r&&r():b&&!p?E+=zn(E,n.indent,u(b)):A&&s&&s(),E}function Ed(e,t){(e==="debug"||e==="warn")&&console.warn(t)}const Vi="<<",hn={identify:e=>e===Vi||typeof e=="symbol"&&e.description===Vi,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new oe(Symbol(Vi)),{addToJSMap:Ad}),stringify:()=>Vi},xy=(e,t)=>(hn.identify(t)||se(t)&&(!t.type||t.type===oe.PLAIN)&&hn.identify(t.value))&&(e==null?void 0:e.doc.schema.tags.some(n=>n.tag===hn.tag&&n.default));function Ad(e,t,n){if(n=e&&Gt(n)?n.resolve(e.doc):n,$e(n))for(const r of n.items)pl(e,t,r);else if(Array.isArray(n))for(const r of n)pl(e,t,r);else pl(e,t,n)}function pl(e,t,n){const r=e&&Gt(n)?n.resolve(e.doc):n;if(!Pe(r))throw new Error("Merge sources must be maps or map aliases");const s=r.toJSON(null,e,Map);for(const[i,o]of s)t instanceof Map?t.has(i)||t.set(i,o):t instanceof Set?t.add(i):Object.prototype.hasOwnProperty.call(t,i)||Object.defineProperty(t,i,{value:o,writable:!0,enumerable:!0,configurable:!0});return t}function Nd(e,t,{key:n,value:r}){if(ye(n)&&n.addToJSMap)n.addToJSMap(e,t,r);else if(xy(e,n))Ad(e,t,r);else{const s=At(n,"",e);if(t instanceof Map)t.set(s,At(r,s,e));else if(t instanceof Set)t.add(s);else{const i=Ly(n,s,e),o=At(r,i,e);i in t?Object.defineProperty(t,i,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[i]=o}}return t}function Ly(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if(ye(e)&&(n!=null&&n.doc)){const r=Sd(n.doc,{});r.anchors=new Set;for(const i of n.anchors.keys())r.anchors.add(i.anchor);r.inFlow=!0,r.inStringifyKey=!0;const s=e.toString(r);if(!n.mapKeyWarned){let i=JSON.stringify(s);i.length>40&&(i=i.substring(0,36)+'..."'),Ed(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(t)}function bl(e,t,n){const r=_s(e,void 0,n),s=_s(t,void 0,n);return new Ze(r,s)}class Ze{constructor(t,n=null){Object.defineProperty(this,Et,{value:md}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return ye(n)&&(n=n.clone(t)),ye(r)&&(r=r.clone(t)),new Ze(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return Nd(n,r,this)}toString(t,n,r){return t!=null&&t.doc?Ny(this,t,n,r):JSON.stringify(this)}}function xd(e,t,n){return(t.inFlow??e.flow?ky:Cy)(e,t,n)}function Cy({comment:e,items:t},n,{blockItemPrefix:r,flowChars:s,itemIndent:i,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:u}}=n,f=Object.assign({},n,{indent:i,type:null});let c=!1;const m=[];for(let w=0;w<t.length;++w){const A=t[w];let E=null;if(ye(A))!c&&A.spaceBefore&&m.push(""),ji(n,m,A.commentBefore,c),A.comment&&(E=A.comment);else if(De(A)){const k=ye(A.key)?A.key:null;k&&(!c&&k.spaceBefore&&m.push(""),ji(n,m,k.commentBefore,c))}c=!1;let N=Ur(A,f,()=>E=null,()=>c=!0);E&&(N+=zn(N,i,u(E))),c&&E&&(c=!1),m.push(r+N)}let g;if(m.length===0)g=s.start+s.end;else{g=m[0];for(let w=1;w<m.length;++w){const A=m[w];g+=A?`
${l}${A}`:`
`}}return e?(g+=`
`+fn(u(e),l),a&&a()):c&&o&&o(),g}function ky({items:e},t,{flowChars:n,itemIndent:r}){const{indent:s,indentStep:i,flowCollectionPadding:o,options:{commentString:a}}=t;r+=i;const l=Object.assign({},t,{indent:r,inFlow:!0,type:null});let u=!1,f=0;const c=[];for(let w=0;w<e.length;++w){const A=e[w];let E=null;if(ye(A))A.spaceBefore&&c.push(""),ji(t,c,A.commentBefore,!1),A.comment&&(E=A.comment);else if(De(A)){const k=ye(A.key)?A.key:null;k&&(k.spaceBefore&&c.push(""),ji(t,c,k.commentBefore,!1),k.comment&&(u=!0));const b=ye(A.value)?A.value:null;b?(b.comment&&(E=b.comment),b.commentBefore&&(u=!0)):A.value==null&&(k!=null&&k.comment)&&(E=k.comment)}E&&(u=!0);let N=Ur(A,l,()=>E=null);w<e.length-1&&(N+=","),E&&(N+=zn(N,r,a(E))),!u&&(c.length>f||N.includes(`
`))&&(u=!0),c.push(N),f=c.length}const{start:m,end:g}=n;if(c.length===0)return m+g;if(!u){const w=c.reduce((A,E)=>A+E.length+2,2);u=t.options.lineWidth>0&&w>t.options.lineWidth}if(u){let w=m;for(const A of c)w+=A?`
${i}${s}${A}`:`
`;return`${w}
${s}${g}`}else return`${m}${o}${c.join(" ")}${o}${g}`}function ji({indent:e,options:{commentString:t}},n,r,s){if(r&&s&&(r=r.replace(/^\n+/,"")),r){const i=fn(t(r),e);n.push(i.trimStart())}}function Gn(e,t){const n=se(t)?t.value:t;for(const r of e)if(De(r)&&(r.key===t||r.key===n||se(r.key)&&r.key.value===n))return r}class Nt extends vd{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(Tn,t),this.items=[]}static from(t,n,r){const{keepUndefined:s,replacer:i}=r,o=new this(t),a=(l,u)=>{if(typeof i=="function")u=i.call(n,l,u);else if(Array.isArray(i)&&!i.includes(l))return;(u!==void 0||s)&&o.items.push(bl(l,u,r))};if(n instanceof Map)for(const[l,u]of n)a(l,u);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof t.sortMapEntries=="function"&&o.items.sort(t.sortMapEntries),o}add(t,n){var o;let r;De(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new Ze(t,t==null?void 0:t.value):r=new Ze(t.key,t.value);const s=Gn(this.items,r.key),i=(o=this.schema)==null?void 0:o.sortMapEntries;if(s){if(!n)throw new Error(`Key ${r.key} already set`);se(s.value)&&yd(r.value)?s.value.value=r.value:s.value=r.value}else if(i){const a=this.items.findIndex(l=>i(r,l)<0);a===-1?this.items.push(r):this.items.splice(a,0,r)}else this.items.push(r)}delete(t){const n=Gn(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const r=Gn(this.items,t),s=r==null?void 0:r.value;return(!n&&se(s)?s.value:s)??void 0}has(t){return!!Gn(this.items,t)}set(t,n){this.add(new Ze(t,n),!0)}toJSON(t,n,r){const s=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(s);for(const i of this.items)Nd(n,s,i);return s}toString(t,n,r){if(!t)return JSON.stringify(this);for(const s of this.items)if(!De(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),xd(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}const qr={collection:"map",default:!0,nodeClass:Nt,tag:"tag:yaml.org,2002:map",resolve(e,t){return Pe(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,n)=>Nt.from(e,t,n)};class Jn extends vd{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super($r,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=Ui(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=Ui(t);if(typeof r!="number")return;const s=this.items[r];return!n&&se(s)?s.value:s}has(t){const n=Ui(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=Ui(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const s=this.items[r];se(s)&&yd(n)?s.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let s=0;for(const i of this.items)r.push(At(i,String(s++),n));return r}toString(t,n,r){return t?xd(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(t,n,r){const{replacer:s}=r,i=new this(t);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof s=="function"){const l=n instanceof Set?a:String(o++);a=s.call(n,l,a)}i.items.push(_s(a,void 0,r))}}return i}}function Ui(e){let t=se(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}const Wr={collection:"seq",default:!0,nodeClass:Jn,tag:"tag:yaml.org,2002:seq",resolve(e,t){return $e(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,n)=>Jn.from(e,t,n)},qi={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),gl(e,t,n,r)}},Wi={identify:e=>e==null,createNode:()=>new oe(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new oe(null),stringify:({source:e},t)=>typeof e=="string"&&Wi.test.test(e)?e:t.options.nullStr},yl={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new oe(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&yl.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function Ot({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const s=typeof r=="number"?r:Number(r);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let i=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let o=i.indexOf(".");o<0&&(o=i.length,i+=".");let a=t-(i.length-o-1);for(;a-- >0;)i+="0"}return i}const Ld={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ot},Cd={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Ot(e)}},kd={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new oe(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:Ot},Hi=e=>typeof e=="bigint"||Number.isInteger(e),vl=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function Fd(e,t,n){const{value:r}=e;return Hi(r)&&r>=0?n+r.toString(t):Ot(e)}const _d={identify:e=>Hi(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>vl(e,2,8,n),stringify:e=>Fd(e,8,"0o")},Td={identify:Hi,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>vl(e,0,10,n),stringify:Ot},Md={identify:e=>Hi(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>vl(e,2,16,n),stringify:e=>Fd(e,16,"0x")},Fy=[qr,Wr,qi,Wi,yl,_d,Td,Md,Ld,Cd,kd];function Od(e){return typeof e=="bigint"||Number.isInteger(e)}const Yi=({value:e})=>JSON.stringify(e),_y=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Yi},{identify:e=>e==null,createNode:()=>new oe(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Yi},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>e==="true",stringify:Yi},{identify:Od,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>Od(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Yi}],Ty={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},My=[qr,Wr].concat(_y,Ty),Dl={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,s,i){const o=n;let a;if(typeof btoa=="function"){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=oe.BLOCK_LITERAL),t!==oe.QUOTE_DOUBLE){const l=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(a.length/l),f=new Array(u);for(let c=0,m=0;c<u;++c,m+=l)f[c]=a.substr(m,l);a=f.join(t===oe.BLOCK_LITERAL?`
`:" ")}return gl({comment:e,type:t,value:a},r,s,i)}};function Rd(e,t){if($e(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!De(r)){if(Pe(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const s=r.items[0]||new Ze(new oe(null));if(r.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${r.commentBefore}
${s.key.commentBefore}`:r.commentBefore),r.comment){const i=s.value??s.key;i.comment=i.comment?`${r.comment}
${i.comment}`:r.comment}r=s}e.items[n]=De(r)?r:new Ze(r)}}else t("Expected a sequence for this tag");return e}function Pd(e,t,n){const{replacer:r}=n,s=new Jn(e);s.tag="tag:yaml.org,2002:pairs";let i=0;if(t&&Symbol.iterator in Object(t))for(let o of t){typeof r=="function"&&(o=r.call(t,String(i++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const u=Object.keys(o);if(u.length===1)a=u[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else a=o;s.items.push(bl(a,l,n))}return s}const wl={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Rd,createNode:Pd};class Hr extends Jn{constructor(){super(),this.add=Nt.prototype.add.bind(this),this.delete=Nt.prototype.delete.bind(this),this.get=Nt.prototype.get.bind(this),this.has=Nt.prototype.has.bind(this),this.set=Nt.prototype.set.bind(this),this.tag=Hr.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const s of this.items){let i,o;if(De(s)?(i=At(s.key,"",n),o=At(s.value,i,n)):i=At(s,"",n),r.has(i))throw new Error("Ordered maps must not include duplicate keys");r.set(i,o)}return r}static from(t,n,r){const s=Pd(t,n,r),i=new this;return i.items=s.items,i}}Hr.tag="tag:yaml.org,2002:omap";const Sl={collection:"seq",identify:e=>e instanceof Map,nodeClass:Hr,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=Rd(e,t),r=[];for(const{key:s}of n.items)se(s)&&(r.includes(s.value)?t(`Ordered maps must not include duplicate keys: ${s.value}`):r.push(s.value));return Object.assign(new Hr,n)},createNode:(e,t,n)=>Hr.from(e,t,n)};function $d({value:e,source:t},n){return t&&(e?Id:Bd).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const Id={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new oe(!0),stringify:$d},Bd={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new oe(!1),stringify:$d},Oy={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ot},Ry={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Ot(e)}},Py={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new oe(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:Ot},Os=e=>typeof e=="bigint"||Number.isInteger(e);function zi(e,t,n,{intAsBigInt:r}){const s=e[0];if((s==="-"||s==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const o=BigInt(e);return s==="-"?BigInt(-1)*o:o}const i=parseInt(e,n);return s==="-"?-1*i:i}function El(e,t,n){const{value:r}=e;if(Os(r)){const s=r.toString(t);return r<0?"-"+n+s.substr(1):n+s}return Ot(e)}const $y={identify:Os,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>zi(e,2,2,n),stringify:e=>El(e,2,"0b")},Iy={identify:Os,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>zi(e,1,8,n),stringify:e=>El(e,8,"0")},By={identify:Os,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>zi(e,0,10,n),stringify:Ot},Vy={identify:Os,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>zi(e,2,16,n),stringify:e=>El(e,16,"0x")};class Yr extends Nt{constructor(t){super(t),this.tag=Yr.tag}add(t){let n;De(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new Ze(t.key,null):n=new Ze(t,null),Gn(this.items,n.key)||this.items.push(n)}get(t,n){const r=Gn(this.items,t);return!n&&De(r)?se(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Gn(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Ze(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(t,n,r){const{replacer:s}=r,i=new this(t);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof s=="function"&&(o=s.call(n,o,o)),i.items.push(bl(o,null,r));return i}}Yr.tag="tag:yaml.org,2002:set";const Al={collection:"map",identify:e=>e instanceof Set,nodeClass:Yr,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>Yr.from(e,t,n),resolve(e,t){if(Pe(e)){if(e.hasAllNullValues(!0))return Object.assign(new Yr,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function Nl(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,s=o=>t?BigInt(o):Number(o),i=r.replace(/_/g,"").split(":").reduce((o,a)=>o*s(60)+s(a),s(0));return n==="-"?s(-1)*i:i}function Vd(e){let{value:t}=e,n=o=>o;if(typeof t=="bigint")n=o=>BigInt(o);else if(isNaN(t)||!isFinite(t))return Ot(e);let r="";t<0&&(r="-",t*=n(-1));const s=n(60),i=[t%s];return t<60?i.unshift(0):(t=(t-i[0])/s,i.unshift(t%s),t>=60&&(t=(t-i[0])/s,i.unshift(t))),r+i.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const jd={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>Nl(e,n),stringify:Vd},Ud={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Nl(e,!1),stringify:Vd},Gi={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(Gi.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,s,i,o,a]=t.map(Number),l=t[7]?Number((t[7]+"00").substr(1,3)):0;let u=Date.UTC(n,r-1,s,i||0,o||0,a||0,l);const f=t[8];if(f&&f!=="Z"){let c=Nl(f,!1);Math.abs(c)<30&&(c*=60),u-=6e4*c}return new Date(u)},stringify:({value:e})=>e.toISOString().replace(/(T00:00:00)?\.000Z$/,"")},qd=[qr,Wr,qi,Wi,Id,Bd,$y,Iy,By,Vy,Oy,Ry,Py,Dl,hn,Sl,wl,Al,jd,Ud,Gi],Wd=new Map([["core",Fy],["failsafe",[qr,Wr,qi]],["json",My],["yaml11",qd],["yaml-1.1",qd]]),Hd={binary:Dl,bool:yl,float:kd,floatExp:Cd,floatNaN:Ld,floatTime:Ud,int:Td,intHex:Md,intOct:_d,intTime:jd,map:qr,merge:hn,null:Wi,omap:Sl,pairs:wl,seq:Wr,set:Al,timestamp:Gi},jy={"tag:yaml.org,2002:binary":Dl,"tag:yaml.org,2002:merge":hn,"tag:yaml.org,2002:omap":Sl,"tag:yaml.org,2002:pairs":wl,"tag:yaml.org,2002:set":Al,"tag:yaml.org,2002:timestamp":Gi};function xl(e,t,n){const r=Wd.get(t);if(r&&!e)return n&&!r.includes(hn)?r.concat(hn):r.slice();let s=r;if(!s)if(Array.isArray(e))s=[];else{const i=Array.from(Wd.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${i} or define customTags array`)}if(Array.isArray(e))for(const i of e)s=s.concat(i);else typeof e=="function"&&(s=e(s.slice()));return n&&(s=s.concat(hn)),s.reduce((i,o)=>{const a=typeof o=="string"?Hd[o]:o;if(!a){const l=JSON.stringify(o),u=Object.keys(Hd).map(f=>JSON.stringify(f)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${u}`)}return i.includes(a)||i.push(a),i},[])}const Uy=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class Ll{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:s,schema:i,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(t)?xl(t,"compat"):t?xl(null,t):null,this.name=typeof i=="string"&&i||"core",this.knownTags=s?jy:{},this.tags=xl(n,this.name,r),this.toStringOptions=a??null,Object.defineProperty(this,Tn,{value:qr}),Object.defineProperty(this,zt,{value:qi}),Object.defineProperty(this,$r,{value:Wr}),this.sortMapEntries=typeof o=="function"?o:o===!0?Uy:null}clone(){const t=Object.create(Ll.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function qy(e,t){var l;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const u=e.directives.toString(e);u?(n.push(u),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const s=Sd(e,t),{commentString:i}=s.options;if(e.commentBefore){n.length!==1&&n.unshift("");const u=i(e.commentBefore);n.unshift(fn(u,""))}let o=!1,a=null;if(e.contents){if(ye(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const c=i(e.contents.commentBefore);n.push(fn(c,""))}s.forceBlockIndent=!!e.comment,a=e.contents.comment}const u=a?void 0:()=>o=!0;let f=Ur(e.contents,s,()=>a=null,u);a&&(f+=zn(f,"",i(a))),(f[0]==="|"||f[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${f}`:n.push(f)}else n.push(Ur(e.contents,s));if((l=e.directives)!=null&&l.docEnd)if(e.comment){const u=i(e.comment);u.includes(`
`)?(n.push("..."),n.push(fn(u,""))):n.push(`... ${u}`)}else n.push("...");else{let u=e.comment;u&&o&&(u=u.replace(/^\n+/,"")),u&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(fn(i(u),"")))}return n.join(`
`)+`
`}class Rs{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Et,{value:ul});let s=null;typeof n=="function"||Array.isArray(n)?s=n:r===void 0&&n&&(r=n,n=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=i;let{version:o}=i;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Xe({version:o}),this.setSchema(o,r),this.contents=t===void 0?null:this.createNode(t,s,r)}clone(){const t=Object.create(Rs.prototype,{[Et]:{value:ul}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=ye(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){zr(this.contents)&&this.contents.add(t)}addIn(t,n){zr(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=pd(this);t.anchor=!n||r.has(n)?bd(n||"a",r):n}return new fl(t.anchor)}createNode(t,n,r){let s;if(typeof n=="function")t=n.call({"":t},"",t),s=n;else if(Array.isArray(n)){const E=k=>typeof k=="number"||k instanceof String||k instanceof Number,N=n.filter(E).map(String);N.length>0&&(n=n.concat(N)),s=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:i,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:u,tag:f}=r??{},{onAnchor:c,setAnchors:m,sourceObjects:g}=by(this,o||"a"),w={aliasDuplicateObjects:i??!0,keepUndefined:l??!1,onAnchor:c,onTagObj:u,replacer:s,schema:this.schema,sourceObjects:g},A=_s(t,f,w);return a&&Re(A)&&(A.flow=!0),m(),A}createPair(t,n,r={}){const s=this.createNode(t,null,r),i=this.createNode(n,null,r);return new Ze(s,i)}delete(t){return zr(this.contents)?this.contents.delete(t):!1}deleteIn(t){return Ts(t)?this.contents==null?!1:(this.contents=null,!0):zr(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return Re(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return Ts(t)?!n&&se(this.contents)?this.contents.value:this.contents:Re(this.contents)?this.contents.getIn(t,n):void 0}has(t){return Re(this.contents)?this.contents.has(t):!1}hasIn(t){return Ts(t)?this.contents!==void 0:Re(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=Oi(this.schema,[t],n):zr(this.contents)&&this.contents.set(t,n)}setIn(t,n){Ts(t)?this.contents=n:this.contents==null?this.contents=Oi(this.schema,Array.from(t),n):zr(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Xe({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Xe({version:t}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const s=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new Ll(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:s,onAnchor:i,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},l=At(this.contents,n??"",a);if(typeof i=="function")for(const{count:u,res:f}of a.anchors.values())i(f,u);return typeof o=="function"?Vr(o,{"":l},"",l):l}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return qy(this,t)}}function zr(e){if(Re(e))return!0;throw new Error("Expected a YAML collection as document contents")}class Yd extends Error{constructor(t,n,r,s){super(),this.name=t,this.code=r,this.message=s,this.pos=n}}class Ps extends Yd{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class Wy extends Yd{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const zd=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>t.linePos(a));const{line:r,col:s}=n.linePos[0];n.message+=` at line ${r}, column ${s}`;let i=s-1,o=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(i>=60&&o.length>80){const a=Math.min(i-39,o.length-79);o="…"+o.substring(a),i-=a-1}if(o.length>80&&(o=o.substring(0,79)+"…"),r>1&&/^ *$/.test(o.substring(0,i))){let a=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`…
`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=n.linePos[1];l&&l.line===r&&l.col>s&&(a=Math.max(1,Math.min(l.col-s,80-i)));const u=" ".repeat(i)+"^".repeat(a);n.message+=`:

${o}
${u}
`}};function Gr(e,{flow:t,indicator:n,next:r,offset:s,onError:i,parentIndent:o,startOnNewline:a}){let l=!1,u=a,f=a,c="",m="",g=!1,w=!1,A=null,E=null,N=null,k=null,b=null,p=null,h=null;for(const S of e)switch(w&&(S.type!=="space"&&S.type!=="newline"&&S.type!=="comma"&&i(S.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),w=!1),A&&(u&&S.type!=="comment"&&S.type!=="newline"&&i(A,"TAB_AS_INDENT","Tabs are not allowed as indentation"),A=null),S.type){case"space":!t&&(n!=="doc-start"||(r==null?void 0:r.type)!=="flow-collection")&&S.source.includes("	")&&(A=S),f=!0;break;case"comment":{f||i(S,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const D=S.source.substring(1)||" ";c?c+=m+D:c=D,m="",u=!1;break}case"newline":u?c?c+=S.source:(!p||n!=="seq-item-ind")&&(l=!0):m+=S.source,u=!0,g=!0,(E||N)&&(k=S),f=!0;break;case"anchor":E&&i(S,"MULTIPLE_ANCHORS","A node can have at most one anchor"),S.source.endsWith(":")&&i(S.offset+S.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),E=S,h===null&&(h=S.offset),u=!1,f=!1,w=!0;break;case"tag":{N&&i(S,"MULTIPLE_TAGS","A node can have at most one tag"),N=S,h===null&&(h=S.offset),u=!1,f=!1,w=!0;break}case n:(E||N)&&i(S,"BAD_PROP_ORDER",`Anchors and tags must be after the ${S.source} indicator`),p&&i(S,"UNEXPECTED_TOKEN",`Unexpected ${S.source} in ${t??"collection"}`),p=S,u=n==="seq-item-ind"||n==="explicit-key-ind",f=!1;break;case"comma":if(t){b&&i(S,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),b=S,u=!1,f=!1;break}default:i(S,"UNEXPECTED_TOKEN",`Unexpected ${S.type} token`),u=!1,f=!1}const d=e[e.length-1],y=d?d.offset+d.source.length:s;return w&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),A&&(u&&A.indent<=o||(r==null?void 0:r.type)==="block-map"||(r==null?void 0:r.type)==="block-seq")&&i(A,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:b,found:p,spaceBefore:l,comment:c,hasNewline:g,anchor:E,tag:N,newlineAfterProp:k,end:y,start:h??y}}function $s(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if($s(t.key)||$s(t.value))return!0}return!1;default:return!0}}function Cl(e,t,n){if((t==null?void 0:t.type)==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&$s(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Gd(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const s=typeof r=="function"?r:(i,o)=>i===o||se(i)&&se(o)&&i.value===o.value;return t.some(i=>s(i.key,n))}const Jd="All mapping items must start at the same column";function Hy({composeNode:e,composeEmptyNode:t},n,r,s,i){var f;const o=(i==null?void 0:i.nodeClass)??Nt,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,u=null;for(const c of r.items){const{start:m,key:g,sep:w,value:A}=c,E=Gr(m,{indicator:"explicit-key-ind",next:g??(w==null?void 0:w[0]),offset:l,onError:s,parentIndent:r.indent,startOnNewline:!0}),N=!E.found;if(N){if(g&&(g.type==="block-seq"?s(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in g&&g.indent!==r.indent&&s(l,"BAD_INDENT",Jd)),!E.anchor&&!E.tag&&!w){u=E.end,E.comment&&(a.comment?a.comment+=`
`+E.comment:a.comment=E.comment);continue}(E.newlineAfterProp||$s(g))&&s(g??m[m.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((f=E.found)==null?void 0:f.indent)!==r.indent&&s(l,"BAD_INDENT",Jd);n.atKey=!0;const k=E.end,b=g?e(n,g,E,s):t(n,k,m,null,E,s);n.schema.compat&&Cl(r.indent,g,s),n.atKey=!1,Gd(n,a.items,b)&&s(k,"DUPLICATE_KEY","Map keys must be unique");const p=Gr(w??[],{indicator:"map-value-ind",next:A,offset:b.range[2],onError:s,parentIndent:r.indent,startOnNewline:!g||g.type==="block-scalar"});if(l=p.end,p.found){N&&((A==null?void 0:A.type)==="block-map"&&!p.hasNewline&&s(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&E.start<p.found.offset-1024&&s(b.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const h=A?e(n,A,p,s):t(n,l,w,null,p,s);n.schema.compat&&Cl(r.indent,A,s),l=h.range[2];const d=new Ze(b,h);n.options.keepSourceTokens&&(d.srcToken=c),a.items.push(d)}else{N&&s(b.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),p.comment&&(b.comment?b.comment+=`
`+p.comment:b.comment=p.comment);const h=new Ze(b);n.options.keepSourceTokens&&(h.srcToken=c),a.items.push(h)}}return u&&u<l&&s(u,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,l,u??l],a}function Yy({composeNode:e,composeEmptyNode:t},n,r,s,i){const o=(i==null?void 0:i.nodeClass)??Jn,a=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=r.offset,u=null;for(const{start:f,value:c}of r.items){const m=Gr(f,{indicator:"seq-item-ind",next:c,offset:l,onError:s,parentIndent:r.indent,startOnNewline:!0});if(!m.found)if(m.anchor||m.tag||c)c&&c.type==="block-seq"?s(m.end,"BAD_INDENT","All sequence items must start at the same column"):s(l,"MISSING_CHAR","Sequence item without - indicator");else{u=m.end,m.comment&&(a.comment=m.comment);continue}const g=c?e(n,c,m,s):t(n,m.end,f,null,m,s);n.schema.compat&&Cl(r.indent,c,s),l=g.range[2],a.items.push(g)}return a.range=[r.offset,l,u??l],a}function Is(e,t,n,r){let s="";if(e){let i=!1,o="";for(const a of e){const{source:l,type:u}=a;switch(u){case"space":i=!0;break;case"comment":{n&&!i&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const f=l.substring(1)||" ";s?s+=o+f:s=f,o="";break}case"newline":s&&(o+=l),i=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}t+=l.length}}return{comment:s,offset:t}}const kl="Block collections are not allowed within flow collections",Fl=e=>e&&(e.type==="block-map"||e.type==="block-seq");function zy({composeNode:e,composeEmptyNode:t},n,r,s,i){const o=r.start.source==="{",a=o?"flow map":"flow sequence",l=(i==null?void 0:i.nodeClass)??(o?Nt:Jn),u=new l(n.schema);u.flow=!0;const f=n.atRoot;f&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let c=r.offset+r.start.source.length;for(let E=0;E<r.items.length;++E){const N=r.items[E],{start:k,key:b,sep:p,value:h}=N,d=Gr(k,{flow:a,indicator:"explicit-key-ind",next:b??(p==null?void 0:p[0]),offset:c,onError:s,parentIndent:r.indent,startOnNewline:!1});if(!d.found){if(!d.anchor&&!d.tag&&!p&&!h){E===0&&d.comma?s(d.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):E<r.items.length-1&&s(d.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),d.comment&&(u.comment?u.comment+=`
`+d.comment:u.comment=d.comment),c=d.end;continue}!o&&n.options.strict&&$s(b)&&s(b,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(E===0)d.comma&&s(d.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(d.comma||s(d.start,"MISSING_CHAR",`Missing , between ${a} items`),d.comment){let y="";e:for(const S of k)switch(S.type){case"comma":case"space":break;case"comment":y=S.source.substring(1);break e;default:break e}if(y){let S=u.items[u.items.length-1];De(S)&&(S=S.value??S.key),S.comment?S.comment+=`
`+y:S.comment=y,d.comment=d.comment.substring(y.length+1)}}if(!o&&!p&&!d.found){const y=h?e(n,h,d,s):t(n,d.end,p,null,d,s);u.items.push(y),c=y.range[2],Fl(h)&&s(y.range,"BLOCK_IN_FLOW",kl)}else{n.atKey=!0;const y=d.end,S=b?e(n,b,d,s):t(n,y,k,null,d,s);Fl(b)&&s(S.range,"BLOCK_IN_FLOW",kl),n.atKey=!1;const D=Gr(p??[],{flow:a,indicator:"map-value-ind",next:h,offset:S.range[2],onError:s,parentIndent:r.indent,startOnNewline:!1});if(D.found){if(!o&&!d.found&&n.options.strict){if(p)for(const L of p){if(L===D.found)break;if(L.type==="newline"){s(L,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}d.start<D.found.offset-1024&&s(D.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else h&&("source"in h&&h.source&&h.source[0]===":"?s(h,"MISSING_CHAR",`Missing space after : in ${a}`):s(D.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const x=h?e(n,h,D,s):D.found?t(n,D.end,p,null,D,s):null;x?Fl(h)&&s(x.range,"BLOCK_IN_FLOW",kl):D.comment&&(S.comment?S.comment+=`
`+D.comment:S.comment=D.comment);const C=new Ze(S,x);if(n.options.keepSourceTokens&&(C.srcToken=N),o){const L=u;Gd(n,L.items,S)&&s(y,"DUPLICATE_KEY","Map keys must be unique"),L.items.push(C)}else{const L=new Nt(n.schema);L.flow=!0,L.items.push(C);const _=(x??S).range;L.range=[S.range[0],_[1],_[2]],u.items.push(L)}c=x?x.range[2]:D.end}}const m=o?"}":"]",[g,...w]=r.end;let A=c;if(g&&g.source===m)A=g.offset+g.source.length;else{const E=a[0].toUpperCase()+a.substring(1),N=f?`${E} must end with a ${m}`:`${E} in block collection must be sufficiently indented and end with a ${m}`;s(c,f?"MISSING_CHAR":"BAD_INDENT",N),g&&g.source.length!==1&&w.unshift(g)}if(w.length>0){const E=Is(w,A,n.options.strict,s);E.comment&&(u.comment?u.comment+=`
`+E.comment:u.comment=E.comment),u.range=[r.offset,A,E.offset]}else u.range=[r.offset,A,A];return u}function _l(e,t,n,r,s,i){const o=n.type==="block-map"?Hy(e,t,n,r,i):n.type==="block-seq"?Yy(e,t,n,r,i):zy(e,t,n,r,i),a=o.constructor;return s==="!"||s===a.tagName?(o.tag=a.tagName,o):(s&&(o.tag=s),o)}function Gy(e,t,n,r,s){var m;const i=r.tag,o=i?t.directives.tagName(i.source,g=>s(i,"TAG_RESOLVE_FAILED",g)):null;if(n.type==="block-seq"){const{anchor:g,newlineAfterProp:w}=r,A=g&&i?g.offset>i.offset?g:i:g??i;A&&(!w||w.offset<A.offset)&&s(A,"MISSING_CHAR","Missing newline after block sequence props")}const a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!i||!o||o==="!"||o===Nt.tagName&&a==="map"||o===Jn.tagName&&a==="seq")return _l(e,t,n,s,o);let l=t.schema.tags.find(g=>g.tag===o&&g.collection===a);if(!l){const g=t.schema.knownTags[o];if(g&&g.collection===a)t.schema.tags.push(Object.assign({},g,{default:!1})),l=g;else return g!=null&&g.collection?s(i,"BAD_COLLECTION_TYPE",`${g.tag} used for ${a} collection, but expects ${g.collection}`,!0):s(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),_l(e,t,n,s,o)}const u=_l(e,t,n,s,o,l),f=((m=l.resolve)==null?void 0:m.call(l,u,g=>s(i,"TAG_RESOLVE_FAILED",g),t.options))??u,c=ye(f)?f:new oe(f);return c.range=u.range,c.tag=o,l!=null&&l.format&&(c.format=l.format),c}function Jy(e,t,n){const r=t.offset,s=Qy(t,e.options.strict,n);if(!s)return{value:"",type:null,comment:"",range:[r,r,r]};const i=s.mode===">"?oe.BLOCK_FOLDED:oe.BLOCK_LITERAL,o=t.source?Ky(t.source):[];let a=o.length;for(let A=o.length-1;A>=0;--A){const E=o[A][1];if(E===""||E==="\r")a=A;else break}if(a===0){const A=s.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let E=r+s.length;return t.source&&(E+=t.source.length),{value:A,type:i,comment:s.comment,range:[r,E,E]}}let l=t.indent+s.indent,u=t.offset+s.length,f=0;for(let A=0;A<a;++A){const[E,N]=o[A];if(N===""||N==="\r")s.indent===0&&E.length>l&&(l=E.length);else{E.length<l&&n(u+E.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),s.indent===0&&(l=E.length),f=A,l===0&&!e.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=E.length+N.length+1}for(let A=o.length-1;A>=a;--A)o[A][0].length>l&&(a=A+1);let c="",m="",g=!1;for(let A=0;A<f;++A)c+=o[A][0].slice(l)+`
`;for(let A=f;A<a;++A){let[E,N]=o[A];u+=E.length+N.length+1;const k=N[N.length-1]==="\r";if(k&&(N=N.slice(0,-1)),N&&E.length<l){const p=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;n(u-N.length-(k?2:1),"BAD_INDENT",p),E=""}i===oe.BLOCK_LITERAL?(c+=m+E.slice(l)+N,m=`
`):E.length>l||N[0]==="	"?(m===" "?m=`
`:!g&&m===`
`&&(m=`

`),c+=m+E.slice(l)+N,m=`
`,g=!0):N===""?m===`
`?c+=`
`:m=`
`:(c+=m+N,m=" ",g=!1)}switch(s.chomp){case"-":break;case"+":for(let A=a;A<o.length;++A)c+=`
`+o[A][0].slice(l);c[c.length-1]!==`
`&&(c+=`
`);break;default:c+=`
`}const w=r+s.length+t.source.length;return{value:c,type:i,comment:s.comment,range:[r,w,w]}}function Qy({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=t[0],i=s[0];let o=0,a="",l=-1;for(let m=1;m<s.length;++m){const g=s[m];if(!a&&(g==="-"||g==="+"))a=g;else{const w=Number(g);!o&&w?o=w:l===-1&&(l=e+m)}}l!==-1&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let u=!1,f="",c=s.length;for(let m=1;m<t.length;++m){const g=t[m];switch(g.type){case"space":u=!0;case"newline":c+=g.source.length;break;case"comment":n&&!u&&r(g,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),c+=g.source.length,f=g.source.substring(1);break;case"error":r(g,"UNEXPECTED_TOKEN",g.message),c+=g.source.length;break;default:{const w=`Unexpected token in block scalar header: ${g.type}`;r(g,"UNEXPECTED_TOKEN",w);const A=g.source;A&&typeof A=="string"&&(c+=A.length)}}}return{mode:i,indent:o,chomp:a,comment:f,length:c}}function Ky(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),i=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<t.length;o+=2)i.push([t[o],t[o+1]]);return i}function Xy(e,t,n){const{offset:r,type:s,source:i,end:o}=e;let a,l;const u=(m,g,w)=>n(r+m,g,w);switch(s){case"scalar":a=oe.PLAIN,l=Zy(i,u);break;case"single-quoted-scalar":a=oe.QUOTE_SINGLE,l=e2(i,u);break;case"double-quoted-scalar":a=oe.QUOTE_DOUBLE,l=t2(i,u);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[r,r+i.length,r+i.length]}}const f=r+i.length,c=Is(o,f,t,n);return{value:l,type:a,comment:c.comment,range:[r,f,c.offset]}}function Zy(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Qd(e)}function e2(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),Qd(e.slice(1,-1)).replace(/''/g,"'")}function Qd(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let s=r[1],i=" ",o=t.lastIndex;for(n.lastIndex=o;r=n.exec(e);)r[1]===""?i===`
`?s+=i:i=`
`:(s+=i+r[1],i=" "),o=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,r=a.exec(e),s+i+((r==null?void 0:r[1])??"")}function t2(e,t){let n="";for(let r=1;r<e.length-1;++r){const s=e[r];if(!(s==="\r"&&e[r+1]===`
`))if(s===`
`){const{fold:i,offset:o}=n2(e,r);n+=i,r=o}else if(s==="\\"){let i=e[++r];const o=r2[i];if(o)n+=o;else if(i===`
`)for(i=e[r+1];i===" "||i==="	";)i=e[++r+1];else if(i==="\r"&&e[r+1]===`
`)for(i=e[++r+1];i===" "||i==="	";)i=e[++r+1];else if(i==="x"||i==="u"||i==="U"){const a={x:2,u:4,U:8}[i];n+=s2(e,r+1,a,t),r+=a}else{const a=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(s===" "||s==="	"){const i=r;let o=e[r+1];for(;o===" "||o==="	";)o=e[++r+1];o!==`
`&&!(o==="\r"&&e[r+2]===`
`)&&(n+=r>i?e.slice(i,r+1):s)}else n+=s}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function n2(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const r2={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function s2(e,t,n,r){const s=e.substr(t,n),o=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(o)){const a=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function Kd(e,t,n,r){const{value:s,type:i,comment:o,range:a}=t.type==="block-scalar"?Jy(e,t,r):Xy(t,e.options.strict,r),l=n?e.directives.tagName(n.source,c=>r(n,"TAG_RESOLVE_FAILED",c)):null;let u;e.options.stringKeys&&e.atKey?u=e.schema[zt]:l?u=i2(e.schema,s,l,n,r):t.type==="scalar"?u=o2(e,s,t,r):u=e.schema[zt];let f;try{const c=u.resolve(s,m=>r(n??t,"TAG_RESOLVE_FAILED",m),e.options);f=se(c)?c:new oe(c)}catch(c){const m=c instanceof Error?c.message:String(c);r(n??t,"TAG_RESOLVE_FAILED",m),f=new oe(s)}return f.range=a,f.source=s,i&&(f.type=i),l&&(f.tag=l),u.format&&(f.format=u.format),o&&(f.comment=o),f}function i2(e,t,n,r,s){var a;if(n==="!")return e[zt];const i=[];for(const l of e.tags)if(!l.collection&&l.tag===n)if(l.default&&l.test)i.push(l);else return l;for(const l of i)if((a=l.test)!=null&&a.test(t))return l;const o=e.knownTags[n];return o&&!o.collection?(e.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[zt])}function o2({atKey:e,directives:t,schema:n},r,s,i){const o=n.tags.find(a=>{var l;return(a.default===!0||e&&a.default==="key")&&((l=a.test)==null?void 0:l.test(r))})||n[zt];if(n.compat){const a=n.compat.find(l=>{var u;return l.default&&((u=l.test)==null?void 0:u.test(r))})??n[zt];if(o.tag!==a.tag){const l=t.tagString(o.tag),u=t.tagString(a.tag),f=`Value may be parsed as either ${l} or ${u}`;i(s,"TAG_RESOLVE_FAILED",f,!0)}}return o}function a2(e,t,n){if(t){n===null&&(n=t.length);for(let r=n-1;r>=0;--r){let s=t[r];switch(s.type){case"space":case"comment":case"newline":e-=s.source.length;continue}for(s=t[++r];(s==null?void 0:s.type)==="space";)e+=s.source.length,s=t[++r];break}}return e}const l2={composeNode:Xd,composeEmptyNode:Tl};function Xd(e,t,n,r){const s=e.atKey,{spaceBefore:i,comment:o,anchor:a,tag:l}=n;let u,f=!0;switch(t.type){case"alias":u=u2(e,t,r),(a||l)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=Kd(e,t,l,r),a&&(u.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=Gy(l2,e,t,n,r),a&&(u.anchor=a.source.substring(1));break;default:{const c=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",c),u=Tl(e,t.offset,void 0,null,n,r),f=!1}}return a&&u.anchor===""&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),s&&e.options.stringKeys&&(!se(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&r(l??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),i&&(u.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?u.comment=o:u.commentBefore=o),e.options.keepSourceTokens&&f&&(u.srcToken=t),u}function Tl(e,t,n,r,{spaceBefore:s,comment:i,anchor:o,tag:a,end:l},u){const f={type:"scalar",offset:a2(t,n,r),indent:-1,source:""},c=Kd(e,f,a,u);return o&&(c.anchor=o.source.substring(1),c.anchor===""&&u(o,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(c.spaceBefore=!0),i&&(c.comment=i,c.range[2]=l),c}function u2({options:e},{offset:t,source:n,end:r},s){const i=new fl(n.substring(1));i.source===""&&s(t,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&s(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=t+n.length,a=Is(r,o,e.strict,s);return i.range=[t,o,a.offset],a.comment&&(i.comment=a.comment),i}function c2(e,t,{offset:n,start:r,value:s,end:i},o){const a=Object.assign({_directives:t},e),l=new Rs(void 0,a),u={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},f=Gr(r,{indicator:"doc-start",next:s??(i==null?void 0:i[0]),offset:n,onError:o,parentIndent:0,startOnNewline:!0});f.found&&(l.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!f.hasNewline&&o(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=s?Xd(u,s,f,o):Tl(u,f.end,r,null,f,o);const c=l.contents.range[2],m=Is(i,c,!1,o);return m.comment&&(l.comment=m.comment),l.range=[n,c,m.offset],l}function Bs(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function Zd(e){var s;let t="",n=!1,r=!1;for(let i=0;i<e.length;++i){const o=e[i];switch(o[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(o.substring(1)||" "),n=!0,r=!1;break;case"%":((s=e[i+1])==null?void 0:s[0])!=="#"&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class e1{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,s,i)=>{const o=Bs(n);i?this.warnings.push(new Wy(o,r,s)):this.errors.push(new Ps(o,r,s))},this.directives=new Xe({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:s}=Zd(this.prelude);if(r){const i=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(s||t.directives.docStart||!i)t.commentBefore=r;else if(Re(i)&&!i.flow&&i.items.length>0){let o=i.items[0];De(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${r}
${a}`:r}else{const o=i.commentBefore;i.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Zd(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const s of t)yield*this.next(s);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,s)=>{const i=Bs(t);i[0]+=n,this.onError(i,"BAD_DIRECTIVE",r,s)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=c2(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new Ps(Bs(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new Ps(Bs(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=Is(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Ps(Bs(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),s=new Rs(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,n,n],this.decorate(s,!1),yield s}}}const t1=e=>"type"in e?Ji(e):Qi(e);function Ji(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=Ji(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=Qi(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=Qi(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=Qi(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function Qi({start:e,key:t,sep:n,value:r}){let s="";for(const i of e)s+=i.source;if(t&&(s+=Ji(t)),n)for(const i of n)s+=i.source;return r&&(s+=Ji(r)),s}const Ml=Symbol("break visit"),f2=Symbol("skip children"),n1=Symbol("remove item");function Qn(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),r1(Object.freeze([]),e,t)}Qn.BREAK=Ml,Qn.SKIP=f2,Qn.REMOVE=n1,Qn.itemAtPath=(e,t)=>{let n=e;for(const[r,s]of t){const i=n==null?void 0:n[r];if(i&&"items"in i)n=i.items[s];else return}return n},Qn.parentCollection=(e,t)=>{const n=Qn.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],s=n==null?void 0:n[r];if(s&&"items"in s)return s;throw new Error("Parent collection not found")};function r1(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(const s of["key","value"]){const i=t[s];if(i&&"items"in i){for(let o=0;o<i.items.length;++o){const a=r1(Object.freeze(e.concat([[s,o]])),i.items[o],n);if(typeof a=="number")o=a-1;else{if(a===Ml)return Ml;a===n1&&(i.items.splice(o,1),o-=1)}}typeof r=="function"&&s==="key"&&(r=r(t,e))}}return typeof r=="function"?r(t,e):r}const s1="\uFEFF",i1="",o1="",Ol="",h2=e=>!!e&&"items"in e,Rl=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function d2(e){switch(e){case s1:return"byte-order-mark";case i1:return"doc-mode";case o1:return"flow-error-end";case Ol:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function Rt(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const a1=new Set("0123456789ABCDEFabcdef"),m2=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Ki=new Set(",[]{}"),g2=new Set(` ,[]{}
\r	`),Pl=e=>!e||g2.has(e);class p2{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const s=this.buffer[r+t+1];if(s===`
`||!s&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&Rt(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===s1&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length,r=t.indexOf("#");for(;r!==-1;){const i=t[r-1];if(i===" "||i==="	"){n=r-1;break}else r=t.indexOf("#",r+1)}for(;;){const i=t[n-1];if(i===" "||i==="	")n-=1;else break}const s=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield i1,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&Rt(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Rt(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&Rt(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Pl),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const s=this.getLine();if(s===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&s[0]!=="#"||r===0&&(s.startsWith("---")||s.startsWith("..."))&&Rt(s[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield o1,yield*this.parseLineStart();let i=0;for(;s[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),s[i]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Pl),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||Rt(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let i=0;for(;this.buffer[n-1-i]==="\\";)i+=1;if(i%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let s=r.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){const i=this.continueScalar(s+1);if(i===-1)break;s=r.indexOf(`
`,i)}s!==-1&&(n=s-(r[s-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Rt(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:t=i,n=0;break;case"\r":{const o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let s=t+1;for(r=this.buffer[s];r===" ";)r=this.buffer[++s];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++s];t=s-1}else if(!this.blockScalarKeep)do{let i=t-1,o=this.buffer[i];o==="\r"&&(o=this.buffer[--i]);const a=i;for(;o===" ";)o=this.buffer[--i];if(o===`
`&&i>=this.pos&&i+1+n>a)t=i;else break}while(!0);return yield Ol,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,s;for(;s=this.buffer[++r];)if(s===":"){const i=this.buffer[r+1];if(Rt(i)||t&&Ki.has(i))break;n=r}else if(Rt(s)){let i=this.buffer[r+1];if(s==="\r"&&(i===`
`?(r+=1,s=`
`,i=this.buffer[r+1]):n=r),i==="#"||t&&Ki.has(i))break;if(s===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(t&&Ki.has(s))break;n=r}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield Ol,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Pl))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(Rt(n)||t&&Ki.has(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!Rt(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(m2.has(n))n=this.buffer[++t];else if(n==="%"&&a1.has(this.buffer[t+1])&&a1.has(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class l1{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const i=n+r>>1;this.lineStarts[i]<t?n=i+1:r=i}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const s=this.lineStarts[n-1];return{line:n,col:t-s+1}}}}function Kn(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function u1(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function c1(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Xi(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Jr(e){var n;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=e[++t])==null?void 0:n.type)==="space";);return e.splice(t,e.length)}function f1(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!Kn(t.start,"explicit-key-ind")&&!Kn(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,c1(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class $l{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new p2,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=d2(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&f1(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const s=r.items[r.items.length-1];if(s.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=n;else{Object.assign(s,{key:n,sep:[]}),this.onKeyLine=!s.explicitKey;return}break}case"block-seq":{const s=r.items[r.items.length-1];s.value?r.items.push({start:[],value:n}):s.value=n;break}case"flow-collection":{const s=r.items[r.items.length-1];!s||s.value?r.items.push({start:[],key:n,sep:[]}):s.sep?s.value=n:Object.assign(s,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const s=n.items[n.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&u1(s.start)===-1&&(n.indent===0||s.start.every(i=>i.type!=="comment"||i.indent<n.indent))&&(r.type==="document"?r.end=s.start:r.items.push({start:s.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{u1(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=Xi(this.peek(2)),r=Jr(n);let s;t.end?(s=t.end,s.push(this.sourceToken),delete t.end):s=[this.sourceToken];const i={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const s="end"in n.value?n.value.end:void 0,i=Array.isArray(s)?s[s.length-1]:void 0;(i==null?void 0:i.type)==="comment"?s==null||s.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const s=t.items[t.items.length-2],i=(r=s==null?void 0:s.value)==null?void 0:r.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const s=!this.onKeyLine&&this.indent===t.indent,i=s&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let o=[];if(i&&n.sep&&!n.value){const a=[];for(let l=0;l<n.sep.length;++l){const u=n.sep[l];switch(u.type){case"newline":a.push(l);break;case"space":break;case"comment":u.indent>t.indent&&(a.length=0);break;default:a.length=0}}a.length>=2&&(o=n.sep.splice(a[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(o.push(this.sourceToken),t.items.push({start:o}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):i||n.value?(o.push(this.sourceToken),t.items.push({start:o,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Kn(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});else if(c1(n.key)&&!Kn(n.sep,"newline")){const a=Jr(n.start),l=n.key,u=n.sep;u.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:l,sep:u}]})}else o.length>0?n.sep=n.sep.concat(o,this.sourceToken):n.sep.push(this.sourceToken);else if(Kn(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const a=Jr(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?t.items.push({start:o,key:null,sep:[this.sourceToken]}):Kn(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const a=this.flowScalar(this.type);i||n.value?(t.items.push({start:o,key:a,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(a):(Object.assign(n,{key:a,sep:[]}),this.onKeyLine=!0);return}default:{const a=this.startBlockValue(t);if(a){s&&a.type!=="block-seq"&&t.items.push({start:o}),this.stack.push(a);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const s="end"in n.value?n.value.end:void 0,i=Array.isArray(s)?s[s.length-1]:void 0;(i==null?void 0:i.type)==="comment"?s==null||s.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const s=t.items[t.items.length-2],i=(r=s==null?void 0:s.value)==null?void 0:r.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||Kn(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const s=this.startBlockValue(t);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:s,sep:[]}):n.sep?this.stack.push(s):Object.assign(n,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const s=Xi(r),i=Jr(s);f1(t);const o=t.end.splice(1,t.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:i,key:t,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Xi(t),r=Jr(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Xi(t),r=Jr(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function b2(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new l1||null,prettyErrors:t}}function y2(e,t={}){const{lineCounter:n,prettyErrors:r}=b2(t),s=new $l(n==null?void 0:n.addNewLine),i=new e1(t);let o=null;for(const a of i.compose(s.parse(e),!0,e.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new Ps(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(zd(e,n)),o.warnings.forEach(zd(e,n))),o}function v2(e,t,n){let r;const s=y2(e,n);if(!s)return null;if(s.warnings.forEach(i=>Ed(s.options.logLevel,i)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:r},n))}function D2(e,t,n){let r=null;if(Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const s=Math.round(n);n=s<1?void 0:s>8?{indent:8}:{indent:s}}if(e===void 0){const{keepUndefined:s}=n??t??{};if(!s)return}return Ir(e)&&!r?e.toString(n):new Rs(e,r,n).toString(n)}function Jt(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function h1(e,t){for(var n="",r=0,s=-1,i=0,o,a=0;a<=e.length;++a){if(a<e.length)o=e.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(s===a-1||i===1))if(s!==a-1&&i===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){l===-1?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),s=a,i=0;continue}}else if(n.length===2||n.length===1){n="",r=0,s=a,i=0;continue}}t&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+e.slice(s+1,a):n=e.slice(s+1,a),r=a-s-1;s=a,i=0}else o===46&&i!==-1?++i:i=-1}return n}function w2(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}var Qr={resolve:function(){for(var t="",n=!1,r,s=arguments.length-1;s>=-1&&!n;s--){var i;s>=0?i=arguments[s]:(r===void 0&&(r=process.cwd()),i=r),Jt(i),i.length!==0&&(t=i+"/"+t,n=i.charCodeAt(0)===47)}return t=h1(t,!n),n?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(t){if(Jt(t),t.length===0)return".";var n=t.charCodeAt(0)===47,r=t.charCodeAt(t.length-1)===47;return t=h1(t,!n),t.length===0&&!n&&(t="."),t.length>0&&r&&(t+="/"),n?"/"+t:t},isAbsolute:function(t){return Jt(t),t.length>0&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,n=0;n<arguments.length;++n){var r=arguments[n];Jt(r),r.length>0&&(t===void 0?t=r:t+="/"+r)}return t===void 0?".":Qr.normalize(t)},relative:function(t,n){if(Jt(t),Jt(n),t===n||(t=Qr.resolve(t),n=Qr.resolve(n),t===n))return"";for(var r=1;r<t.length&&t.charCodeAt(r)===47;++r);for(var s=t.length,i=s-r,o=1;o<n.length&&n.charCodeAt(o)===47;++o);for(var a=n.length,l=a-o,u=i<l?i:l,f=-1,c=0;c<=u;++c){if(c===u){if(l>u){if(n.charCodeAt(o+c)===47)return n.slice(o+c+1);if(c===0)return n.slice(o+c)}else i>u&&(t.charCodeAt(r+c)===47?f=c:c===0&&(f=0));break}var m=t.charCodeAt(r+c),g=n.charCodeAt(o+c);if(m!==g)break;m===47&&(f=c)}var w="";for(c=r+f+1;c<=s;++c)(c===s||t.charCodeAt(c)===47)&&(w.length===0?w+="..":w+="/..");return w.length>0?w+n.slice(o+f):(o+=f,n.charCodeAt(o)===47&&++o,n.slice(o))},_makeLong:function(t){return t},dirname:function(t){if(Jt(t),t.length===0)return".";for(var n=t.charCodeAt(0),r=n===47,s=-1,i=!0,o=t.length-1;o>=1;--o)if(n=t.charCodeAt(o),n===47){if(!i){s=o;break}}else i=!1;return s===-1?r?"/":".":r&&s===1?"//":t.slice(0,s)},basename:function(t,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Jt(t);var r=0,s=-1,i=!0,o;if(n!==void 0&&n.length>0&&n.length<=t.length){if(n.length===t.length&&n===t)return"";var a=n.length-1,l=-1;for(o=t.length-1;o>=0;--o){var u=t.charCodeAt(o);if(u===47){if(!i){r=o+1;break}}else l===-1&&(i=!1,l=o+1),a>=0&&(u===n.charCodeAt(a)?--a===-1&&(s=o):(a=-1,s=l))}return r===s?s=l:s===-1&&(s=t.length),t.slice(r,s)}else{for(o=t.length-1;o>=0;--o)if(t.charCodeAt(o)===47){if(!i){r=o+1;break}}else s===-1&&(i=!1,s=o+1);return s===-1?"":t.slice(r,s)}},extname:function(t){Jt(t);for(var n=-1,r=0,s=-1,i=!0,o=0,a=t.length-1;a>=0;--a){var l=t.charCodeAt(a);if(l===47){if(!i){r=a+1;break}continue}s===-1&&(i=!1,s=a+1),l===46?n===-1?n=a:o!==1&&(o=1):n!==-1&&(o=-1)}return n===-1||s===-1||o===0||o===1&&n===s-1&&n===r+1?"":t.slice(n,s)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return w2("/",t)},parse:function(t){Jt(t);var n={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return n;var r=t.charCodeAt(0),s=r===47,i;s?(n.root="/",i=1):i=0;for(var o=-1,a=0,l=-1,u=!0,f=t.length-1,c=0;f>=i;--f){if(r=t.charCodeAt(f),r===47){if(!u){a=f+1;break}continue}l===-1&&(u=!1,l=f+1),r===46?o===-1?o=f:c!==1&&(c=1):o!==-1&&(c=-1)}return o===-1||l===-1||c===0||c===1&&o===l-1&&o===a+1?l!==-1&&(a===0&&s?n.base=n.name=t.slice(1,l):n.base=n.name=t.slice(a,l)):(a===0&&s?(n.name=t.slice(1,o),n.base=t.slice(1,l)):(n.name=t.slice(a,o),n.base=t.slice(a,l)),n.ext=t.slice(o,l)),a>0?n.dir=t.slice(0,a-1):s&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};Qr.posix=Qr;var Xn=Qr,S2=Object.create,Il=Object.defineProperty,E2=Object.getOwnPropertyDescriptor,A2=Object.getOwnPropertyNames,N2=Object.getPrototypeOf,x2=Object.prototype.hasOwnProperty,dn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),d1=(e,t)=>{for(var n in t)Il(e,n,{get:t[n],enumerable:!0})},L2=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of A2(t))!x2.call(e,s)&&s!==n&&Il(e,s,{get:()=>t[s],enumerable:!(r=E2(t,s))||r.enumerable});return e},m1=(e,t,n)=>(n=e!=null?S2(N2(e)):{},L2(Il(n,"default",{value:e,enumerable:!0}),e)),Zn=dn(e=>{var t={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},n={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},r="tag:yaml.org,2002:",s={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function i(b){let p=[0],h=b.indexOf(`
`);for(;h!==-1;)h+=1,p.push(h),h=b.indexOf(`
`,h);return p}function o(b){let p,h;return typeof b=="string"?(p=i(b),h=b):(Array.isArray(b)&&(b=b[0]),b&&b.context&&(b.lineStarts||(b.lineStarts=i(b.context.src)),p=b.lineStarts,h=b.context.src)),{lineStarts:p,src:h}}function a(b,p){if(typeof b!="number"||b<0)return null;let{lineStarts:h,src:d}=o(p);if(!h||!d||b>d.length)return null;for(let S=0;S<h.length;++S){let D=h[S];if(b<D)return{line:S,col:b-h[S-1]+1};if(b===D)return{line:S+1,col:1}}let y=h.length;return{line:y,col:b-h[y-1]+1}}function l(b,p){let{lineStarts:h,src:d}=o(p);if(!h||!(b>=1)||b>h.length)return null;let y=h[b-1],S=h[b];for(;S&&S>y&&d[S-1]===`
`;)--S;return d.slice(y,S)}function u({start:b,end:p},h,d=80){let y=l(b.line,h);if(!y)return null;let{col:S}=b;if(y.length>d)if(S<=d-10)y=y.substr(0,d-1)+"…";else{let _=Math.round(d/2);y.length>S+_&&(y=y.substr(0,S+_-1)+"…"),S-=y.length-d,y="…"+y.substr(1-d)}let D=1,x="";p&&(p.line===b.line&&S+(p.col-b.col)<=d+1?D=p.col-b.col:(D=Math.min(y.length+1,d)-S,x="…"));let C=S>1?" ".repeat(S-1):"",L="^".repeat(D);return`${y}
${C}${L}${x}`}var f=class u0{static copy(p){return new u0(p.start,p.end)}constructor(p,h){this.start=p,this.end=h||p}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(p,h){let{start:d,end:y}=this;if(p.length===0||y<=p[0])return this.origStart=d,this.origEnd=y,h;let S=h;for(;S<p.length&&!(p[S]>d);)++S;this.origStart=d+S;let D=S;for(;S<p.length&&!(p[S]>=y);)++S;return this.origEnd=y+S,D}},c=class An{static addStringTerminator(p,h,d){if(d[d.length-1]===`
`)return d;let y=An.endOfWhiteSpace(p,h);return y>=p.length||p[y]===`
`?d+`
`:d}static atDocumentBoundary(p,h,d){let y=p[h];if(!y)return!0;let S=p[h-1];if(S&&S!==`
`)return!1;if(d){if(y!==d)return!1}else if(y!==t.DIRECTIVES_END&&y!==t.DOCUMENT_END)return!1;let D=p[h+1],x=p[h+2];if(D!==y||x!==y)return!1;let C=p[h+3];return!C||C===`
`||C==="	"||C===" "}static endOfIdentifier(p,h){let d=p[h],y=d==="<",S=y?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;d&&S.indexOf(d)===-1;)d=p[h+=1];return y&&d===">"&&(h+=1),h}static endOfIndent(p,h){let d=p[h];for(;d===" ";)d=p[h+=1];return h}static endOfLine(p,h){let d=p[h];for(;d&&d!==`
`;)d=p[h+=1];return h}static endOfWhiteSpace(p,h){let d=p[h];for(;d==="	"||d===" ";)d=p[h+=1];return h}static startOfLine(p,h){let d=p[h-1];if(d===`
`)return h;for(;d&&d!==`
`;)d=p[h-=1];return h+1}static endOfBlockIndent(p,h,d){let y=An.endOfIndent(p,d);if(y>d+h)return y;{let S=An.endOfWhiteSpace(p,y),D=p[S];if(!D||D===`
`)return S}return null}static atBlank(p,h,d){let y=p[h];return y===`
`||y==="	"||y===" "||d&&!y}static nextNodeIsIndented(p,h,d){return!p||h<0?!1:h>0?!0:d&&p==="-"}static normalizeOffset(p,h){let d=p[h];return d?d!==`
`&&p[h-1]===`
`?h-1:An.endOfWhiteSpace(p,h):h}static foldNewline(p,h,d){let y=0,S=!1,D="",x=p[h+1];for(;x===" "||x==="	"||x===`
`;){switch(x){case`
`:y=0,h+=1,D+=`
`;break;case"	":y<=d&&(S=!0),h=An.endOfWhiteSpace(p,h+2)-1;break;case" ":y+=1,h+=1;break}x=p[h+1]}return D||(D=" "),x&&y<=d&&(S=!0),{fold:D,offset:h,error:S}}constructor(p,h,d){Object.defineProperty(this,"context",{value:d||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=h||[],this.type=p,this.value=null}getPropValue(p,h,d){if(!this.context)return null;let{src:y}=this.context,S=this.props[p];return S&&y[S.start]===h?y.slice(S.start+(d?1:0),S.end):null}get anchor(){for(let p=0;p<this.props.length;++p){let h=this.getPropValue(p,t.ANCHOR,!0);if(h!=null)return h}return null}get comment(){let p=[];for(let h=0;h<this.props.length;++h){let d=this.getPropValue(h,t.COMMENT,!0);d!=null&&p.push(d)}return p.length>0?p.join(`
`):null}commentHasRequiredWhitespace(p){let{src:h}=this.context;if(this.header&&p===this.header.end||!this.valueRange)return!1;let{end:d}=this.valueRange;return p!==d||An.atBlank(h,d-1)}get hasComment(){if(this.context){let{src:p}=this.context;for(let h=0;h<this.props.length;++h)if(p[this.props[h].start]===t.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:p}=this.context;for(let h=0;h<this.props.length;++h)if(p[this.props[h].start]!==t.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[n.FLOW_MAP,n.FLOW_SEQ,n.QUOTE_DOUBLE,n.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let p=a(this.range.start,this.context.root);if(!p)return;let h=a(this.range.end,this.context.root);return{start:p,end:h}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:p,end:h}=this.valueRange;return this.context.src.slice(p,h)}get tag(){for(let p=0;p<this.props.length;++p){let h=this.getPropValue(p,t.TAG,!1);if(h!=null){if(h[1]==="<")return{verbatim:h.slice(2,-1)};{let[d,y,S]=h.match(/^(.*!)([^!]*)$/);return{handle:y,suffix:S}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:p,end:h}=this.valueRange,{src:d}=this.context;for(let y=p;y<h;++y)if(d[y]===`
`)return!0;return!1}parseComment(p){let{src:h}=this.context;if(h[p]===t.COMMENT){let d=An.endOfLine(h,p+1),y=new f(p,d);return this.props.push(y),d}return p}setOrigRanges(p,h){return this.range&&(h=this.range.setOrigRange(p,h)),this.valueRange&&this.valueRange.setOrigRange(p,h),this.props.forEach(d=>d.setOrigRange(p,h)),h}toString(){let{context:{src:p},range:h,value:d}=this;if(d!=null)return d;let y=p.slice(h.start,h.end);return An.addStringTerminator(p,h.end,y)}},m=class extends Error{constructor(b,p,h){if(!h||!(p instanceof c))throw new Error(`Invalid arguments for new ${b}`);super(),this.name=b,this.message=h,this.source=p}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let b=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new f(this.offset,this.offset+1);let p=b&&a(this.offset,b);if(p){let h={line:p.line,col:p.col+1};this.linePos={start:p,end:h}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:p,col:h}=this.linePos.start;this.message+=` at line ${p}, column ${h}`;let d=b&&u(this.linePos,b);d&&(this.message+=`:

${d}
`)}delete this.source}},g=class extends m{constructor(b,p){super("YAMLReferenceError",b,p)}},w=class extends m{constructor(b,p){super("YAMLSemanticError",b,p)}},A=class extends m{constructor(b,p){super("YAMLSyntaxError",b,p)}},E=class extends m{constructor(b,p){super("YAMLWarning",b,p)}};function N(b,p,h){return p in b?Object.defineProperty(b,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):b[p]=h,b}var k=class tc extends c{static endOfLine(p,h,d){let y=p[h],S=h;for(;y&&y!==`
`&&!(d&&(y==="["||y==="]"||y==="{"||y==="}"||y===","));){let D=p[S+1];if(y===":"&&(!D||D===`
`||D==="	"||D===" "||d&&D===",")||(y===" "||y==="	")&&D==="#")break;S+=1,y=D}return S}get strValue(){if(!this.valueRange||!this.context)return null;let{start:p,end:h}=this.valueRange,{src:d}=this.context,y=d[h-1];for(;p<h&&(y===`
`||y==="	"||y===" ");)y=d[--h-1];let S="";for(let x=p;x<h;++x){let C=d[x];if(C===`
`){let{fold:L,offset:_}=c.foldNewline(d,x,-1);S+=L,x=_}else if(C===" "||C==="	"){let L=x,_=d[x+1];for(;x<h&&(_===" "||_==="	");)x+=1,_=d[x+1];_!==`
`&&(S+=x>L?d.slice(L,x+1):C)}else S+=C}let D=d[p];switch(D){case"	":{let x="Plain value cannot start with a tab character";return{errors:[new w(this,x)],str:S}}case"@":case"`":{let x=`Plain value cannot start with reserved character ${D}`;return{errors:[new w(this,x)],str:S}}default:return S}}parseBlockValue(p){let{indent:h,inFlow:d,src:y}=this.context,S=p,D=p;for(let x=y[S];x===`
`&&!c.atDocumentBoundary(y,S+1);x=y[S]){let C=c.endOfBlockIndent(y,h,S+1);if(C===null||y[C]==="#")break;y[C]===`
`?S=C:(D=tc.endOfLine(y,C,d),S=D)}return this.valueRange.isEmpty()&&(this.valueRange.start=p),this.valueRange.end=D,D}parse(p,h){this.context=p;let{inFlow:d,src:y}=p,S=h,D=y[S];return D&&D!=="#"&&D!==`
`&&(S=tc.endOfLine(y,h,d)),this.valueRange=new f(h,S),S=c.endOfWhiteSpace(y,S),S=this.parseComment(S),(!this.hasComment||this.valueRange.isEmpty())&&(S=this.parseBlockValue(S)),S}};e.Char=t,e.Node=c,e.PlainValue=k,e.Range=f,e.Type=n,e.YAMLError=m,e.YAMLReferenceError=g,e.YAMLSemanticError=w,e.YAMLSyntaxError=A,e.YAMLWarning=E,e._defineProperty=N,e.defaultTagPrefix=r,e.defaultTags=s}),C2=dn(e=>{var t=Zn(),n=class extends t.Node{constructor(){super(t.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(k,b){return this.context=k,this.range=new t.Range(b,b+1),b+1}},r=class extends t.Node{constructor(k,b){super(k,b),this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(k,b){this.context=k;let{parseNode:p,src:h}=k,{atLineStart:d,lineStart:y}=k;!d&&this.type===t.Type.SEQ_ITEM&&(this.error=new t.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let S=d?b-y:k.indent,D=t.Node.endOfWhiteSpace(h,b+1),x=h[D],C=x==="#",L=[],_=null;for(;x===`
`||x==="#";){if(x==="#"){let M=t.Node.endOfLine(h,D+1);L.push(new t.Range(D,M)),D=M}else{d=!0,y=D+1;let M=t.Node.endOfWhiteSpace(h,y);h[M]===`
`&&L.length===0&&(_=new n,y=_.parse({src:h},y)),D=t.Node.endOfIndent(h,y)}x=h[D]}if(t.Node.nextNodeIsIndented(x,D-(y+S),this.type!==t.Type.SEQ_ITEM)?this.node=p({atLineStart:d,inCollection:!1,indent:S,lineStart:y,parent:this},D):x&&y>b+1&&(D=y-1),this.node){if(_){let M=k.parent.items||k.parent.contents;M&&M.push(_)}L.length&&Array.prototype.push.apply(this.props,L),D=this.node.range.end}else if(C){let M=L[0];this.props.push(M),D=M.end}else D=t.Node.endOfLine(h,b+1);let T=this.node?this.node.valueRange.end:D;return this.valueRange=new t.Range(b,T),D}setOrigRanges(k,b){return b=super.setOrigRanges(k,b),this.node?this.node.setOrigRanges(k,b):b}toString(){let{context:{src:k},node:b,range:p,value:h}=this;if(h!=null)return h;let d=b?k.slice(p.start,b.range.start)+String(b):k.slice(p.start,p.end);return t.Node.addStringTerminator(k,p.end,d)}},s=class extends t.Node{constructor(){super(t.Type.COMMENT)}parse(k,b){this.context=k;let p=this.parseComment(b);return this.range=new t.Range(b,p),p}};function i(k){let b=k;for(;b instanceof r;)b=b.node;if(!(b instanceof o))return null;let p=b.items.length,h=-1;for(let S=p-1;S>=0;--S){let D=b.items[S];if(D.type===t.Type.COMMENT){let{indent:x,lineStart:C}=D.context;if(x>0&&D.range.start>=C+x)break;h=S}else if(D.type===t.Type.BLANK_LINE)h=S;else break}if(h===-1)return null;let d=b.items.splice(h,p-h),y=d[0].range.start;for(;b.range.end=y,b.valueRange&&b.valueRange.end>y&&(b.valueRange.end=y),b!==k;)b=b.context.parent;return d}var o=class nc extends t.Node{static nextContentHasIndent(b,p,h){let d=t.Node.endOfLine(b,p)+1;p=t.Node.endOfWhiteSpace(b,d);let y=b[p];return y?p>=d+h?!0:y!=="#"&&y!==`
`?!1:nc.nextContentHasIndent(b,p,h):!1}constructor(b){super(b.type===t.Type.SEQ_ITEM?t.Type.SEQ:t.Type.MAP);for(let h=b.props.length-1;h>=0;--h)if(b.props[h].start<b.context.lineStart){this.props=b.props.slice(0,h+1),b.props=b.props.slice(h+1);let d=b.props[0]||b.valueRange;b.range.start=d.start;break}this.items=[b];let p=i(b);p&&Array.prototype.push.apply(this.items,p)}get includesTrailingLines(){return this.items.length>0}parse(b,p){this.context=b;let{parseNode:h,src:d}=b,y=t.Node.startOfLine(d,p),S=this.items[0];S.context.parent=this,this.valueRange=t.Range.copy(S.valueRange);let D=S.range.start-S.context.lineStart,x=p;x=t.Node.normalizeOffset(d,x);let C=d[x],L=t.Node.endOfWhiteSpace(d,y)===x,_=!1;for(;C;){for(;C===`
`||C==="#";){if(L&&C===`
`&&!_){let P=new n;if(x=P.parse({src:d},x),this.valueRange.end=x,x>=d.length){C=null;break}this.items.push(P),x-=1}else if(C==="#"){if(x<y+D&&!nc.nextContentHasIndent(d,x,D))return x;let P=new s;if(x=P.parse({indent:D,lineStart:y,src:d},x),this.items.push(P),this.valueRange.end=x,x>=d.length){C=null;break}}if(y=x+1,x=t.Node.endOfIndent(d,y),t.Node.atBlank(d,x)){let P=t.Node.endOfWhiteSpace(d,x),B=d[P];(!B||B===`
`||B==="#")&&(x=P)}C=d[x],L=!0}if(!C)break;if(x!==y+D&&(L||C!==":")){if(x<y+D){y>p&&(x=y);break}else if(!this.error){let P="All collection items must start at the same column";this.error=new t.YAMLSyntaxError(this,P)}}if(S.type===t.Type.SEQ_ITEM){if(C!=="-"){y>p&&(x=y);break}}else if(C==="-"&&!this.error){let P=d[x+1];if(!P||P===`
`||P==="	"||P===" "){let B="A collection cannot be both a mapping and a sequence";this.error=new t.YAMLSyntaxError(this,B)}}let T=h({atLineStart:L,inCollection:!0,indent:D,lineStart:y,parent:this},x);if(!T)return x;if(this.items.push(T),this.valueRange.end=T.valueRange.end,x=t.Node.normalizeOffset(d,T.range.end),C=d[x],L=!1,_=T.includesTrailingLines,C){let P=x-1,B=d[P];for(;B===" "||B==="	";)B=d[--P];B===`
`&&(y=P+1,L=!0)}let M=i(T);M&&Array.prototype.push.apply(this.items,M)}return x}setOrigRanges(b,p){return p=super.setOrigRanges(b,p),this.items.forEach(h=>{p=h.setOrigRanges(b,p)}),p}toString(){let{context:{src:b},items:p,range:h,value:d}=this;if(d!=null)return d;let y=b.slice(h.start,p[0].range.start)+String(p[0]);for(let S=1;S<p.length;++S){let D=p[S],{atLineStart:x,indent:C}=D.context;if(x)for(let L=0;L<C;++L)y+=" ";y+=String(D)}return t.Node.addStringTerminator(b,h.end,y)}},a=class extends t.Node{constructor(){super(t.Type.DIRECTIVE),this.name=null}get parameters(){let k=this.rawValue;return k?k.trim().split(/[ \t]+/):[]}parseName(k){let{src:b}=this.context,p=k,h=b[p];for(;h&&h!==`
`&&h!=="	"&&h!==" ";)h=b[p+=1];return this.name=b.slice(k,p),p}parseParameters(k){let{src:b}=this.context,p=k,h=b[p];for(;h&&h!==`
`&&h!=="#";)h=b[p+=1];return this.valueRange=new t.Range(k,p),p}parse(k,b){this.context=k;let p=this.parseName(b+1);return p=this.parseParameters(p),p=this.parseComment(p),this.range=new t.Range(b,p),p}},l=class rc extends t.Node{static startCommentOrEndBlankLine(b,p){let h=t.Node.endOfWhiteSpace(b,p),d=b[h];return d==="#"||d===`
`?h:p}constructor(){super(t.Type.DOCUMENT),this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(b){let{src:p}=this.context;this.directives=[];let h=!0,d=!1,y=b;for(;!t.Node.atDocumentBoundary(p,y,t.Char.DIRECTIVES_END);)switch(y=rc.startCommentOrEndBlankLine(p,y),p[y]){case`
`:if(h){let S=new n;y=S.parse({src:p},y),y<p.length&&this.directives.push(S)}else y+=1,h=!0;break;case"#":{let S=new s;y=S.parse({src:p},y),this.directives.push(S),h=!1}break;case"%":{let S=new a;y=S.parse({parent:this,src:p},y),this.directives.push(S),d=!0,h=!1}break;default:return d?this.error=new t.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),y}return p[y]?(this.directivesEndMarker=new t.Range(y,y+3),y+3):(d?this.error=new t.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),y)}parseContents(b){let{parseNode:p,src:h}=this.context;this.contents||(this.contents=[]);let d=b;for(;h[d-1]==="-";)d-=1;let y=t.Node.endOfWhiteSpace(h,b),S=d===b;for(this.valueRange=new t.Range(y);!t.Node.atDocumentBoundary(h,y,t.Char.DOCUMENT_END);){switch(h[y]){case`
`:if(S){let D=new n;y=D.parse({src:h},y),y<h.length&&this.contents.push(D)}else y+=1,S=!0;d=y;break;case"#":{let D=new s;y=D.parse({src:h},y),this.contents.push(D),S=!1}break;default:{let D=t.Node.endOfIndent(h,y),x=p({atLineStart:S,indent:-1,inFlow:!1,inCollection:!1,lineStart:d,parent:this},D);if(!x)return this.valueRange.end=D;this.contents.push(x),y=x.range.end,S=!1;let C=i(x);C&&Array.prototype.push.apply(this.contents,C)}}y=rc.startCommentOrEndBlankLine(h,y)}if(this.valueRange.end=y,h[y]&&(this.documentEndMarker=new t.Range(y,y+3),y+=3,h[y])){if(y=t.Node.endOfWhiteSpace(h,y),h[y]==="#"){let D=new s;y=D.parse({src:h},y),this.contents.push(D)}switch(h[y]){case`
`:y+=1;break;case void 0:break;default:this.error=new t.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return y}parse(b,p){b.root=this,this.context=b;let{src:h}=b,d=h.charCodeAt(p)===65279?p+1:p;return d=this.parseDirectives(d),d=this.parseContents(d),d}setOrigRanges(b,p){return p=super.setOrigRanges(b,p),this.directives.forEach(h=>{p=h.setOrigRanges(b,p)}),this.directivesEndMarker&&(p=this.directivesEndMarker.setOrigRange(b,p)),this.contents.forEach(h=>{p=h.setOrigRanges(b,p)}),this.documentEndMarker&&(p=this.documentEndMarker.setOrigRange(b,p)),p}toString(){let{contents:b,directives:p,value:h}=this;if(h!=null)return h;let d=p.join("");return b.length>0&&((p.length>0||b[0].type===t.Type.COMMENT)&&(d+=`---
`),d+=b.join("")),d[d.length-1]!==`
`&&(d+=`
`),d}},u=class extends t.Node{parse(k,b){this.context=k;let{src:p}=k,h=t.Node.endOfIdentifier(p,b+1);return this.valueRange=new t.Range(b+1,h),h=t.Node.endOfWhiteSpace(p,h),h=this.parseComment(h),h}},f={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},c=class extends t.Node{constructor(k,b){super(k,b),this.blockIndent=null,this.chomping=f.CLIP,this.header=null}get includesTrailingLines(){return this.chomping===f.KEEP}get strValue(){if(!this.valueRange||!this.context)return null;let{start:k,end:b}=this.valueRange,{indent:p,src:h}=this.context;if(this.valueRange.isEmpty())return"";let d=null,y=h[b-1];for(;y===`
`||y==="	"||y===" ";){if(b-=1,b<=k){if(this.chomping===f.KEEP)break;return""}y===`
`&&(d=b),y=h[b-1]}let S=b+1;d&&(this.chomping===f.KEEP?(S=d,b=this.valueRange.end):b=d);let D=p+this.blockIndent,x=this.type===t.Type.BLOCK_FOLDED,C=!0,L="",_="",T=!1;for(let M=k;M<b;++M){for(let B=0;B<D&&h[M]===" ";++B)M+=1;let P=h[M];if(P===`
`)_===`
`?L+=`
`:_=`
`;else{let B=t.Node.endOfLine(h,M),W=h.slice(M,B);M=B,x&&(P===" "||P==="	")&&M<S?(_===" "?_=`
`:!T&&!C&&_===`
`&&(_=`

`),L+=_+W,_=B<b&&h[B]||"",T=!0):(L+=_+W,_=x&&M<S?" ":`
`,T=!1),C&&W!==""&&(C=!1)}}return this.chomping===f.STRIP?L:L+`
`}parseBlockHeader(k){let{src:b}=this.context,p=k+1,h="";for(;;){let d=b[p];switch(d){case"-":this.chomping=f.STRIP;break;case"+":this.chomping=f.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":h+=d;break;default:return this.blockIndent=Number(h)||null,this.header=new t.Range(k,p),p}p+=1}}parseBlockValue(k){let{indent:b,src:p}=this.context,h=!!this.blockIndent,d=k,y=k,S=1;for(let D=p[d];D===`
`&&(d+=1,!t.Node.atDocumentBoundary(p,d));D=p[d]){let x=t.Node.endOfBlockIndent(p,b,d);if(x===null)break;let C=p[x],L=x-(d+b);if(this.blockIndent){if(C&&C!==`
`&&L<this.blockIndent){if(p[x]==="#")break;if(!this.error){let _=`Block scalars must not be less indented than their ${h?"explicit indentation indicator":"first line"}`;this.error=new t.YAMLSemanticError(this,_)}}}else if(p[x]!==`
`){if(L<S){let _="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new t.YAMLSemanticError(this,_)}this.blockIndent=L}else L>S&&(S=L);p[x]===`
`?d=x:d=y=t.Node.endOfLine(p,x)}return this.chomping!==f.KEEP&&(d=p[y]?y+1:y),this.valueRange=new t.Range(k+1,d),d}parse(k,b){this.context=k;let{src:p}=k,h=this.parseBlockHeader(b);return h=t.Node.endOfWhiteSpace(p,h),h=this.parseComment(h),h=this.parseBlockValue(h),h}setOrigRanges(k,b){return b=super.setOrigRanges(k,b),this.header?this.header.setOrigRange(k,b):b}},m=class extends t.Node{constructor(k,b){super(k,b),this.items=null}prevNodeIsJsonLike(k=this.items.length){let b=this.items[k-1];return!!b&&(b.jsonLike||b.type===t.Type.COMMENT&&this.prevNodeIsJsonLike(k-1))}parse(k,b){this.context=k;let{parseNode:p,src:h}=k,{indent:d,lineStart:y}=k,S=h[b];this.items=[{char:S,offset:b}];let D=t.Node.endOfWhiteSpace(h,b+1);for(S=h[D];S&&S!=="]"&&S!=="}";){switch(S){case`
`:{y=D+1;let x=t.Node.endOfWhiteSpace(h,y);if(h[x]===`
`){let C=new n;y=C.parse({src:h},y),this.items.push(C)}if(D=t.Node.endOfIndent(h,y),D<=y+d&&(S=h[D],D<y+d||S!=="]"&&S!=="}")){let C="Insufficient indentation in flow collection";this.error=new t.YAMLSemanticError(this,C)}}break;case",":this.items.push({char:S,offset:D}),D+=1;break;case"#":{let x=new s;D=x.parse({src:h},D),this.items.push(x)}break;case"?":case":":{let x=h[D+1];if(x===`
`||x==="	"||x===" "||x===","||S===":"&&this.prevNodeIsJsonLike()){this.items.push({char:S,offset:D}),D+=1;break}}default:{let x=p({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:y,parent:this},D);if(!x)return this.valueRange=new t.Range(b,D),D;this.items.push(x),D=t.Node.normalizeOffset(h,x.range.end)}}D=t.Node.endOfWhiteSpace(h,D),S=h[D]}return this.valueRange=new t.Range(b,D+1),S&&(this.items.push({char:S,offset:D}),D=t.Node.endOfWhiteSpace(h,D+1),D=this.parseComment(D)),D}setOrigRanges(k,b){return b=super.setOrigRanges(k,b),this.items.forEach(p=>{if(p instanceof t.Node)b=p.setOrigRanges(k,b);else if(k.length===0)p.origOffset=p.offset;else{let h=b;for(;h<k.length&&!(k[h]>p.offset);)++h;p.origOffset=p.offset+h,b=h}}),b}toString(){let{context:{src:k},items:b,range:p,value:h}=this;if(h!=null)return h;let d=b.filter(D=>D instanceof t.Node),y="",S=p.start;return d.forEach(D=>{let x=k.slice(S,D.range.start);S=D.range.end,y+=x+String(D),y[y.length-1]===`
`&&k[S-1]!==`
`&&k[S]===`
`&&(S+=1)}),y+=k.slice(S,p.end),t.Node.addStringTerminator(k,p.end,y)}},g=class c0 extends t.Node{static endOfQuote(b,p){let h=b[p];for(;h&&h!=='"';)p+=h==="\\"?2:1,h=b[p];return p+1}get strValue(){if(!this.valueRange||!this.context)return null;let b=[],{start:p,end:h}=this.valueRange,{indent:d,src:y}=this.context;y[h-1]!=='"'&&b.push(new t.YAMLSyntaxError(this,'Missing closing "quote'));let S="";for(let D=p+1;D<h-1;++D){let x=y[D];if(x===`
`){t.Node.atDocumentBoundary(y,D+1)&&b.push(new t.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:C,offset:L,error:_}=t.Node.foldNewline(y,D,d);S+=C,D=L,_&&b.push(new t.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(x==="\\")switch(D+=1,y[D]){case"0":S+="\0";break;case"a":S+="\x07";break;case"b":S+="\b";break;case"e":S+="\x1B";break;case"f":S+="\f";break;case"n":S+=`
`;break;case"r":S+="\r";break;case"t":S+="	";break;case"v":S+="\v";break;case"N":S+="";break;case"_":S+=" ";break;case"L":S+="\u2028";break;case"P":S+="\u2029";break;case" ":S+=" ";break;case'"':S+='"';break;case"/":S+="/";break;case"\\":S+="\\";break;case"	":S+="	";break;case"x":S+=this.parseCharCode(D+1,2,b),D+=2;break;case"u":S+=this.parseCharCode(D+1,4,b),D+=4;break;case"U":S+=this.parseCharCode(D+1,8,b),D+=8;break;case`
`:for(;y[D+1]===" "||y[D+1]==="	";)D+=1;break;default:b.push(new t.YAMLSyntaxError(this,`Invalid escape sequence ${y.substr(D-1,2)}`)),S+="\\"+y[D]}else if(x===" "||x==="	"){let C=D,L=y[D+1];for(;L===" "||L==="	";)D+=1,L=y[D+1];L!==`
`&&(S+=D>C?y.slice(C,D+1):x)}else S+=x}return b.length>0?{errors:b,str:S}:S}parseCharCode(b,p,h){let{src:d}=this.context,y=d.substr(b,p),S=y.length===p&&/^[0-9a-fA-F]+$/.test(y)?parseInt(y,16):NaN;return isNaN(S)?(h.push(new t.YAMLSyntaxError(this,`Invalid escape sequence ${d.substr(b-2,p+2)}`)),d.substr(b-2,p+2)):String.fromCodePoint(S)}parse(b,p){this.context=b;let{src:h}=b,d=c0.endOfQuote(h,p+1);return this.valueRange=new t.Range(p,d),d=t.Node.endOfWhiteSpace(h,d),d=this.parseComment(d),d}},w=class f0 extends t.Node{static endOfQuote(b,p){let h=b[p];for(;h;)if(h==="'"){if(b[p+1]!=="'")break;h=b[p+=2]}else h=b[p+=1];return p+1}get strValue(){if(!this.valueRange||!this.context)return null;let b=[],{start:p,end:h}=this.valueRange,{indent:d,src:y}=this.context;y[h-1]!=="'"&&b.push(new t.YAMLSyntaxError(this,"Missing closing 'quote"));let S="";for(let D=p+1;D<h-1;++D){let x=y[D];if(x===`
`){t.Node.atDocumentBoundary(y,D+1)&&b.push(new t.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:C,offset:L,error:_}=t.Node.foldNewline(y,D,d);S+=C,D=L,_&&b.push(new t.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(x==="'")S+=x,D+=1,y[D]!=="'"&&b.push(new t.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(x===" "||x==="	"){let C=D,L=y[D+1];for(;L===" "||L==="	";)D+=1,L=y[D+1];L!==`
`&&(S+=D>C?y.slice(C,D+1):x)}else S+=x}return b.length>0?{errors:b,str:S}:S}parse(b,p){this.context=b;let{src:h}=b,d=f0.endOfQuote(h,p+1);return this.valueRange=new t.Range(p,d),d=t.Node.endOfWhiteSpace(h,d),d=this.parseComment(d),d}};function A(k,b){switch(k){case t.Type.ALIAS:return new u(k,b);case t.Type.BLOCK_FOLDED:case t.Type.BLOCK_LITERAL:return new c(k,b);case t.Type.FLOW_MAP:case t.Type.FLOW_SEQ:return new m(k,b);case t.Type.MAP_KEY:case t.Type.MAP_VALUE:case t.Type.SEQ_ITEM:return new r(k,b);case t.Type.COMMENT:case t.Type.PLAIN:return new t.PlainValue(k,b);case t.Type.QUOTE_DOUBLE:return new g(k,b);case t.Type.QUOTE_SINGLE:return new w(k,b);default:return null}}var E=class Xo{static parseType(b,p,h){switch(b[p]){case"*":return t.Type.ALIAS;case">":return t.Type.BLOCK_FOLDED;case"|":return t.Type.BLOCK_LITERAL;case"{":return t.Type.FLOW_MAP;case"[":return t.Type.FLOW_SEQ;case"?":return!h&&t.Node.atBlank(b,p+1,!0)?t.Type.MAP_KEY:t.Type.PLAIN;case":":return!h&&t.Node.atBlank(b,p+1,!0)?t.Type.MAP_VALUE:t.Type.PLAIN;case"-":return!h&&t.Node.atBlank(b,p+1,!0)?t.Type.SEQ_ITEM:t.Type.PLAIN;case'"':return t.Type.QUOTE_DOUBLE;case"'":return t.Type.QUOTE_SINGLE;default:return t.Type.PLAIN}}constructor(b={},{atLineStart:p,inCollection:h,inFlow:d,indent:y,lineStart:S,parent:D}={}){t._defineProperty(this,"parseNode",(x,C)=>{if(t.Node.atDocumentBoundary(this.src,C))return null;let L=new Xo(this,x),{props:_,type:T,valueStart:M}=L.parseProps(C),P=A(T,_),B=P.parse(L,M);if(P.range=new t.Range(C,B),B<=C&&(P.error=new Error("Node#parse consumed no characters"),P.error.parseEnd=B,P.error.source=P,P.range.end=C+1),L.nodeStartsCollection(P)){!P.error&&!L.atLineStart&&L.parent.type===t.Type.DOCUMENT&&(P.error=new t.YAMLSyntaxError(P,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let W=new o(P);return B=W.parse(new Xo(L),B),W.range=new t.Range(C,B),W}return P}),this.atLineStart=p??(b.atLineStart||!1),this.inCollection=h??(b.inCollection||!1),this.inFlow=d??(b.inFlow||!1),this.indent=y??b.indent,this.lineStart=S??b.lineStart,this.parent=D??(b.parent||{}),this.root=b.root,this.src=b.src}nodeStartsCollection(b){let{inCollection:p,inFlow:h,src:d}=this;if(p||h)return!1;if(b instanceof r)return!0;let y=b.range.end;return d[y]===`
`||d[y-1]===`
`?!1:(y=t.Node.endOfWhiteSpace(d,y),d[y]===":")}parseProps(b){let{inFlow:p,parent:h,src:d}=this,y=[],S=!1;b=this.atLineStart?t.Node.endOfIndent(d,b):t.Node.endOfWhiteSpace(d,b);let D=d[b];for(;D===t.Char.ANCHOR||D===t.Char.COMMENT||D===t.Char.TAG||D===`
`;){if(D===`
`){let C=b,L;do L=C+1,C=t.Node.endOfIndent(d,L);while(d[C]===`
`);let _=C-(L+this.indent),T=h.type===t.Type.SEQ_ITEM&&h.context.atLineStart;if(d[C]!=="#"&&!t.Node.nextNodeIsIndented(d[C],_,!T))break;this.atLineStart=!0,this.lineStart=L,S=!1,b=C}else if(D===t.Char.COMMENT){let C=t.Node.endOfLine(d,b+1);y.push(new t.Range(b,C)),b=C}else{let C=t.Node.endOfIdentifier(d,b+1);D===t.Char.TAG&&d[C]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(d.slice(b+1,C+13))&&(C=t.Node.endOfIdentifier(d,C+5)),y.push(new t.Range(b,C)),S=!0,b=t.Node.endOfWhiteSpace(d,C)}D=d[b]}S&&D===":"&&t.Node.atBlank(d,b+1,!0)&&(b-=1);let x=Xo.parseType(d,b,p);return{props:y,type:x,valueStart:b}}};function N(k){let b=[];k.indexOf("\r")!==-1&&(k=k.replace(/\r\n?/g,(d,y)=>(d.length>1&&b.push(y),`
`)));let p=[],h=0;do{let d=new l,y=new E({src:k});h=d.parse(y,h),p.push(d)}while(h<k.length);return p.setOrigRanges=()=>{if(b.length===0)return!1;for(let y=1;y<b.length;++y)b[y]-=y;let d=0;for(let y=0;y<p.length;++y)d=p[y].setOrigRanges(b,d);return b.splice(0,b.length),!0},p.toString=()=>p.join(`...
`),p}e.parse=N}),Vs=dn(e=>{var t=Zn();function n(O,F,R){return R?`#${R.replace(/[\s\S]^/gm,`$&${F}#`)}
${F}${O}`:O}function r(O,F,R){return R?R.indexOf(`
`)===-1?`${O} #${R}`:`${O}
`+R.replace(/^/gm,`${F||""}#`):O}var s=class{};function i(O,F,R){if(Array.isArray(O))return O.map(($,V)=>i($,String(V),R));if(O&&typeof O.toJSON=="function"){let $=R&&R.anchors&&R.anchors.get(O);$&&(R.onCreate=j=>{$.res=j,delete R.onCreate});let V=O.toJSON(F,R);return $&&R.onCreate&&R.onCreate(V),V}return(!R||!R.keep)&&typeof O=="bigint"?Number(O):O}var o=class extends s{constructor(O){super(),this.value=O}toJSON(O,F){return F&&F.keep?this.value:i(this.value,O,F)}toString(){return String(this.value)}};function a(O,F,R){let $=R;for(let V=F.length-1;V>=0;--V){let j=F[V];if(Number.isInteger(j)&&j>=0){let q=[];q[j]=$,$=q}else{let q={};Object.defineProperty(q,j,{value:$,writable:!0,enumerable:!0,configurable:!0}),$=q}}return O.createNode($,!1)}var l=O=>O==null||typeof O=="object"&&O[Symbol.iterator]().next().done,u=class Dr extends s{constructor(F){super(),t._defineProperty(this,"items",[]),this.schema=F}addIn(F,R){if(l(F))this.add(R);else{let[$,...V]=F,j=this.get($,!0);if(j instanceof Dr)j.addIn(V,R);else if(j===void 0&&this.schema)this.set($,a(this.schema,V,R));else throw new Error(`Expected YAML collection at ${$}. Remaining path: ${V}`)}}deleteIn([F,...R]){if(R.length===0)return this.delete(F);let $=this.get(F,!0);if($ instanceof Dr)return $.deleteIn(R);throw new Error(`Expected YAML collection at ${F}. Remaining path: ${R}`)}getIn([F,...R],$){let V=this.get(F,!0);return R.length===0?!$&&V instanceof o?V.value:V:V instanceof Dr?V.getIn(R,$):void 0}hasAllNullValues(){return this.items.every(F=>{if(!F||F.type!=="PAIR")return!1;let R=F.value;return R==null||R instanceof o&&R.value==null&&!R.commentBefore&&!R.comment&&!R.tag})}hasIn([F,...R]){if(R.length===0)return this.has(F);let $=this.get(F,!0);return $ instanceof Dr?$.hasIn(R):!1}setIn([F,...R],$){if(R.length===0)this.set(F,$);else{let V=this.get(F,!0);if(V instanceof Dr)V.setIn(R,$);else if(V===void 0&&this.schema)this.set(F,a(this.schema,R,$));else throw new Error(`Expected YAML collection at ${F}. Remaining path: ${R}`)}}toJSON(){return null}toString(F,{blockItem:R,flowChars:$,isMap:V,itemIndent:j},q,H){let{indent:z,indentStep:K,stringify:Z}=F,ne=this.type===t.Type.FLOW_MAP||this.type===t.Type.FLOW_SEQ||F.inFlow;ne&&(j+=K);let xe=V&&this.hasAllNullValues();F=Object.assign({},F,{allNullValues:xe,indent:j,inFlow:ne,type:null});let ce=!1,Le=!1,de=this.items.reduce((Ye,be,_e)=>{let ve;be&&(!ce&&be.spaceBefore&&Ye.push({type:"comment",str:""}),be.commentBefore&&be.commentBefore.match(/^.*$/gm).forEach(w6=>{Ye.push({type:"comment",str:`#${w6}`})}),be.comment&&(ve=be.comment),ne&&(!ce&&be.spaceBefore||be.commentBefore||be.comment||be.key&&(be.key.commentBefore||be.key.comment)||be.value&&(be.value.commentBefore||be.value.comment))&&(Le=!0)),ce=!1;let ft=Z(be,F,()=>ve=null,()=>ce=!0);return ne&&!Le&&ft.includes(`
`)&&(Le=!0),ne&&_e<this.items.length-1&&(ft+=","),ft=r(ft,j,ve),ce&&(ve||ne)&&(ce=!1),Ye.push({type:"item",str:ft}),Ye},[]),Ee;if(de.length===0)Ee=$.start+$.end;else if(ne){let{start:Ye,end:be}=$,_e=de.map(ve=>ve.str);if(Le||_e.reduce((ve,ft)=>ve+ft.length+2,2)>Dr.maxFlowStringSingleLineLength){Ee=Ye;for(let ve of _e)Ee+=ve?`
${K}${z}${ve}`:`
`;Ee+=`
${z}${be}`}else Ee=`${Ye} ${_e.join(" ")} ${be}`}else{let Ye=de.map(R);Ee=Ye.shift();for(let be of Ye)Ee+=be?`
${z}${be}`:`
`}return this.comment?(Ee+=`
`+this.comment.replace(/^/gm,`${z}#`),q&&q()):ce&&H&&H(),Ee}};t._defineProperty(u,"maxFlowStringSingleLineLength",60);function f(O){let F=O instanceof o?O.value:O;return F&&typeof F=="string"&&(F=Number(F)),Number.isInteger(F)&&F>=0?F:null}var c=class extends u{add(O){this.items.push(O)}delete(O){let F=f(O);return typeof F!="number"?!1:this.items.splice(F,1).length>0}get(O,F){let R=f(O);if(typeof R!="number")return;let $=this.items[R];return!F&&$ instanceof o?$.value:$}has(O){let F=f(O);return typeof F=="number"&&F<this.items.length}set(O,F){let R=f(O);if(typeof R!="number")throw new Error(`Expected a valid index, not ${O}.`);this.items[R]=F}toJSON(O,F){let R=[];F&&F.onCreate&&F.onCreate(R);let $=0;for(let V of this.items)R.push(i(V,String($++),F));return R}toString(O,F,R){return O?super.toString(O,{blockItem:$=>$.type==="comment"?$.str:`- ${$.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(O.indent||"")+"  "},F,R):JSON.stringify(this)}},m=(O,F,R)=>F===null?"":typeof F!="object"?String(F):O instanceof s&&R&&R.doc?O.toString({anchors:Object.create(null),doc:R.doc,indent:"",indentStep:R.indentStep,inFlow:!0,inStringifyKey:!0,stringify:R.stringify}):JSON.stringify(F),g=class h0 extends s{constructor(F,R=null){super(),this.key=F,this.value=R,this.type=h0.Type.PAIR}get commentBefore(){return this.key instanceof s?this.key.commentBefore:void 0}set commentBefore(F){if(this.key==null&&(this.key=new o(null)),this.key instanceof s)this.key.commentBefore=F;else{let R="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(R)}}addToJSMap(F,R){let $=i(this.key,"",F);if(R instanceof Map){let V=i(this.value,$,F);R.set($,V)}else if(R instanceof Set)R.add($);else{let V=m(this.key,$,F),j=i(this.value,V,F);V in R?Object.defineProperty(R,V,{value:j,writable:!0,enumerable:!0,configurable:!0}):R[V]=j}return R}toJSON(F,R){let $=R&&R.mapAsMap?new Map:{};return this.addToJSMap(R,$)}toString(F,R,$){if(!F||!F.doc)return JSON.stringify(this);let{indent:V,indentSeq:j,simpleKeys:q}=F.doc.options,{key:H,value:z}=this,K=H instanceof s&&H.comment;if(q){if(K)throw new Error("With simple keys, key nodes cannot have comments");if(H instanceof u){let ft="With simple keys, collection cannot be used as a key value";throw new Error(ft)}}let Z=!q&&(!H||K||(H instanceof s?H instanceof u||H.type===t.Type.BLOCK_FOLDED||H.type===t.Type.BLOCK_LITERAL:typeof H=="object")),{doc:ne,indent:xe,indentStep:ce,stringify:Le}=F;F=Object.assign({},F,{implicitKey:!Z,indent:xe+ce});let de=!1,Ee=Le(H,F,()=>K=null,()=>de=!0);if(Ee=r(Ee,F.indent,K),!Z&&Ee.length>1024){if(q)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");Z=!0}if(F.allNullValues&&!q)return this.comment?(Ee=r(Ee,F.indent,this.comment),R&&R()):de&&!K&&$&&$(),F.inFlow&&!Z?Ee:`? ${Ee}`;Ee=Z?`? ${Ee}
${xe}:`:`${Ee}:`,this.comment&&(Ee=r(Ee,F.indent,this.comment),R&&R());let Ye="",be=null;if(z instanceof s){if(z.spaceBefore&&(Ye=`
`),z.commentBefore){let ft=z.commentBefore.replace(/^/gm,`${F.indent}#`);Ye+=`
${ft}`}be=z.comment}else z&&typeof z=="object"&&(z=ne.schema.createNode(z,!0));F.implicitKey=!1,!Z&&!this.comment&&z instanceof o&&(F.indentAtStart=Ee.length+1),de=!1,!j&&V>=2&&!F.inFlow&&!Z&&z instanceof c&&z.type!==t.Type.FLOW_SEQ&&!z.tag&&!ne.anchors.getName(z)&&(F.indent=F.indent.substr(2));let _e=Le(z,F,()=>be=null,()=>de=!0),ve=" ";return Ye||this.comment?ve=`${Ye}
${F.indent}`:!Z&&z instanceof u?(!(_e[0]==="["||_e[0]==="{")||_e.includes(`
`))&&(ve=`
${F.indent}`):_e[0]===`
`&&(ve=""),de&&!be&&$&&$(),r(Ee+ve+_e,F.indent,be)}};t._defineProperty(g,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var w=(O,F)=>{if(O instanceof A){let R=F.get(O.source);return R.count*R.aliasCount}else if(O instanceof u){let R=0;for(let $ of O.items){let V=w($,F);V>R&&(R=V)}return R}else if(O instanceof g){let R=w(O.key,F),$=w(O.value,F);return Math.max(R,$)}return 1},A=class d0 extends s{static stringify({range:F,source:R},{anchors:$,doc:V,implicitKey:j,inStringifyKey:q}){let H=Object.keys($).find(K=>$[K]===R);if(!H&&q&&(H=V.anchors.getName(R)||V.anchors.newName()),H)return`*${H}${j?" ":""}`;let z=V.anchors.getName(R)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${z} [${F}]`)}constructor(F){super(),this.source=F,this.type=t.Type.ALIAS}set tag(F){throw new Error("Alias nodes cannot have tags")}toJSON(F,R){if(!R)return i(this.source,F,R);let{anchors:$,maxAliasCount:V}=R,j=$.get(this.source);if(!j||j.res===void 0){let q="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new t.YAMLReferenceError(this.cstNode,q):new ReferenceError(q)}if(V>=0&&(j.count+=1,j.aliasCount===0&&(j.aliasCount=w(this.source,$)),j.count*j.aliasCount>V)){let q="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new t.YAMLReferenceError(this.cstNode,q):new ReferenceError(q)}return j.res}toString(F){return d0.stringify(this,F)}};t._defineProperty(A,"default",!0);function E(O,F){let R=F instanceof o?F.value:F;for(let $ of O)if($ instanceof g&&($.key===F||$.key===R||$.key&&$.key.value===R))return $}var N=class extends u{add(O,F){O?O instanceof g||(O=new g(O.key||O,O.value)):O=new g(O);let R=E(this.items,O.key),$=this.schema&&this.schema.sortMapEntries;if(R)if(F)R.value=O.value;else throw new Error(`Key ${O.key} already set`);else if($){let V=this.items.findIndex(j=>$(O,j)<0);V===-1?this.items.push(O):this.items.splice(V,0,O)}else this.items.push(O)}delete(O){let F=E(this.items,O);return F?this.items.splice(this.items.indexOf(F),1).length>0:!1}get(O,F){let R=E(this.items,O),$=R&&R.value;return!F&&$ instanceof o?$.value:$}has(O){return!!E(this.items,O)}set(O,F){this.add(new g(O,F),!0)}toJSON(O,F,R){let $=R?new R:F&&F.mapAsMap?new Map:{};F&&F.onCreate&&F.onCreate($);for(let V of this.items)V.addToJSMap(F,$);return $}toString(O,F,R){if(!O)return JSON.stringify(this);for(let $ of this.items)if(!($ instanceof g))throw new Error(`Map items must all be pairs; found ${JSON.stringify($)} instead`);return super.toString(O,{blockItem:$=>$.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:O.indent||""},F,R)}},k="<<",b=class extends g{constructor(O){if(O instanceof g){let F=O.value;F instanceof c||(F=new c,F.items.push(O.value),F.range=O.value.range),super(O.key,F),this.range=O.range}else super(new o(k),new c);this.type=g.Type.MERGE_PAIR}addToJSMap(O,F){for(let{source:R}of this.value.items){if(!(R instanceof N))throw new Error("Merge sources must be maps");let $=R.toJSON(null,O,Map);for(let[V,j]of $)F instanceof Map?F.has(V)||F.set(V,j):F instanceof Set?F.add(V):Object.prototype.hasOwnProperty.call(F,V)||Object.defineProperty(F,V,{value:j,writable:!0,enumerable:!0,configurable:!0})}return F}toString(O,F){let R=this.value;if(R.items.length>1)return super.toString(O,F);this.value=R.items[0];let $=super.toString(O,F);return this.value=R,$}},p={defaultType:t.Type.BLOCK_LITERAL,lineWidth:76},h={trueStr:"true",falseStr:"false"},d={asBigInt:!1},y={nullStr:"null"},S={defaultType:t.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function D(O,F,R){for(let{format:$,test:V,resolve:j}of F)if(V){let q=O.match(V);if(q){let H=j.apply(null,q);return H instanceof o||(H=new o(H)),$&&(H.format=$),H}}return R&&(O=R(O)),new o(O)}var x="flow",C="block",L="quoted",_=(O,F)=>{let R=O[F+1];for(;R===" "||R==="	";){do R=O[F+=1];while(R&&R!==`
`);R=O[F+1]}return F};function T(O,F,R,{indentAtStart:$,lineWidth:V=80,minContentWidth:j=20,onFold:q,onOverflow:H}){if(!V||V<0)return O;let z=Math.max(1+j,1+V-F.length);if(O.length<=z)return O;let K=[],Z={},ne=V-F.length;typeof $=="number"&&($>V-Math.max(2,j)?K.push(0):ne=V-$);let xe,ce,Le=!1,de=-1,Ee=-1,Ye=-1;R===C&&(de=_(O,de),de!==-1&&(ne=de+z));for(let _e;_e=O[de+=1];){if(R===L&&_e==="\\"){switch(Ee=de,O[de+1]){case"x":de+=3;break;case"u":de+=5;break;case"U":de+=9;break;default:de+=1}Ye=de}if(_e===`
`)R===C&&(de=_(O,de)),ne=de+z,xe=void 0;else{if(_e===" "&&ce&&ce!==" "&&ce!==`
`&&ce!=="	"){let ve=O[de+1];ve&&ve!==" "&&ve!==`
`&&ve!=="	"&&(xe=de)}if(de>=ne)if(xe)K.push(xe),ne=xe+z,xe=void 0;else if(R===L){for(;ce===" "||ce==="	";)ce=_e,_e=O[de+=1],Le=!0;let ve=de>Ye+1?de-2:Ee-1;if(Z[ve])return O;K.push(ve),Z[ve]=!0,ne=ve+z,xe=void 0}else Le=!0}ce=_e}if(Le&&H&&H(),K.length===0)return O;q&&q();let be=O.slice(0,K[0]);for(let _e=0;_e<K.length;++_e){let ve=K[_e],ft=K[_e+1]||O.length;ve===0?be=`
${F}${O.slice(0,ft)}`:(R===L&&Z[ve]&&(be+=`${O[ve]}\\`),be+=`
${F}${O.slice(ve+1,ft)}`)}return be}var M=({indentAtStart:O})=>O?Object.assign({indentAtStart:O},S.fold):S.fold,P=O=>/^(%|---|\.\.\.)/m.test(O);function B(O,F,R){if(!F||F<0)return!1;let $=F-R,V=O.length;if(V<=$)return!1;for(let j=0,q=0;j<V;++j)if(O[j]===`
`){if(j-q>$)return!0;if(q=j+1,V-q<=$)return!1}return!0}function W(O,F){let{implicitKey:R}=F,{jsonEncoding:$,minMultiLineLength:V}=S.doubleQuoted,j=JSON.stringify(O);if($)return j;let q=F.indent||(P(O)?"  ":""),H="",z=0;for(let K=0,Z=j[K];Z;Z=j[++K])if(Z===" "&&j[K+1]==="\\"&&j[K+2]==="n"&&(H+=j.slice(z,K)+"\\ ",K+=1,z=K,Z="\\"),Z==="\\")switch(j[K+1]){case"u":{H+=j.slice(z,K);let ne=j.substr(K+2,4);switch(ne){case"0000":H+="\\0";break;case"0007":H+="\\a";break;case"000b":H+="\\v";break;case"001b":H+="\\e";break;case"0085":H+="\\N";break;case"00a0":H+="\\_";break;case"2028":H+="\\L";break;case"2029":H+="\\P";break;default:ne.substr(0,2)==="00"?H+="\\x"+ne.substr(2):H+=j.substr(K,6)}K+=5,z=K+1}break;case"n":if(R||j[K+2]==='"'||j.length<V)K+=1;else{for(H+=j.slice(z,K)+`

`;j[K+2]==="\\"&&j[K+3]==="n"&&j[K+4]!=='"';)H+=`
`,K+=2;H+=q,j[K+2]===" "&&(H+="\\"),K+=1,z=K+1}break;default:K+=1}return H=z?H+j.slice(z):j,R?H:T(H,q,L,M(F))}function G(O,F){if(F.implicitKey){if(/\n/.test(O))return W(O,F)}else if(/[ \t]\n|\n[ \t]/.test(O))return W(O,F);let R=F.indent||(P(O)?"  ":""),$="'"+O.replace(/'/g,"''").replace(/\n+/g,`$&
${R}`)+"'";return F.implicitKey?$:T($,R,x,M(F))}function J({comment:O,type:F,value:R},$,V,j){if(/\n[\t ]+$/.test(R)||/^\s*$/.test(R))return W(R,$);let q=$.indent||($.forceBlockIndent||P(R)?"  ":""),H=q?"2":"1",z=F===t.Type.BLOCK_FOLDED?!1:F===t.Type.BLOCK_LITERAL?!0:!B(R,S.fold.lineWidth,q.length),K=z?"|":">";if(!R)return K+`
`;let Z="",ne="";if(R=R.replace(/[\n\t ]*$/,ce=>{let Le=ce.indexOf(`
`);return Le===-1?K+="-":(R===ce||Le!==ce.length-1)&&(K+="+",j&&j()),ne=ce.replace(/\n$/,""),""}).replace(/^[\n ]*/,ce=>{ce.indexOf(" ")!==-1&&(K+=H);let Le=ce.match(/ +$/);return Le?(Z=ce.slice(0,-Le[0].length),Le[0]):(Z=ce,"")}),ne&&(ne=ne.replace(/\n+(?!\n|$)/g,`$&${q}`)),Z&&(Z=Z.replace(/\n+/g,`$&${q}`)),O&&(K+=" #"+O.replace(/ ?[\r\n]+/g," "),V&&V()),!R)return`${K}${H}
${q}${ne}`;if(z)return R=R.replace(/\n+/g,`$&${q}`),`${K}
${q}${Z}${R}${ne}`;R=R.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${q}`);let xe=T(`${Z}${R}${ne}`,q,C,S.fold);return`${K}
${q}${xe}`}function I(O,F,R,$){let{comment:V,type:j,value:q}=O,{actualString:H,implicitKey:z,indent:K,inFlow:Z}=F;if(z&&/[\n[\]{},]/.test(q)||Z&&/[[\]{},]/.test(q))return W(q,F);if(!q||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(q))return z||Z||q.indexOf(`
`)===-1?q.indexOf('"')!==-1&&q.indexOf("'")===-1?G(q,F):W(q,F):J(O,F,R,$);if(!z&&!Z&&j!==t.Type.PLAIN&&q.indexOf(`
`)!==-1)return J(O,F,R,$);if(K===""&&P(q))return F.forceBlockIndent=!0,J(O,F,R,$);let ne=q.replace(/\n+/g,`$&
${K}`);if(H){let{tags:ce}=F.doc.schema;if(typeof D(ne,ce,ce.scalarFallback).value!="string")return W(q,F)}let xe=z?ne:T(ne,K,x,M(F));return V&&!Z&&(xe.indexOf(`
`)!==-1||V.indexOf(`
`)!==-1)?(R&&R(),n(xe,K,V)):xe}function Y(O,F,R,$){let{defaultType:V}=S,{implicitKey:j,inFlow:q}=F,{type:H,value:z}=O;typeof z!="string"&&(z=String(z),O=Object.assign({},O,{value:z}));let K=ne=>{switch(ne){case t.Type.BLOCK_FOLDED:case t.Type.BLOCK_LITERAL:return J(O,F,R,$);case t.Type.QUOTE_DOUBLE:return W(z,F);case t.Type.QUOTE_SINGLE:return G(z,F);case t.Type.PLAIN:return I(O,F,R,$);default:return null}};(H!==t.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(z)||(j||q)&&(H===t.Type.BLOCK_FOLDED||H===t.Type.BLOCK_LITERAL))&&(H=t.Type.QUOTE_DOUBLE);let Z=K(H);if(Z===null&&(Z=K(V),Z===null))throw new Error(`Unsupported default string type ${V}`);return Z}function X({format:O,minFractionDigits:F,tag:R,value:$}){if(typeof $=="bigint")return String($);if(!isFinite($))return isNaN($)?".nan":$<0?"-.inf":".inf";let V=JSON.stringify($);if(!O&&F&&(!R||R==="tag:yaml.org,2002:float")&&/^\d/.test(V)){let j=V.indexOf(".");j<0&&(j=V.length,V+=".");let q=F-(V.length-j-1);for(;q-- >0;)V+="0"}return V}function Q(O,F){let R,$;switch(F.type){case t.Type.FLOW_MAP:R="}",$="flow map";break;case t.Type.FLOW_SEQ:R="]",$="flow sequence";break;default:O.push(new t.YAMLSemanticError(F,"Not a flow collection!?"));return}let V;for(let j=F.items.length-1;j>=0;--j){let q=F.items[j];if(!q||q.type!==t.Type.COMMENT){V=q;break}}if(V&&V.char!==R){let j=`Expected ${$} to end with ${R}`,q;typeof V.offset=="number"?(q=new t.YAMLSemanticError(F,j),q.offset=V.offset+1):(q=new t.YAMLSemanticError(V,j),V.range&&V.range.end&&(q.offset=V.range.end-V.range.start)),O.push(q)}}function te(O,F){let R=F.context.src[F.range.start-1];if(R!==`
`&&R!=="	"&&R!==" "){let $="Comments must be separated from other tokens by white space characters";O.push(new t.YAMLSemanticError(F,$))}}function ie(O,F){let R=String(F),$=R.substr(0,8)+"..."+R.substr(-8);return new t.YAMLSemanticError(O,`The "${$}" key is too long`)}function ct(O,F){for(let{afterKey:R,before:$,comment:V}of F){let j=O.items[$];j?(R&&j.value&&(j=j.value),V===void 0?(R||!j.commentBefore)&&(j.spaceBefore=!0):j.commentBefore?j.commentBefore+=`
`+V:j.commentBefore=V):V!==void 0&&(O.comment?O.comment+=`
`+V:O.comment=V)}}function Vt(O,F){let R=F.strValue;return R?typeof R=="string"?R:(R.errors.forEach($=>{$.source||($.source=F),O.errors.push($)}),R.str):""}function En(O,F){let{handle:R,suffix:$}=F.tag,V=O.tagPrefixes.find(j=>j.handle===R);if(!V){let j=O.getDefaults().tagPrefixes;if(j&&(V=j.find(q=>q.handle===R)),!V)throw new t.YAMLSemanticError(F,`The ${R} tag handle is non-default and was not declared.`)}if(!$)throw new t.YAMLSemanticError(F,`The ${R} tag has no suffix.`);if(R==="!"&&(O.version||O.options.version)==="1.0"){if($[0]==="^")return O.warnings.push(new t.YAMLWarning(F,"YAML 1.0 ^ tag expansion is not supported")),$;if(/[:/]/.test($)){let j=$.match(/^([a-z0-9-]+)\/(.*)/i);return j?`tag:${j[1]}.yaml.org,2002:${j[2]}`:`tag:${$}`}}return V.prefix+decodeURIComponent($)}function tn(O,F){let{tag:R,type:$}=F,V=!1;if(R){let{handle:j,suffix:q,verbatim:H}=R;if(H){if(H!=="!"&&H!=="!!")return H;let z=`Verbatim tags aren't resolved, so ${H} is invalid.`;O.errors.push(new t.YAMLSemanticError(F,z))}else if(j==="!"&&!q)V=!0;else try{return En(O,F)}catch(z){O.errors.push(z)}}switch($){case t.Type.BLOCK_FOLDED:case t.Type.BLOCK_LITERAL:case t.Type.QUOTE_DOUBLE:case t.Type.QUOTE_SINGLE:return t.defaultTags.STR;case t.Type.FLOW_MAP:case t.Type.MAP:return t.defaultTags.MAP;case t.Type.FLOW_SEQ:case t.Type.SEQ:return t.defaultTags.SEQ;case t.Type.PLAIN:return V?t.defaultTags.STR:null;default:return null}}function oi(O,F,R){let{tags:$}=O.schema,V=[];for(let q of $)if(q.tag===R)if(q.test)V.push(q);else{let H=q.resolve(O,F);return H instanceof u?H:new o(H)}let j=Vt(O,F);return typeof j=="string"&&V.length>0?D(j,V,$.scalarFallback):null}function Qo({type:O}){switch(O){case t.Type.FLOW_MAP:case t.Type.MAP:return t.defaultTags.MAP;case t.Type.FLOW_SEQ:case t.Type.SEQ:return t.defaultTags.SEQ;default:return t.defaultTags.STR}}function u6(O,F,R){try{let $=oi(O,F,R);if($)return R&&F.tag&&($.tag=R),$}catch($){return $.source||($.source=F),O.errors.push($),null}try{let $=Qo(F);if(!$)throw new Error(`The tag ${R} is unavailable`);let V=`The tag ${R} is unavailable, falling back to ${$}`;O.warnings.push(new t.YAMLWarning(F,V));let j=oi(O,F,$);return j.tag=R,j}catch($){let V=new t.YAMLReferenceError(F,$.message);return V.stack=$.stack,O.errors.push(V),null}}var c6=O=>{if(!O)return!1;let{type:F}=O;return F===t.Type.MAP_KEY||F===t.Type.MAP_VALUE||F===t.Type.SEQ_ITEM};function f6(O,F){let R={before:[],after:[]},$=!1,V=!1,j=c6(F.context.parent)?F.context.parent.props.concat(F.props):F.props;for(let{start:q,end:H}of j)switch(F.context.src[q]){case t.Char.COMMENT:{if(!F.commentHasRequiredWhitespace(q)){let Z="Comments must be separated from other tokens by white space characters";O.push(new t.YAMLSemanticError(F,Z))}let{header:z,valueRange:K}=F;(K&&(q>K.start||z&&q>z.start)?R.after:R.before).push(F.context.src.slice(q+1,H));break}case t.Char.ANCHOR:if($){let z="A node can have at most one anchor";O.push(new t.YAMLSemanticError(F,z))}$=!0;break;case t.Char.TAG:if(V){let z="A node can have at most one tag";O.push(new t.YAMLSemanticError(F,z))}V=!0;break}return{comments:R,hasAnchor:$,hasTag:V}}function h6(O,F){let{anchors:R,errors:$,schema:V}=O;if(F.type===t.Type.ALIAS){let q=F.rawValue,H=R.getNode(q);if(!H){let K=`Aliased anchor not found: ${q}`;return $.push(new t.YAMLReferenceError(F,K)),null}let z=new A(H);return R._cstAliases.push(z),z}let j=tn(O,F);if(j)return u6(O,F,j);if(F.type!==t.Type.PLAIN){let q=`Failed to resolve ${F.type} node here`;return $.push(new t.YAMLSyntaxError(F,q)),null}try{let q=Vt(O,F);return D(q,V.tags,V.tags.scalarFallback)}catch(q){return q.source||(q.source=F),$.push(q),null}}function qn(O,F){if(!F)return null;F.error&&O.errors.push(F.error);let{comments:R,hasAnchor:$,hasTag:V}=f6(O.errors,F);if($){let{anchors:q}=O,H=F.anchor,z=q.getNode(H);z&&(q.map[q.newName(H)]=z),q.map[H]=F}if(F.type===t.Type.ALIAS&&($||V)){let q="An alias node must not specify any properties";O.errors.push(new t.YAMLSemanticError(F,q))}let j=h6(O,F);if(j){j.range=[F.range.start,F.range.end],O.options.keepCstNodes&&(j.cstNode=F),O.options.keepNodeTypes&&(j.type=F.type);let q=R.before.join(`
`);q&&(j.commentBefore=j.commentBefore?`${j.commentBefore}
${q}`:q);let H=R.after.join(`
`);H&&(j.comment=j.comment?`${j.comment}
${H}`:H)}return F.resolved=j}function d6(O,F){if(F.type!==t.Type.MAP&&F.type!==t.Type.FLOW_MAP){let q=`A ${F.type} node cannot be resolved as a mapping`;return O.errors.push(new t.YAMLSyntaxError(F,q)),null}let{comments:R,items:$}=F.type===t.Type.FLOW_MAP?b6(O,F):p6(O,F),V=new N;V.items=$,ct(V,R);let j=!1;for(let q=0;q<$.length;++q){let{key:H}=$[q];if(H instanceof u&&(j=!0),O.schema.merge&&H&&H.value===k){$[q]=new b($[q]);let z=$[q].value.items,K=null;z.some(Z=>{if(Z instanceof A){let{type:ne}=Z.source;return ne===t.Type.MAP||ne===t.Type.FLOW_MAP?!1:K="Merge nodes aliases can only point to maps"}return K="Merge nodes can only have Alias nodes as values"}),K&&O.errors.push(new t.YAMLSemanticError(F,K))}else for(let z=q+1;z<$.length;++z){let{key:K}=$[z];if(H===K||H&&K&&Object.prototype.hasOwnProperty.call(H,"value")&&H.value===K.value){let Z=`Map keys must be unique; "${H}" is repeated`;O.errors.push(new t.YAMLSemanticError(F,Z));break}}}if(j&&!O.options.mapAsMap){let q="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";O.warnings.push(new t.YAMLWarning(F,q))}return F.resolved=V,V}var m6=({context:{lineStart:O,node:F,src:R},props:$})=>{if($.length===0)return!1;let{start:V}=$[0];if(F&&V>F.valueRange.start||R[V]!==t.Char.COMMENT)return!1;for(let j=O;j<V;++j)if(R[j]===`
`)return!1;return!0};function g6(O,F){if(!m6(O))return;let R=O.getPropValue(0,t.Char.COMMENT,!0),$=!1,V=F.value.commentBefore;if(V&&V.startsWith(R))F.value.commentBefore=V.substr(R.length+1),$=!0;else{let j=F.value.comment;!O.node&&j&&j.startsWith(R)&&(F.value.comment=j.substr(R.length+1),$=!0)}$&&(F.comment=R)}function p6(O,F){let R=[],$=[],V,j=null;for(let q=0;q<F.items.length;++q){let H=F.items[q];switch(H.type){case t.Type.BLANK_LINE:R.push({afterKey:!!V,before:$.length});break;case t.Type.COMMENT:R.push({afterKey:!!V,before:$.length,comment:H.comment});break;case t.Type.MAP_KEY:V!==void 0&&$.push(new g(V)),H.error&&O.errors.push(H.error),V=qn(O,H.node),j=null;break;case t.Type.MAP_VALUE:{if(V===void 0&&(V=null),H.error&&O.errors.push(H.error),!H.context.atLineStart&&H.node&&H.node.type===t.Type.MAP&&!H.node.context.atLineStart){let Z="Nested mappings are not allowed in compact mappings";O.errors.push(new t.YAMLSemanticError(H.node,Z))}let z=H.node;if(!z&&H.props.length>0){z=new t.PlainValue(t.Type.PLAIN,[]),z.context={parent:H,src:H.context.src};let Z=H.range.start+1;if(z.range={start:Z,end:Z},z.valueRange={start:Z,end:Z},typeof H.range.origStart=="number"){let ne=H.range.origStart+1;z.range.origStart=z.range.origEnd=ne,z.valueRange.origStart=z.valueRange.origEnd=ne}}let K=new g(V,qn(O,z));g6(H,K),$.push(K),V&&typeof j=="number"&&H.range.start>j+1024&&O.errors.push(ie(F,V)),V=void 0,j=null}break;default:V!==void 0&&$.push(new g(V)),V=qn(O,H),j=H.range.start,H.error&&O.errors.push(H.error);e:for(let z=q+1;;++z){let K=F.items[z];switch(K&&K.type){case t.Type.BLANK_LINE:case t.Type.COMMENT:continue e;case t.Type.MAP_VALUE:break e;default:{let Z="Implicit map keys need to be followed by map values";O.errors.push(new t.YAMLSemanticError(H,Z));break e}}}if(H.valueRangeContainsNewline){let z="Implicit map keys need to be on a single line";O.errors.push(new t.YAMLSemanticError(H,z))}}}return V!==void 0&&$.push(new g(V)),{comments:R,items:$}}function b6(O,F){let R=[],$=[],V,j=!1,q="{";for(let H=0;H<F.items.length;++H){let z=F.items[H];if(typeof z.char=="string"){let{char:K,offset:Z}=z;if(K==="?"&&V===void 0&&!j){j=!0,q=":";continue}if(K===":"){if(V===void 0&&(V=null),q===":"){q=",";continue}}else if(j&&(V===void 0&&K!==","&&(V=null),j=!1),V!==void 0&&($.push(new g(V)),V=void 0,K===",")){q=":";continue}if(K==="}"){if(H===F.items.length-1)continue}else if(K===q){q=":";continue}let ne=`Flow map contains an unexpected ${K}`,xe=new t.YAMLSyntaxError(F,ne);xe.offset=Z,O.errors.push(xe)}else z.type===t.Type.BLANK_LINE?R.push({afterKey:!!V,before:$.length}):z.type===t.Type.COMMENT?(te(O.errors,z),R.push({afterKey:!!V,before:$.length,comment:z.comment})):V===void 0?(q===","&&O.errors.push(new t.YAMLSemanticError(z,"Separator , missing in flow map")),V=qn(O,z)):(q!==","&&O.errors.push(new t.YAMLSemanticError(z,"Indicator : missing in flow map entry")),$.push(new g(V,qn(O,z))),V=void 0,j=!1)}return Q(O.errors,F),V!==void 0&&$.push(new g(V)),{comments:R,items:$}}function y6(O,F){if(F.type!==t.Type.SEQ&&F.type!==t.Type.FLOW_SEQ){let j=`A ${F.type} node cannot be resolved as a sequence`;return O.errors.push(new t.YAMLSyntaxError(F,j)),null}let{comments:R,items:$}=F.type===t.Type.FLOW_SEQ?D6(O,F):v6(O,F),V=new c;if(V.items=$,ct(V,R),!O.options.mapAsMap&&$.some(j=>j instanceof g&&j.key instanceof u)){let j="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";O.warnings.push(new t.YAMLWarning(F,j))}return F.resolved=V,V}function v6(O,F){let R=[],$=[];for(let V=0;V<F.items.length;++V){let j=F.items[V];switch(j.type){case t.Type.BLANK_LINE:R.push({before:$.length});break;case t.Type.COMMENT:R.push({comment:j.comment,before:$.length});break;case t.Type.SEQ_ITEM:if(j.error&&O.errors.push(j.error),$.push(qn(O,j.node)),j.hasProps){let q="Sequence items cannot have tags or anchors before the - indicator";O.errors.push(new t.YAMLSemanticError(j,q))}break;default:j.error&&O.errors.push(j.error),O.errors.push(new t.YAMLSyntaxError(j,`Unexpected ${j.type} node in sequence`))}}return{comments:R,items:$}}function D6(O,F){let R=[],$=[],V=!1,j,q=null,H="[",z=null;for(let K=0;K<F.items.length;++K){let Z=F.items[K];if(typeof Z.char=="string"){let{char:ne,offset:xe}=Z;if(ne!==":"&&(V||j!==void 0)&&(V&&j===void 0&&(j=H?$.pop():null),$.push(new g(j)),V=!1,j=void 0,q=null),ne===H)H=null;else if(!H&&ne==="?")V=!0;else if(H!=="["&&ne===":"&&j===void 0){if(H===","){if(j=$.pop(),j instanceof g){let ce="Chaining flow sequence pairs is invalid",Le=new t.YAMLSemanticError(F,ce);Le.offset=xe,O.errors.push(Le)}if(!V&&typeof q=="number"){let ce=Z.range?Z.range.start:Z.offset;ce>q+1024&&O.errors.push(ie(F,j));let{src:Le}=z.context;for(let de=q;de<ce;++de)if(Le[de]===`
`){let Ee="Implicit keys of flow sequence pairs need to be on a single line";O.errors.push(new t.YAMLSemanticError(z,Ee));break}}}else j=null;q=null,V=!1,H=null}else if(H==="["||ne!=="]"||K<F.items.length-1){let ce=`Flow sequence contains an unexpected ${ne}`,Le=new t.YAMLSyntaxError(F,ce);Le.offset=xe,O.errors.push(Le)}}else if(Z.type===t.Type.BLANK_LINE)R.push({before:$.length});else if(Z.type===t.Type.COMMENT)te(O.errors,Z),R.push({comment:Z.comment,before:$.length});else{if(H){let xe=`Expected a ${H} in flow sequence`;O.errors.push(new t.YAMLSemanticError(Z,xe))}let ne=qn(O,Z);j===void 0?($.push(ne),z=Z):($.push(new g(j,ne)),j=void 0),q=Z.range.start,H=","}}return Q(O.errors,F),j!==void 0&&$.push(new g(j)),{comments:R,items:$}}e.Alias=A,e.Collection=u,e.Merge=b,e.Node=s,e.Pair=g,e.Scalar=o,e.YAMLMap=N,e.YAMLSeq=c,e.addComment=r,e.binaryOptions=p,e.boolOptions=h,e.findPair=E,e.intOptions=d,e.isEmptyPath=l,e.nullOptions=y,e.resolveMap=d6,e.resolveNode=qn,e.resolveSeq=y6,e.resolveString=Vt,e.strOptions=S,e.stringifyNumber=X,e.stringifyString=Y,e.toJSON=i}),g1=dn(e=>{var t=Zn(),n=Vs(),r={identify:D=>D instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(D,x)=>{let C=n.resolveString(D,x);if(typeof Buffer=="function")return Buffer.from(C,"base64");if(typeof atob=="function"){let L=atob(C.replace(/[\n\r]/g,"")),_=new Uint8Array(L.length);for(let T=0;T<L.length;++T)_[T]=L.charCodeAt(T);return _}else{let L="This environment does not support reading binary tags; either Buffer or atob is required";return D.errors.push(new t.YAMLReferenceError(x,L)),null}},options:n.binaryOptions,stringify:({comment:D,type:x,value:C},L,_,T)=>{let M;if(typeof Buffer=="function")M=C instanceof Buffer?C.toString("base64"):Buffer.from(C.buffer).toString("base64");else if(typeof btoa=="function"){let P="";for(let B=0;B<C.length;++B)P+=String.fromCharCode(C[B]);M=btoa(P)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(x||(x=n.binaryOptions.defaultType),x===t.Type.QUOTE_DOUBLE)C=M;else{let{lineWidth:P}=n.binaryOptions,B=Math.ceil(M.length/P),W=new Array(B);for(let G=0,J=0;G<B;++G,J+=P)W[G]=M.substr(J,P);C=W.join(x===t.Type.BLOCK_LITERAL?`
`:" ")}return n.stringifyString({comment:D,type:x,value:C},L,_,T)}};function s(D,x){let C=n.resolveSeq(D,x);for(let L=0;L<C.items.length;++L){let _=C.items[L];if(!(_ instanceof n.Pair)){if(_ instanceof n.YAMLMap){if(_.items.length>1){let M="Each pair must have its own sequence indicator";throw new t.YAMLSemanticError(x,M)}let T=_.items[0]||new n.Pair;_.commentBefore&&(T.commentBefore=T.commentBefore?`${_.commentBefore}
${T.commentBefore}`:_.commentBefore),_.comment&&(T.comment=T.comment?`${_.comment}
${T.comment}`:_.comment),_=T}C.items[L]=_ instanceof n.Pair?_:new n.Pair(_)}}return C}function i(D,x,C){let L=new n.YAMLSeq(D);L.tag="tag:yaml.org,2002:pairs";for(let _ of x){let T,M;if(Array.isArray(_))if(_.length===2)T=_[0],M=_[1];else throw new TypeError(`Expected [key, value] tuple: ${_}`);else if(_&&_ instanceof Object){let B=Object.keys(_);if(B.length===1)T=B[0],M=_[T];else throw new TypeError(`Expected { key: value } tuple: ${_}`)}else T=_;let P=D.createPair(T,M,C);L.items.push(P)}return L}var o={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:s,createNode:i},a=class m0 extends n.YAMLSeq{constructor(){super(),t._defineProperty(this,"add",n.YAMLMap.prototype.add.bind(this)),t._defineProperty(this,"delete",n.YAMLMap.prototype.delete.bind(this)),t._defineProperty(this,"get",n.YAMLMap.prototype.get.bind(this)),t._defineProperty(this,"has",n.YAMLMap.prototype.has.bind(this)),t._defineProperty(this,"set",n.YAMLMap.prototype.set.bind(this)),this.tag=m0.tag}toJSON(x,C){let L=new Map;C&&C.onCreate&&C.onCreate(L);for(let _ of this.items){let T,M;if(_ instanceof n.Pair?(T=n.toJSON(_.key,"",C),M=n.toJSON(_.value,T,C)):T=n.toJSON(_,"",C),L.has(T))throw new Error("Ordered maps must not include duplicate keys");L.set(T,M)}return L}};t._defineProperty(a,"tag","tag:yaml.org,2002:omap");function l(D,x){let C=s(D,x),L=[];for(let{key:_}of C.items)if(_ instanceof n.Scalar)if(L.includes(_.value)){let T="Ordered maps must not include duplicate keys";throw new t.YAMLSemanticError(x,T)}else L.push(_.value);return Object.assign(new a,C)}function u(D,x,C){let L=i(D,x,C),_=new a;return _.items=L.items,_}var f={identify:D=>D instanceof Map,nodeClass:a,default:!1,tag:"tag:yaml.org,2002:omap",resolve:l,createNode:u},c=class g0 extends n.YAMLMap{constructor(){super(),this.tag=g0.tag}add(x){let C=x instanceof n.Pair?x:new n.Pair(x);n.findPair(this.items,C.key)||this.items.push(C)}get(x,C){let L=n.findPair(this.items,x);return!C&&L instanceof n.Pair?L.key instanceof n.Scalar?L.key.value:L.key:L}set(x,C){if(typeof C!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof C}`);let L=n.findPair(this.items,x);L&&!C?this.items.splice(this.items.indexOf(L),1):!L&&C&&this.items.push(new n.Pair(x))}toJSON(x,C){return super.toJSON(x,C,Set)}toString(x,C,L){if(!x)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(x,C,L);throw new Error("Set items must all have null values")}};t._defineProperty(c,"tag","tag:yaml.org,2002:set");function m(D,x){let C=n.resolveMap(D,x);if(!C.hasAllNullValues())throw new t.YAMLSemanticError(x,"Set items must all have null values");return Object.assign(new c,C)}function g(D,x,C){let L=new c;for(let _ of x)L.items.push(D.createPair(_,null,C));return L}var w={identify:D=>D instanceof Set,nodeClass:c,default:!1,tag:"tag:yaml.org,2002:set",resolve:m,createNode:g},A=(D,x)=>{let C=x.split(":").reduce((L,_)=>L*60+Number(_),0);return D==="-"?-C:C},E=({value:D})=>{if(isNaN(D)||!isFinite(D))return n.stringifyNumber(D);let x="";D<0&&(x="-",D=Math.abs(D));let C=[D%60];return D<60?C.unshift(0):(D=Math.round((D-C[0])/60),C.unshift(D%60),D>=60&&(D=Math.round((D-C[0])/60),C.unshift(D))),x+C.map(L=>L<10?"0"+String(L):String(L)).join(":").replace(/000000\d*$/,"")},N={identify:D=>typeof D=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(D,x,C)=>A(x,C.replace(/_/g,"")),stringify:E},k={identify:D=>typeof D=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(D,x,C)=>A(x,C.replace(/_/g,"")),stringify:E},b={identify:D=>D instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(D,x,C,L,_,T,M,P,B)=>{P&&(P=(P+"00").substr(1,3));let W=Date.UTC(x,C-1,L,_||0,T||0,M||0,P||0);if(B&&B!=="Z"){let G=A(B[0],B.slice(1));Math.abs(G)<30&&(G*=60),W-=6e4*G}return new Date(W)},stringify:({value:D})=>D.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function p(D){let x={};return D?typeof YAML_SILENCE_DEPRECATION_WARNINGS<"u"?!YAML_SILENCE_DEPRECATION_WARNINGS:!x.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS<"u"?!YAML_SILENCE_WARNINGS:!x.YAML_SILENCE_WARNINGS}function h(D,x){p(!1)&&console.warn(x?`${x}: ${D}`:D)}function d(D){if(p(!0)){let x=D.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");h(`The endpoint 'yaml/${x}' will be removed in a future release.`,"DeprecationWarning")}}var y={};function S(D,x){if(!y[D]&&p(!0)){y[D]=!0;let C=`The option '${D}' will be removed in a future release`;C+=x?`, use '${x}' instead.`:".",h(C,"DeprecationWarning")}}e.binary=r,e.floatTime=k,e.intTime=N,e.omap=f,e.pairs=o,e.set=w,e.timestamp=b,e.warn=h,e.warnFileDeprecation=d,e.warnOptionDeprecation=S}),p1=dn(e=>{var t=Zn(),n=Vs(),r=g1();function s(I,Y,X){let Q=new n.YAMLMap(I);if(Y instanceof Map)for(let[te,ie]of Y)Q.items.push(I.createPair(te,ie,X));else if(Y&&typeof Y=="object")for(let te of Object.keys(Y))Q.items.push(I.createPair(te,Y[te],X));return typeof I.sortMapEntries=="function"&&Q.items.sort(I.sortMapEntries),Q}var i={createNode:s,default:!0,nodeClass:n.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:n.resolveMap};function o(I,Y,X){let Q=new n.YAMLSeq(I);if(Y&&Y[Symbol.iterator])for(let te of Y){let ie=I.createNode(te,X.wrapScalars,null,X);Q.items.push(ie)}return Q}var a={createNode:o,default:!0,nodeClass:n.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:n.resolveSeq},l={identify:I=>typeof I=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n.resolveString,stringify(I,Y,X,Q){return Y=Object.assign({actualString:!0},Y),n.stringifyString(I,Y,X,Q)},options:n.strOptions},u=[i,a,l],f=I=>typeof I=="bigint"||Number.isInteger(I),c=(I,Y,X)=>n.intOptions.asBigInt?BigInt(I):parseInt(Y,X);function m(I,Y,X){let{value:Q}=I;return f(Q)&&Q>=0?X+Q.toString(Y):n.stringifyNumber(I)}var g={identify:I=>I==null,createNode:(I,Y,X)=>X.wrapScalars?new n.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:n.nullOptions,stringify:()=>n.nullOptions.nullStr},w={identify:I=>typeof I=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:I=>I[0]==="t"||I[0]==="T",options:n.boolOptions,stringify:({value:I})=>I?n.boolOptions.trueStr:n.boolOptions.falseStr},A={identify:I=>f(I)&&I>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(I,Y)=>c(I,Y,8),options:n.intOptions,stringify:I=>m(I,8,"0o")},E={identify:f,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:I=>c(I,I,10),options:n.intOptions,stringify:n.stringifyNumber},N={identify:I=>f(I)&&I>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(I,Y)=>c(I,Y,16),options:n.intOptions,stringify:I=>m(I,16,"0x")},k={identify:I=>typeof I=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(I,Y)=>Y?NaN:I[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:n.stringifyNumber},b={identify:I=>typeof I=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:I=>parseFloat(I),stringify:({value:I})=>Number(I).toExponential()},p={identify:I=>typeof I=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(I,Y,X){let Q=Y||X,te=new n.Scalar(parseFloat(I));return Q&&Q[Q.length-1]==="0"&&(te.minFractionDigits=Q.length),te},stringify:n.stringifyNumber},h=u.concat([g,w,A,E,N,k,b,p]),d=I=>typeof I=="bigint"||Number.isInteger(I),y=({value:I})=>JSON.stringify(I),S=[i,a,{identify:I=>typeof I=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n.resolveString,stringify:y},{identify:I=>I==null,createNode:(I,Y,X)=>X.wrapScalars?new n.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:y},{identify:I=>typeof I=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:I=>I==="true",stringify:y},{identify:d,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:I=>n.intOptions.asBigInt?BigInt(I):parseInt(I,10),stringify:({value:I})=>d(I)?I.toString():JSON.stringify(I)},{identify:I=>typeof I=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:I=>parseFloat(I),stringify:y}];S.scalarFallback=I=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(I)}`)};var D=({value:I})=>I?n.boolOptions.trueStr:n.boolOptions.falseStr,x=I=>typeof I=="bigint"||Number.isInteger(I);function C(I,Y,X){let Q=Y.replace(/_/g,"");if(n.intOptions.asBigInt){switch(X){case 2:Q=`0b${Q}`;break;case 8:Q=`0o${Q}`;break;case 16:Q=`0x${Q}`;break}let ie=BigInt(Q);return I==="-"?BigInt(-1)*ie:ie}let te=parseInt(Q,X);return I==="-"?-1*te:te}function L(I,Y,X){let{value:Q}=I;if(x(Q)){let te=Q.toString(Y);return Q<0?"-"+X+te.substr(1):X+te}return n.stringifyNumber(I)}var _=u.concat([{identify:I=>I==null,createNode:(I,Y,X)=>X.wrapScalars?new n.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:n.nullOptions,stringify:()=>n.nullOptions.nullStr},{identify:I=>typeof I=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:n.boolOptions,stringify:D},{identify:I=>typeof I=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:n.boolOptions,stringify:D},{identify:x,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(I,Y,X)=>C(Y,X,2),stringify:I=>L(I,2,"0b")},{identify:x,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(I,Y,X)=>C(Y,X,8),stringify:I=>L(I,8,"0")},{identify:x,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(I,Y,X)=>C(Y,X,10),stringify:n.stringifyNumber},{identify:x,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(I,Y,X)=>C(Y,X,16),stringify:I=>L(I,16,"0x")},{identify:I=>typeof I=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(I,Y)=>Y?NaN:I[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:n.stringifyNumber},{identify:I=>typeof I=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:I=>parseFloat(I.replace(/_/g,"")),stringify:({value:I})=>Number(I).toExponential()},{identify:I=>typeof I=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(I,Y){let X=new n.Scalar(parseFloat(I.replace(/_/g,"")));if(Y){let Q=Y.replace(/_/g,"");Q[Q.length-1]==="0"&&(X.minFractionDigits=Q.length)}return X},stringify:n.stringifyNumber}],r.binary,r.omap,r.pairs,r.set,r.intTime,r.floatTime,r.timestamp),T={core:h,failsafe:u,json:S,yaml11:_},M={binary:r.binary,bool:w,float:p,floatExp:b,floatNaN:k,floatTime:r.floatTime,int:E,intHex:N,intOct:A,intTime:r.intTime,map:i,null:g,omap:r.omap,pairs:r.pairs,seq:a,set:r.set,timestamp:r.timestamp};function P(I,Y,X){if(Y){let Q=X.filter(ie=>ie.tag===Y),te=Q.find(ie=>!ie.format)||Q[0];if(!te)throw new Error(`Tag ${Y} not found`);return te}return X.find(Q=>(Q.identify&&Q.identify(I)||Q.class&&I instanceof Q.class)&&!Q.format)}function B(I,Y,X){if(I instanceof n.Node)return I;let{defaultPrefix:Q,onTagObj:te,prevObjects:ie,schema:ct,wrapScalars:Vt}=X;Y&&Y.startsWith("!!")&&(Y=Q+Y.slice(2));let En=P(I,Y,ct.tags);if(!En){if(typeof I.toJSON=="function"&&(I=I.toJSON()),!I||typeof I!="object")return Vt?new n.Scalar(I):I;En=I instanceof Map?i:I[Symbol.iterator]?a:i}te&&(te(En),delete X.onTagObj);let tn={value:void 0,node:void 0};if(I&&typeof I=="object"&&ie){let oi=ie.get(I);if(oi){let Qo=new n.Alias(oi);return X.aliasNodes.push(Qo),Qo}tn.value=I,ie.set(I,tn)}return tn.node=En.createNode?En.createNode(X.schema,I,X):Vt?new n.Scalar(I):I,Y&&tn.node instanceof n.Node&&(tn.node.tag=Y),tn.node}function W(I,Y,X,Q){let te=I[Q.replace(/\W/g,"")];if(!te){let ie=Object.keys(I).map(ct=>JSON.stringify(ct)).join(", ");throw new Error(`Unknown schema "${Q}"; use one of ${ie}`)}if(Array.isArray(X))for(let ie of X)te=te.concat(ie);else typeof X=="function"&&(te=X(te.slice()));for(let ie=0;ie<te.length;++ie){let ct=te[ie];if(typeof ct=="string"){let Vt=Y[ct];if(!Vt){let En=Object.keys(Y).map(tn=>JSON.stringify(tn)).join(", ");throw new Error(`Unknown custom tag "${ct}"; use one of ${En}`)}te[ie]=Vt}}return te}var G=(I,Y)=>I.key<Y.key?-1:I.key>Y.key?1:0,J=class p0{constructor({customTags:Y,merge:X,schema:Q,sortMapEntries:te,tags:ie}){this.merge=!!X,this.name=Q,this.sortMapEntries=te===!0?G:te||null,!Y&&ie&&r.warnOptionDeprecation("tags","customTags"),this.tags=W(T,M,Y||ie,Q)}createNode(Y,X,Q,te){let ie={defaultPrefix:p0.defaultPrefix,schema:this,wrapScalars:X},ct=te?Object.assign(te,ie):ie;return B(Y,Q,ct)}createPair(Y,X,Q){Q||(Q={wrapScalars:!0});let te=this.createNode(Y,Q.wrapScalars,null,Q),ie=this.createNode(X,Q.wrapScalars,null,Q);return new n.Pair(te,ie)}};t._defineProperty(J,"defaultPrefix",t.defaultTagPrefix),t._defineProperty(J,"defaultTags",t.defaultTags),e.Schema=J}),k2=dn(e=>{var t=Zn(),n=Vs(),r=p1(),s={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},i={get binary(){return n.binaryOptions},set binary(p){Object.assign(n.binaryOptions,p)},get bool(){return n.boolOptions},set bool(p){Object.assign(n.boolOptions,p)},get int(){return n.intOptions},set int(p){Object.assign(n.intOptions,p)},get null(){return n.nullOptions},set null(p){Object.assign(n.nullOptions,p)},get str(){return n.strOptions},set str(p){Object.assign(n.strOptions,p)}},o={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:t.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:t.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:t.defaultTagPrefix}]}};function a(p,h){if((p.version||p.options.version)==="1.0"){let S=h.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(S)return"!"+S[1];let D=h.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return D?`!${D[1]}/${D[2]}`:`!${h.replace(/^tag:/,"")}`}let d=p.tagPrefixes.find(S=>h.indexOf(S.prefix)===0);if(!d){let S=p.getDefaults().tagPrefixes;d=S&&S.find(D=>h.indexOf(D.prefix)===0)}if(!d)return h[0]==="!"?h:`!<${h}>`;let y=h.substr(d.prefix.length).replace(/[!,[\]{}]/g,S=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[S]);return d.handle+y}function l(p,h){if(h instanceof n.Alias)return n.Alias;if(h.tag){let S=p.filter(D=>D.tag===h.tag);if(S.length>0)return S.find(D=>D.format===h.format)||S[0]}let d,y;if(h instanceof n.Scalar){y=h.value;let S=p.filter(D=>D.identify&&D.identify(y)||D.class&&y instanceof D.class);d=S.find(D=>D.format===h.format)||S.find(D=>!D.format)}else y=h,d=p.find(S=>S.nodeClass&&y instanceof S.nodeClass);if(!d){let S=y&&y.constructor?y.constructor.name:typeof y;throw new Error(`Tag not resolved for ${S} value`)}return d}function u(p,h,{anchors:d,doc:y}){let S=[],D=y.anchors.getName(p);return D&&(d[D]=p,S.push(`&${D}`)),p.tag?S.push(a(y,p.tag)):h.default||S.push(a(y,h.tag)),S.join(" ")}function f(p,h,d,y){let{anchors:S,schema:D}=h.doc,x;if(!(p instanceof n.Node)){let _={aliasNodes:[],onTagObj:T=>x=T,prevObjects:new Map};p=D.createNode(p,!0,null,_);for(let T of _.aliasNodes){T.source=T.source.node;let M=S.getName(T.source);M||(M=S.newName(),S.map[M]=T.source)}}if(p instanceof n.Pair)return p.toString(h,d,y);x||(x=l(D.tags,p));let C=u(p,x,h);C.length>0&&(h.indentAtStart=(h.indentAtStart||0)+C.length+1);let L=typeof x.stringify=="function"?x.stringify(p,h,d,y):p instanceof n.Scalar?n.stringifyString(p,h,d,y):p.toString(h,d,y);return C?p instanceof n.Scalar||L[0]==="{"||L[0]==="["?`${C} ${L}`:`${C}
${h.indent}${L}`:L}var c=class b0{static validAnchorNode(h){return h instanceof n.Scalar||h instanceof n.YAMLSeq||h instanceof n.YAMLMap}constructor(h){t._defineProperty(this,"map",Object.create(null)),this.prefix=h}createAlias(h,d){return this.setAnchor(h,d),new n.Alias(h)}createMergePair(...h){let d=new n.Merge;return d.value.items=h.map(y=>{if(y instanceof n.Alias){if(y.source instanceof n.YAMLMap)return y}else if(y instanceof n.YAMLMap)return this.createAlias(y);throw new Error("Merge sources must be Map nodes or their Aliases")}),d}getName(h){let{map:d}=this;return Object.keys(d).find(y=>d[y]===h)}getNames(){return Object.keys(this.map)}getNode(h){return this.map[h]}newName(h){h||(h=this.prefix);let d=Object.keys(this.map);for(let y=1;;++y){let S=`${h}${y}`;if(!d.includes(S))return S}}resolveNodes(){let{map:h,_cstAliases:d}=this;Object.keys(h).forEach(y=>{h[y]=h[y].resolved}),d.forEach(y=>{y.source=y.source.resolved}),delete this._cstAliases}setAnchor(h,d){if(h!=null&&!b0.validAnchorNode(h))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(d&&/[\x00-\x19\s,[\]{}]/.test(d))throw new Error("Anchor names must not contain whitespace or control characters");let{map:y}=this,S=h&&Object.keys(y).find(D=>y[D]===h);if(S)if(d)S!==d&&(delete y[S],y[d]=h);else return S;else{if(!d){if(!h)return null;d=this.newName()}y[d]=h}return d}},m=(p,h)=>{if(p&&typeof p=="object"){let{tag:d}=p;p instanceof n.Collection?(d&&(h[d]=!0),p.items.forEach(y=>m(y,h))):p instanceof n.Pair?(m(p.key,h),m(p.value,h)):p instanceof n.Scalar&&d&&(h[d]=!0)}return h},g=p=>Object.keys(m(p,{}));function w(p,h){let d={before:[],after:[]},y,S=!1;for(let D of h)if(D.valueRange){if(y!==void 0){let C="Document contains trailing content not separated by a ... or --- line";p.errors.push(new t.YAMLSyntaxError(D,C));break}let x=n.resolveNode(p,D);S&&(x.spaceBefore=!0,S=!1),y=x}else D.comment!==null?(y===void 0?d.before:d.after).push(D.comment):D.type===t.Type.BLANK_LINE&&(S=!0,y===void 0&&d.before.length>0&&!p.commentBefore&&(p.commentBefore=d.before.join(`
`),d.before=[]));if(p.contents=y||null,!y)p.comment=d.before.concat(d.after).join(`
`)||null;else{let D=d.before.join(`
`);if(D){let x=y instanceof n.Collection&&y.items[0]?y.items[0]:y;x.commentBefore=x.commentBefore?`${D}
${x.commentBefore}`:D}p.comment=d.after.join(`
`)||null}}function A({tagPrefixes:p},h){let[d,y]=h.parameters;if(!d||!y){let S="Insufficient parameters given for %TAG directive";throw new t.YAMLSemanticError(h,S)}if(p.some(S=>S.handle===d)){let S="The %TAG directive must only be given at most once per handle in the same document.";throw new t.YAMLSemanticError(h,S)}return{handle:d,prefix:y}}function E(p,h){let[d]=h.parameters;if(h.name==="YAML:1.0"&&(d="1.0"),!d){let y="Insufficient parameters given for %YAML directive";throw new t.YAMLSemanticError(h,y)}if(!o[d]){let y=`Document will be parsed as YAML ${p.version||p.options.version} rather than YAML ${d}`;p.warnings.push(new t.YAMLWarning(h,y))}return d}function N(p,h,d){let y=[],S=!1;for(let D of h){let{comment:x,name:C}=D;switch(C){case"TAG":try{p.tagPrefixes.push(A(p,D))}catch(L){p.errors.push(L)}S=!0;break;case"YAML":case"YAML:1.0":if(p.version){let L="The %YAML directive must only be given at most once per document.";p.errors.push(new t.YAMLSemanticError(D,L))}try{p.version=E(p,D)}catch(L){p.errors.push(L)}S=!0;break;default:if(C){let L=`YAML only supports %TAG and %YAML directives, and not %${C}`;p.warnings.push(new t.YAMLWarning(D,L))}}x&&y.push(x)}if(d&&!S&&(p.version||d.version||p.options.version)==="1.1"){let D=({handle:x,prefix:C})=>({handle:x,prefix:C});p.tagPrefixes=d.tagPrefixes.map(D),p.version=d.version}p.commentBefore=y.join(`
`)||null}function k(p){if(p instanceof n.Collection)return!0;throw new Error("Expected a YAML collection as document contents")}var b=class sc{constructor(h){this.anchors=new c(h.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=h,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(h){return k(this.contents),this.contents.add(h)}addIn(h,d){k(this.contents),this.contents.addIn(h,d)}delete(h){return k(this.contents),this.contents.delete(h)}deleteIn(h){return n.isEmptyPath(h)?this.contents==null?!1:(this.contents=null,!0):(k(this.contents),this.contents.deleteIn(h))}getDefaults(){return sc.defaults[this.version]||sc.defaults[this.options.version]||{}}get(h,d){return this.contents instanceof n.Collection?this.contents.get(h,d):void 0}getIn(h,d){return n.isEmptyPath(h)?!d&&this.contents instanceof n.Scalar?this.contents.value:this.contents:this.contents instanceof n.Collection?this.contents.getIn(h,d):void 0}has(h){return this.contents instanceof n.Collection?this.contents.has(h):!1}hasIn(h){return n.isEmptyPath(h)?this.contents!==void 0:this.contents instanceof n.Collection?this.contents.hasIn(h):!1}set(h,d){k(this.contents),this.contents.set(h,d)}setIn(h,d){n.isEmptyPath(h)?this.contents=d:(k(this.contents),this.contents.setIn(h,d))}setSchema(h,d){if(!h&&!d&&this.schema)return;typeof h=="number"&&(h=h.toFixed(1)),h==="1.0"||h==="1.1"||h==="1.2"?(this.version?this.version=h:this.options.version=h,delete this.options.schema):h&&typeof h=="string"&&(this.options.schema=h),Array.isArray(d)&&(this.options.customTags=d);let y=Object.assign({},this.getDefaults(),this.options);this.schema=new r.Schema(y)}parse(h,d){this.options.keepCstNodes&&(this.cstNode=h),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:y=[],contents:S=[],directivesEndMarker:D,error:x,valueRange:C}=h;if(x&&(x.source||(x.source=this),this.errors.push(x)),N(this,y,d),D&&(this.directivesEndMarker=!0),this.range=C?[C.start,C.end]:null,this.setSchema(),this.anchors._cstAliases=[],w(this,S),this.anchors.resolveNodes(),this.options.prettyErrors){for(let L of this.errors)L instanceof t.YAMLError&&L.makePretty();for(let L of this.warnings)L instanceof t.YAMLError&&L.makePretty()}return this}listNonDefaultTags(){return g(this.contents).filter(h=>h.indexOf(r.Schema.defaultPrefix)!==0)}setTagPrefix(h,d){if(h[0]!=="!"||h[h.length-1]!=="!")throw new Error("Handle must start and end with !");if(d){let y=this.tagPrefixes.find(S=>S.handle===h);y?y.prefix=d:this.tagPrefixes.push({handle:h,prefix:d})}else this.tagPrefixes=this.tagPrefixes.filter(y=>y.handle!==h)}toJSON(h,d){let{keepBlobsInJSON:y,mapAsMap:S,maxAliasCount:D}=this.options,x=y&&(typeof h!="string"||!(this.contents instanceof n.Scalar)),C={doc:this,indentStep:"  ",keep:x,mapAsMap:x&&!!S,maxAliasCount:D,stringify:f},L=Object.keys(this.anchors.map);L.length>0&&(C.anchors=new Map(L.map(T=>[this.anchors.map[T],{alias:[],aliasCount:0,count:1}])));let _=n.toJSON(this.contents,h,C);if(typeof d=="function"&&C.anchors)for(let{count:T,res:M}of C.anchors.values())d(M,T);return _}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let h=this.options.indent;if(!Number.isInteger(h)||h<=0){let L=JSON.stringify(h);throw new Error(`"indent" option must be a positive integer, not ${L}`)}this.setSchema();let d=[],y=!1;if(this.version){let L="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?L="%YAML:1.0":this.version==="1.1"&&(L="%YAML 1.1")),d.push(L),y=!0}let S=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:L,prefix:_})=>{S.some(T=>T.indexOf(_)===0)&&(d.push(`%TAG ${L} ${_}`),y=!0)}),(y||this.directivesEndMarker)&&d.push("---"),this.commentBefore&&((y||!this.directivesEndMarker)&&d.unshift(""),d.unshift(this.commentBefore.replace(/^/gm,"#")));let D={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(h),stringify:f},x=!1,C=null;if(this.contents){this.contents instanceof n.Node&&(this.contents.spaceBefore&&(y||this.directivesEndMarker)&&d.push(""),this.contents.commentBefore&&d.push(this.contents.commentBefore.replace(/^/gm,"#")),D.forceBlockIndent=!!this.comment,C=this.contents.comment);let L=C?null:()=>x=!0,_=f(this.contents,D,()=>C=null,L);d.push(n.addComment(_,"",C))}else this.contents!==void 0&&d.push(f(this.contents,D));return this.comment&&((!x||C)&&d[d.length-1]!==""&&d.push(""),d.push(this.comment.replace(/^/gm,"#"))),d.join(`
`)+`
`}};t._defineProperty(b,"defaults",o),e.Document=b,e.defaultOptions=s,e.scalarOptions=i}),F2=dn(e=>{var t=C2(),n=k2(),r=p1(),s=Zn(),i=g1();Vs();function o(g,w=!0,A){A===void 0&&typeof w=="string"&&(A=w,w=!0);let E=Object.assign({},n.Document.defaults[n.defaultOptions.version],n.defaultOptions);return new r.Schema(E).createNode(g,w,A)}var a=class extends n.Document{constructor(g){super(Object.assign({},n.defaultOptions,g))}};function l(g,w){let A=[],E;for(let N of t.parse(g)){let k=new a(w);k.parse(N,E),A.push(k),E=k}return A}function u(g,w){let A=t.parse(g),E=new a(w).parse(A[0]);if(A.length>1){let N="Source contains multiple documents; please use YAML.parseAllDocuments()";E.errors.unshift(new s.YAMLSemanticError(A[1],N))}return E}function f(g,w){let A=u(g,w);if(A.warnings.forEach(E=>i.warn(E)),A.errors.length>0)throw A.errors[0];return A.toJSON()}function c(g,w){let A=new a(w);return A.contents=g,String(A)}var m={createNode:o,defaultOptions:n.defaultOptions,Document:a,parse:f,parseAllDocuments:l,parseCST:t.parse,parseDocument:u,scalarOptions:n.scalarOptions,stringify:c};e.YAML=m}),_2=dn((e,t)=>{t.exports=F2().YAML}),T2=dn(e=>{var t=Vs(),n=Zn();e.findPair=t.findPair,e.parseMap=t.resolveMap,e.parseSeq=t.resolveSeq,e.stringifyNumber=t.stringifyNumber,e.stringifyString=t.stringifyString,e.toJSON=t.toJSON,e.Type=n.Type,e.YAMLError=n.YAMLError,e.YAMLReferenceError=n.YAMLReferenceError,e.YAMLSemanticError=n.YAMLSemanticError,e.YAMLSyntaxError=n.YAMLSyntaxError,e.YAMLWarning=n.YAMLWarning}),b1={};d1(b1,{languages:()=>H1,options:()=>Y1,parsers:()=>eu,printers:()=>fm});var M2=(e,t,n,r)=>{if(!(e&&t==null))return t.replaceAll?t.replaceAll(n,r):n.global?t.replace(n,r):t.split(n).join(r)},Bl=M2,y1="string",v1="array",D1="cursor",w1="indent",Vl="align",S1="trim",jl="group",Ul="fill",ql="if-break",E1="indent-if-break",Wl="line-suffix",A1="line-suffix-boundary",Kr="line",N1="label",Hl="break-parent",x1=new Set([D1,w1,Vl,S1,jl,Ul,ql,E1,Wl,A1,Kr,N1,Hl]),O2=(e,t,n)=>{if(!(e&&t==null))return Array.isArray(t)||typeof t=="string"?t[n<0?t.length+n:n]:t.at(n)},xt=O2;function R2(e){if(typeof e=="string")return y1;if(Array.isArray(e))return v1;if(!e)return;let{type:t}=e;if(x1.has(t))return t}var L1=R2,P2=e=>new Intl.ListFormat("en-US",{type:"disjunction"}).format(e);function $2(e){let t=e===null?"null":typeof e;if(t!=="string"&&t!=="object")return`Unexpected doc '${t}', 
Expected it to be 'string' or 'object'.`;if(L1(e))throw new Error("doc is valid.");let n=Object.prototype.toString.call(e);if(n!=="[object Object]")return`Unexpected doc '${n}'.`;let r=P2([...x1].map(s=>`'${s}'`));return`Unexpected doc.type '${e.type}'.
Expected it to be ${r}.`}var I2=class extends Error{constructor(n){super($2(n));vt(this,"name","InvalidDocError");this.doc=n}},B2=I2;function V2(e,t){if(typeof e=="string")return t(e);let n=new Map;return r(e);function r(i){if(n.has(i))return n.get(i);let o=s(i);return n.set(i,o),o}function s(i){switch(L1(i)){case v1:return t(i.map(r));case Ul:return t({...i,parts:i.parts.map(r)});case ql:return t({...i,breakContents:r(i.breakContents),flatContents:r(i.flatContents)});case jl:{let{expandedStates:o,contents:a}=i;return o?(o=o.map(r),a=o[0]):a=r(a),t({...i,contents:a,expandedStates:o})}case Vl:case w1:case E1:case N1:case Wl:return t({...i,contents:r(i.contents)});case y1:case D1:case S1:case A1:case Kr:case Hl:return t(i);default:throw new B2(i)}}}function j2(e,t=Gl){return V2(e,n=>typeof n=="string"?it(t,n.split(`
`)):n)}var U2=()=>{},q2=U2;function Zi(e,t){return{type:Vl,contents:t,n:e}}function eo(e,t={}){return q2(t.expandedStates),{type:jl,id:t.id,contents:e,break:!!t.shouldBreak,expandedStates:t.expandedStates}}function C1(e){return Zi(Number.NEGATIVE_INFINITY,e)}function W2(e){return Zi({type:"root"},e)}function H2(e){return Zi(-1,e)}function k1(e,t){return eo(e[0],{...t,expandedStates:e})}function F1(e){return{type:Ul,parts:e}}function Yl(e,t="",n={}){return{type:ql,breakContents:e,flatContents:t,groupId:n.groupId}}function Y2(e){return{type:Wl,contents:e}}var zl={type:Hl},z2={type:Kr,hard:!0},G2={type:Kr,hard:!0,literal:!0},js={type:Kr},_1={type:Kr,soft:!0},ge=[z2,zl],Gl=[G2,zl];function it(e,t){let n=[];for(let r=0;r<t.length;r++)r!==0&&n.push(e),n.push(t[r]);return n}function J2(e){return(t,n,r)=>{let s=!!(r!=null&&r.backwards);if(n===!1)return!1;let{length:i}=t,o=n;for(;o>=0&&o<i;){let a=t.charAt(o);if(e instanceof RegExp){if(!e.test(a))return o}else if(!e.includes(a))return o;s?o--:o++}return o===-1||o===i?o:!1}}var T1=J2(" 	");function Q2(e,t,n){let r=!!(n!=null&&n.backwards);if(t===!1)return!1;let s=e.charAt(t);if(r){if(e.charAt(t-1)==="\r"&&s===`
`)return t-2;if(s===`
`||s==="\r"||s==="\u2028"||s==="\u2029")return t-1}else{if(s==="\r"&&e.charAt(t+1)===`
`)return t+2;if(s===`
`||s==="\r"||s==="\u2028"||s==="\u2029")return t+1}return t}var M1=Q2;function K2(e,t){let n=t-1;n=T1(e,n,{backwards:!0}),n=M1(e,n,{backwards:!0}),n=T1(e,n,{backwards:!0});let r=M1(e,n,{backwards:!0});return n!==r}var X2=K2,Z2=class extends Error{constructor(n,r,s="type"){super(`Unexpected ${r} node ${s}: ${JSON.stringify(n[s])}.`);vt(this,"name","UnexpectedNodeError");this.node=n}},ev=Z2;function O1(e,t){let{node:n}=e;if(n.type==="root"&&t.filepath&&/(?:[/\\]|^)\.(?:prettier|stylelint|lintstaged)rc$/u.test(t.filepath))return async r=>{let s=await r(t.originalText,{parser:"json"});return s?[s,ge]:void 0}}O1.getVisitorKeys=()=>[];var tv=O1,Us=null;function qs(e){if(Us!==null&&typeof Us.property){let t=Us;return Us=qs.prototype=null,t}return Us=qs.prototype=e??Object.create(null),new qs}var nv=10;for(let e=0;e<=nv;e++)qs();function rv(e){return qs(e)}function sv(e,t="type"){rv(e);function n(r){let s=r[t],i=e[s];if(!Array.isArray(i))throw Object.assign(new Error(`Missing visitor keys for '${s}'.`),{node:r});return i}return n}var iv=sv,ov=Object.fromEntries(Object.entries({root:["children"],document:["head","body","children"],documentHead:["children"],documentBody:["children"],directive:[],alias:[],blockLiteral:[],blockFolded:["children"],plain:["children"],quoteSingle:[],quoteDouble:[],mapping:["children"],mappingItem:["key","value","children"],mappingKey:["content","children"],mappingValue:["content","children"],sequence:["children"],sequenceItem:["content","children"],flowMapping:["children"],flowMappingItem:["key","value","children"],flowSequence:["children"],flowSequenceItem:["content","children"],comment:[],tag:[],anchor:[]}).map(([e,t])=>[e,[...t,"anchor","tag","indicatorComment","leadingComments","middleComments","trailingComment","endComments"]])),av=ov,lv=iv(av),uv=lv;function to(e){return e.position.start.offset}function cv(e){return e.position.end.offset}function fv(e){return/^\s*@(?:prettier|format)\s*$/u.test(e)}function hv(e){return/^\s*#[^\S\n]*@(?:prettier|format)\s*?(?:\n|$)/u.test(e)}function dv(e){return`# @format

${e}`}function mv(e){return Array.isArray(e)&&e.length>0}var Ws=mv;function mn(e,t){return typeof(e==null?void 0:e.type)=="string"&&(!t||t.includes(e.type))}function R1(e,t,n){return t("children"in e?{...e,children:e.children.map(r=>R1(r,t,e))}:e,n)}function Hs(e,t,n){Object.defineProperty(e,t,{get:n,enumerable:!1})}function gv(e,t){let n=0,r=t.length;for(let s=e.position.end.offset-1;s<r;s++){let i=t[s];if(i===`
`&&n++,n===1&&/\S/u.test(i))return!1;if(n===2)return!0}return!1}function P1(e){let{node:t}=e;switch(t.type){case"tag":case"anchor":case"comment":return!1}let n=e.stack.length;for(let r=1;r<n;r++){let s=e.stack[r],i=e.stack[r-1];if(Array.isArray(i)&&typeof s=="number"&&s!==i.length-1)return!1}return!0}function Jl(e){return Ws(e.children)?Jl(xt(!1,e.children,-1)):e}function $1(e){return e.value.trim()==="prettier-ignore"}function pv(e){let{node:t}=e;if(t.type==="documentBody"){let n=e.parent.head;return $t(n)&&$1(xt(!1,n.endComments,-1))}return Mn(t)&&$1(xt(!1,t.leadingComments,-1))}function no(e){return!Ws(e.children)&&!bv(e)}function bv(e){return Mn(e)||Xr(e)||I1(e)||Pt(e)||$t(e)}function Mn(e){return Ws(e==null?void 0:e.leadingComments)}function Xr(e){return Ws(e==null?void 0:e.middleComments)}function I1(e){return e==null?void 0:e.indicatorComment}function Pt(e){return e==null?void 0:e.trailingComment}function $t(e){return Ws(e==null?void 0:e.endComments)}function B1(e){let t=[],n;for(let r of e.split(/( +)/u))r!==" "?n===" "?t.push(r):t.push((t.pop()||"")+r):n===void 0&&t.unshift(""),n=r;return n===" "&&t.push((t.pop()||"")+" "),t[0]===""&&(t.shift(),t.unshift(" "+(t.shift()||""))),t}function yv(e,t,n){let r=t.split(`
`).map((s,i,o)=>i===0&&i===o.length-1?s:i!==0&&i!==o.length-1?s.trim():i===0?s.trimEnd():s.trimStart());return n.proseWrap==="preserve"?r.map(s=>s.length===0?[]:[s]):r.map(s=>s.length===0?[]:B1(s)).reduce((s,i,o)=>o!==0&&r[o-1].length>0&&i.length>0&&!(e==="quoteDouble"&&xt(!1,xt(!1,s,-1),-1).endsWith("\\"))?[...s.slice(0,-1),[...xt(!1,s,-1),...i]]:[...s,i],[]).map(s=>n.proseWrap==="never"?[s.join(" ")]:s)}function vv(e,{parentIndent:t,isLastDescendant:n,options:r}){let s=e.position.start.line===e.position.end.line?"":r.originalText.slice(e.position.start.offset,e.position.end.offset).match(/^[^\n]*\n(.*)$/su)[1],i;if(e.indent===null){let l=s.match(/^(?<leadingSpace> *)[^\n\r ]/mu);i=l?l.groups.leadingSpace.length:Number.POSITIVE_INFINITY}else i=e.indent-1+t;let o=s.split(`
`).map(l=>l.slice(i));if(r.proseWrap==="preserve"||e.type==="blockLiteral")return a(o.map(l=>l.length===0?[]:[l]));return a(o.map(l=>l.length===0?[]:B1(l)).reduce((l,u,f)=>f!==0&&o[f-1].length>0&&u.length>0&&!/^\s/u.test(u[0])&&!/^\s|\s$/u.test(xt(!1,l,-1))?[...l.slice(0,-1),[...xt(!1,l,-1),...u]]:[...l,u],[]).map(l=>l.reduce((u,f)=>u.length>0&&/\s$/u.test(xt(!1,u,-1))?[...u.slice(0,-1),xt(!1,u,-1)+" "+f]:[...u,f],[])).map(l=>r.proseWrap==="never"?[l.join(" ")]:l));function a(l){if(e.chomping==="keep")return xt(!1,l,-1).length===0?l.slice(0,-1):l;let u=0;for(let f=l.length-1;f>=0&&l[f].length===0;f--)u++;return u===0?l:u>=2&&!n?l.slice(0,-(u-1)):l.slice(0,-u)}}function Ql(e){if(!e)return!0;switch(e.type){case"plain":case"quoteDouble":case"quoteSingle":case"alias":case"flowMapping":case"flowSequence":return!0;default:return!1}}var Kl=new WeakMap;function V1(e,t){let{node:n,root:r}=e,s;return Kl.has(r)?s=Kl.get(r):(s=new Set,Kl.set(r,s)),!s.has(n.position.end.line)&&(s.add(n.position.end.line),gv(n,t)&&!j1(e.parent))?_1:""}function j1(e){return $t(e)&&!mn(e,["documentHead","documentBody","flowMapping","flowSequence"])}function Lt(e,t){return Zi(" ".repeat(e),t)}function Dv(e,t,n){let{node:r}=e,s=e.ancestors.filter(u=>u.type==="sequence"||u.type==="mapping").length,i=P1(e),o=[r.type==="blockFolded"?">":"|"];r.indent!==null&&o.push(r.indent.toString()),r.chomping!=="clip"&&o.push(r.chomping==="keep"?"+":"-"),I1(r)&&o.push(" ",t("indicatorComment"));let a=vv(r,{parentIndent:s,isLastDescendant:i,options:n}),l=[];for(let[u,f]of a.entries())u===0&&l.push(ge),l.push(F1(it(js,f))),u!==a.length-1?l.push(f.length===0?ge:W2(Gl)):r.chomping==="keep"&&i&&l.push(C1(f.length===0?ge:Gl));return r.indent===null?o.push(H2(Lt(n.tabWidth,l))):o.push(C1(Lt(r.indent-1+s,l))),o}var wv=Dv;function U1(e,t,n){let{node:r}=e,s=r.type==="flowMapping",i=s?"{":"[",o=s?"}":"]",a=_1;s&&r.children.length>0&&n.bracketSpacing&&(a=js);let l=xt(!1,r.children,-1),u=(l==null?void 0:l.type)==="flowMappingItem"&&no(l.key)&&no(l.value);return[i,Lt(n.tabWidth,[a,Sv(e,t,n),n.trailingComma==="none"?"":Yl(","),$t(r)?[ge,it(ge,e.map(t,"endComments"))]:""]),u?"":a,o]}function Sv(e,t,n){return e.map(({isLast:r,node:s,next:i})=>[t(),r?"":[",",js,s.position.start.line!==i.position.start.line?V1(e,n.originalText):""]],"children")}function Ev(e,t,n){var r;let{node:s,parent:i}=e,{key:o,value:a}=s,l=no(o),u=no(a);if(l&&u)return": ";let f=t("key"),c=Av(s)?" ":"";if(u)return s.type==="flowMappingItem"&&i.type==="flowMapping"?f:s.type==="mappingItem"&&Xl(o.content,n)&&!Pt(o.content)&&((r=i.tag)==null?void 0:r.value)!=="tag:yaml.org,2002:set"?[f,c,":"]:["? ",Lt(2,f)];let m=t("value");if(l)return[": ",Lt(2,m)];if(Mn(a)||!Ql(o.content))return["? ",Lt(2,f),ge,...e.map(()=>[t(),ge],"value","leadingComments"),": ",Lt(2,m)];if(Nv(o.content)&&!Mn(o.content)&&!Xr(o.content)&&!Pt(o.content)&&!$t(o)&&!Mn(a.content)&&!Xr(a.content)&&!$t(a)&&Xl(a.content,n))return[f,c,": ",m];let g=Symbol("mappingKey"),w=eo([Yl("? "),eo(Lt(2,f),{id:g})]),A=[ge,": ",Lt(2,m)],E=[c,":"];Mn(a.content)||$t(a)&&a.content&&!mn(a.content,["mapping","sequence"])||i.type==="mapping"&&Pt(o.content)&&Ql(a.content)||mn(a.content,["mapping","sequence"])&&a.content.tag===null&&a.content.anchor===null?E.push(ge):a.content?E.push(js):Pt(a)&&E.push(" "),E.push(m);let N=Lt(n.tabWidth,E);return Xl(o.content,n)&&!Mn(o.content)&&!Xr(o.content)&&!$t(o)?k1([[f,N]]):k1([[w,Yl(A,N,{groupId:g})]])}function Xl(e,t){if(!e)return!0;switch(e.type){case"plain":case"quoteSingle":case"quoteDouble":break;case"alias":return!0;default:return!1}if(t.proseWrap==="preserve")return e.position.start.line===e.position.end.line;if(/\\$/mu.test(t.originalText.slice(e.position.start.offset,e.position.end.offset)))return!1;switch(t.proseWrap){case"never":return!e.value.includes(`
`);case"always":return!/[\n ]/u.test(e.value);default:return!1}}function Av(e){var t;return((t=e.key.content)==null?void 0:t.type)==="alias"}function Nv(e){if(!e)return!0;switch(e.type){case"plain":case"quoteDouble":case"quoteSingle":return e.position.start.line===e.position.end.line;case"alias":return!0;default:return!1}}var xv=Ev;function Lv(e){return R1(e,Cv)}function Cv(e){switch(e.type){case"document":Hs(e,"head",()=>e.children[0]),Hs(e,"body",()=>e.children[1]);break;case"documentBody":case"sequenceItem":case"flowSequenceItem":case"mappingKey":case"mappingValue":Hs(e,"content",()=>e.children[0]);break;case"mappingItem":case"flowMappingItem":Hs(e,"key",()=>e.children[0]),Hs(e,"value",()=>e.children[1]);break}return e}var kv=Lv;function Fv(e,t,n){let{node:r}=e,s=[];r.type!=="mappingValue"&&Mn(r)&&s.push([it(ge,e.map(n,"leadingComments")),ge]);let{tag:i,anchor:o}=r;i&&s.push(n("tag")),i&&o&&s.push(" "),o&&s.push(n("anchor"));let a="";return mn(r,["mapping","sequence","comment","directive","mappingItem","sequenceItem"])&&!P1(e)&&(a=V1(e,t.originalText)),(i||o)&&(mn(r,["sequence","mapping"])&&!Xr(r)?s.push(ge):s.push(" ")),Xr(r)&&s.push([r.middleComments.length===1?"":ge,it(ge,e.map(n,"middleComments")),ge]),pv(e)?s.push(j2(t.originalText.slice(r.position.start.offset,r.position.end.offset).trimEnd())):s.push(eo(_v(e,t,n))),Pt(r)&&!mn(r,["document","documentHead"])&&s.push(Y2([r.type==="mappingValue"&&!r.content?"":" ",e.parent.type==="mappingKey"&&e.getParentNode(2).type==="mapping"&&Ql(r)?"":zl,n("trailingComment")])),j1(r)&&s.push(Lt(r.type==="sequenceItem"?2:0,[ge,it(ge,e.map(({node:l})=>[X2(t.originalText,to(l))?ge:"",n()],"endComments"))])),s.push(a),s}function _v(e,t,n){let{node:r}=e;switch(r.type){case"root":{let s=[];e.each(({node:o,next:a,isFirst:l})=>{l||s.push(ge),s.push(n()),q1(o,a)?(s.push(ge,"..."),Pt(o)&&s.push(" ",n("trailingComment"))):a&&!Pt(a.head)&&s.push(ge,"---")},"children");let i=Jl(r);return(!mn(i,["blockLiteral","blockFolded"])||i.chomping!=="keep")&&s.push(ge),s}case"document":{let s=[];return Mv(e,t)==="head"&&((r.head.children.length>0||r.head.endComments.length>0)&&s.push(n("head")),Pt(r.head)?s.push(["---"," ",n(["head","trailingComment"])]):s.push("---")),Tv(r)&&s.push(n("body")),it(ge,s)}case"documentHead":return it(ge,[...e.map(n,"children"),...e.map(n,"endComments")]);case"documentBody":{let{children:s,endComments:i}=r,o="";if(s.length>0&&i.length>0){let a=Jl(r);mn(a,["blockFolded","blockLiteral"])?a.chomping!=="keep"&&(o=[ge,ge]):o=ge}return[it(ge,e.map(n,"children")),o,it(ge,e.map(n,"endComments"))]}case"directive":return["%",it(" ",[r.name,...r.parameters])];case"comment":return["#",r.value];case"alias":return["*",r.value];case"tag":return t.originalText.slice(r.position.start.offset,r.position.end.offset);case"anchor":return["&",r.value];case"plain":return Ys(r.type,t.originalText.slice(r.position.start.offset,r.position.end.offset),t);case"quoteDouble":case"quoteSingle":{let s="'",i='"',o=t.originalText.slice(r.position.start.offset+1,r.position.end.offset-1);if(r.type==="quoteSingle"&&o.includes("\\")||r.type==="quoteDouble"&&/\\[^"]/u.test(o)){let l=r.type==="quoteDouble"?i:s;return[l,Ys(r.type,o,t),l]}if(o.includes(i))return[s,Ys(r.type,r.type==="quoteDouble"?Bl(!1,Bl(!1,o,String.raw`\"`,i),"'",s.repeat(2)):o,t),s];if(o.includes(s))return[i,Ys(r.type,r.type==="quoteSingle"?Bl(!1,o,"''",s):o,t),i];let a=t.singleQuote?s:i;return[a,Ys(r.type,o,t),a]}case"blockFolded":case"blockLiteral":return wv(e,n,t);case"mapping":case"sequence":return it(ge,e.map(n,"children"));case"sequenceItem":return["- ",Lt(2,r.content?n("content"):"")];case"mappingKey":case"mappingValue":return r.content?n("content"):"";case"mappingItem":case"flowMappingItem":return xv(e,n,t);case"flowMapping":return U1(e,n,t);case"flowSequence":return U1(e,n,t);case"flowSequenceItem":return n("content");default:throw new ev(r,"YAML")}}function Tv(e){return e.body.children.length>0||$t(e.body)}function q1(e,t){return Pt(e)||t&&(t.head.children.length>0||$t(t.head))}function Mv(e,t){let n=e.node;if(e.isFirst&&/---(?:\s|$)/u.test(t.originalText.slice(to(n),to(n)+4))||n.head.children.length>0||$t(n.head)||Pt(n.head))return"head";let r=e.next;return q1(n,r)?!1:r?"root":!1}function Ys(e,t,n){let r=yv(e,t,n);return it(ge,r.map(s=>F1(it(js,s))))}function W1(e,t){if(mn(e))switch(e.type){case"comment":if(fv(e.value))return null;break;case"quoteDouble":case"quoteSingle":t.type="quote";break}}W1.ignoredProperties=new Set(["position"]);var Ov={preprocess:kv,embed:tv,print:Fv,massageAstNode:W1,insertPragma:dv,getVisitorKeys:uv},Rv=Ov,H1=[{linguistLanguageId:407,name:"YAML",type:"data",color:"#cb171e",tmScope:"source.yaml",aliases:["yml"],extensions:[".yml",".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".gemrc","CITATION.cff","glide.lock",".prettierrc",".stylelintrc",".lintstagedrc"],aceMode:"yaml",codemirrorMode:"yaml",codemirrorMimeType:"text/x-yaml",parsers:["yaml"],vscodeLanguageIds:["yaml","ansible","dockercompose","github-actions-workflow","home-assistant"]}],Zl={bracketSpacing:{category:"Common",type:"boolean",default:!0,description:"Print spaces between brackets.",oppositeDescription:"Do not print spaces between brackets."},singleQuote:{category:"Common",type:"boolean",default:!1,description:"Use single quotes instead of double quotes."},proseWrap:{category:"Common",type:"choice",default:"preserve",description:"How to wrap prose.",choices:[{value:"always",description:"Wrap prose if it exceeds the print width."},{value:"never",description:"Do not wrap prose."},{value:"preserve",description:"Wrap prose as-is."}]}},Pv={bracketSpacing:Zl.bracketSpacing,singleQuote:Zl.singleQuote,proseWrap:Zl.proseWrap},Y1=Pv,eu={};d1(eu,{yaml:()=>tw});var ro=`
`,z1="\r",$v=function(){function e(t){this.length=t.length;for(var n=[0],r=0;r<t.length;)switch(t[r]){case ro:r+=ro.length,n.push(r);break;case z1:r+=z1.length,t[r]===ro&&(r+=ro.length),n.push(r);break;default:r++;break}this.offsets=n}return e.prototype.locationForIndex=function(t){if(t<0||t>this.length)return null;for(var n=0,r=this.offsets;r[n+1]<=t;)n++;var s=t-r[n];return{line:n,column:s}},e.prototype.indexForLocation=function(t){var n=t.line,r=t.column;return n<0||n>=this.offsets.length||r<0||r>this.lengthOfLine(n)?null:this.offsets[n]+r},e.prototype.lengthOfLine=function(t){var n=this.offsets[t],r=t===this.offsets.length-1?this.length:this.offsets[t+1];return r-n},e}();function bt(e,t=null){"children"in e&&e.children.forEach(n=>bt(n,e)),"anchor"in e&&e.anchor&&bt(e.anchor,e),"tag"in e&&e.tag&&bt(e.tag,e),"leadingComments"in e&&e.leadingComments.forEach(n=>bt(n,e)),"middleComments"in e&&e.middleComments.forEach(n=>bt(n,e)),"indicatorComment"in e&&e.indicatorComment&&bt(e.indicatorComment,e),"trailingComment"in e&&e.trailingComment&&bt(e.trailingComment,e),"endComments"in e&&e.endComments.forEach(n=>bt(n,e)),Object.defineProperty(e,"_parent",{value:t,enumerable:!1})}function so(e){return`${e.line}:${e.column}`}function Iv(e){bt(e);let t=Bv(e),n=e.children.slice();e.comments.sort((r,s)=>r.position.start.offset-s.position.end.offset).filter(r=>!r._parent).forEach(r=>{for(;n.length>1&&r.position.start.line>n[0].position.end.line;)n.shift();Vv(r,t,n[0])})}function Bv(e){let t=Array.from(new Array(e.position.end.line),()=>({}));for(let n of e.comments)t[n.position.start.line-1].comment=n;return G1(t,e),t}function G1(e,t){if(t.position.start.offset!==t.position.end.offset){if("leadingComments"in t){let{start:n}=t.position,{leadingAttachableNode:r}=e[n.line-1];(!r||n.column<r.position.start.column)&&(e[n.line-1].leadingAttachableNode=t)}if("trailingComment"in t&&t.position.end.column>1&&t.type!=="document"&&t.type!=="documentHead"){let{end:n}=t.position,{trailingAttachableNode:r}=e[n.line-1];(!r||n.column>=r.position.end.column)&&(e[n.line-1].trailingAttachableNode=t)}if(t.type!=="root"&&t.type!=="document"&&t.type!=="documentHead"&&t.type!=="documentBody"){let{start:n,end:r}=t.position,s=[r.line].concat(n.line===r.line?[]:n.line);for(let i of s){let o=e[i-1].trailingNode;(!o||r.column>=o.position.end.column)&&(e[i-1].trailingNode=t)}}"children"in t&&t.children.forEach(n=>{G1(e,n)})}}function Vv(e,t,n){let r=e.position.start.line,{trailingAttachableNode:s}=t[r-1];if(s){if(s.trailingComment)throw new Error(`Unexpected multiple trailing comment at ${so(e.position.start)}`);bt(e,s),s.trailingComment=e;return}for(let o=r;o>=n.position.start.line;o--){let{trailingNode:a}=t[o-1],l;if(a)l=a;else if(o!==r&&t[o-1].comment)l=t[o-1].comment._parent;else continue;if((l.type==="sequence"||l.type==="mapping")&&(l=l.children[0]),l.type==="mappingItem"){let[u,f]=l.children;l=J1(u)?u:f}for(;;){if(jv(l,e)){bt(e,l),l.endComments.push(e);return}if(!l._parent)break;l=l._parent}break}for(let o=r+1;o<=n.position.end.line;o++){let{leadingAttachableNode:a}=t[o-1];if(a){bt(e,a),a.leadingComments.push(e);return}}let i=n.children[1];bt(e,i),i.endComments.push(e)}function jv(e,t){if(e.position.start.offset<t.position.start.offset&&e.position.end.offset>t.position.end.offset)switch(e.type){case"flowMapping":case"flowSequence":return e.children.length===0||t.position.start.line>e.children[e.children.length-1].position.end.line}if(t.position.end.offset<e.position.end.offset)return!1;switch(e.type){case"sequenceItem":return t.position.start.column>e.position.start.column;case"mappingKey":case"mappingValue":return t.position.start.column>e._parent.position.start.column&&(e.children.length===0||e.children.length===1&&e.children[0].type!=="blockFolded"&&e.children[0].type!=="blockLiteral")&&(e.type==="mappingValue"||J1(e));default:return!1}}function J1(e){return e.position.start!==e.position.end&&(e.children.length===0||e.position.start.offset!==e.children[0].position.start.offset)}function Ie(e,t){return{type:e,position:t}}function Uv(e,t,n){return{...Ie("root",e),children:t,comments:n}}function io(e){switch(e.type){case"DOCUMENT":for(let t=e.contents.length-1;t>=0;t--)e.contents[t].type==="BLANK_LINE"?e.contents.splice(t,1):io(e.contents[t]);for(let t=e.directives.length-1;t>=0;t--)e.directives[t].type==="BLANK_LINE"&&e.directives.splice(t,1);break;case"FLOW_MAP":case"FLOW_SEQ":case"MAP":case"SEQ":for(let t=e.items.length-1;t>=0;t--){let n=e.items[t];"char"in n||(n.type==="BLANK_LINE"?e.items.splice(t,1):io(n))}break;case"MAP_KEY":case"MAP_VALUE":case"SEQ_ITEM":e.node&&io(e.node);break;case"ALIAS":case"BLANK_LINE":case"BLOCK_FOLDED":case"BLOCK_LITERAL":case"COMMENT":case"DIRECTIVE":case"PLAIN":case"QUOTE_DOUBLE":case"QUOTE_SINGLE":break;default:throw new Error(`Unexpected node type ${JSON.stringify(e.type)}`)}}function Zr(){return{leadingComments:[]}}function oo(e=null){return{trailingComment:e}}function er(){return{...Zr(),...oo()}}function qv(e,t,n){return{...Ie("alias",e),...er(),...t,value:n}}function Wv(e,t){let n=e.cstNode;return qv(t.transformRange({origStart:n.valueRange.origStart-1,origEnd:n.valueRange.origEnd}),t.transformContent(e),n.rawValue)}function Hv(e){return{...e,type:"blockFolded"}}function Yv(e,t,n,r,s,i){return{...Ie("blockValue",e),...Zr(),...t,chomping:n,indent:r,value:s,indicatorComment:i}}var es;(function(e){e.Tag="!",e.Anchor="&",e.Comment="#"})(es||(es={}));function zv(e,t){return{...Ie("anchor",e),value:t}}function tu(e,t){return{...Ie("comment",e),value:t}}function Gv(e,t,n){return{anchor:t,tag:e,middleComments:n}}function Jv(e,t){return{...Ie("tag",e),value:t}}function Q1(e,t,n=()=>!1){let r=e.cstNode,s=[],i=null,o=null,a=null;for(let l of r.props){let u=t.text[l.origStart];switch(u){case es.Tag:i=i||l,o=Jv(t.transformRange(l),e.tag);break;case es.Anchor:i=i||l,a=zv(t.transformRange(l),r.anchor);break;case es.Comment:{let f=tu(t.transformRange(l),t.text.slice(l.origStart+1,l.origEnd));t.comments.push(f),!n(f)&&i&&i.origEnd<=l.origStart&&l.origEnd<=r.valueRange.origStart&&s.push(f);break}default:throw new Error(`Unexpected leading character ${JSON.stringify(u)}`)}}return Gv(o,a,s)}var nu;(function(e){e.CLIP="clip",e.STRIP="strip",e.KEEP="keep"})(nu||(nu={}));function K1(e,t){let n=e.cstNode,r=1,s=n.chomping==="CLIP"?0:1,i=n.header.origEnd-n.header.origStart-r-s!==0,o=t.transformRange({origStart:n.header.origStart,origEnd:n.valueRange.origEnd}),a=null,l=Q1(e,t,u=>{if(!(o.start.offset<u.position.start.offset&&u.position.end.offset<o.end.offset))return!1;if(a)throw new Error(`Unexpected multiple indicator comments at ${so(u.position.start)}`);return a=u,!0});return Yv(o,l,nu[n.chomping],i?n.blockIndent:null,n.strValue,a)}function Qv(e,t){return Hv(K1(e,t))}function Kv(e){return{...e,type:"blockLiteral"}}function Xv(e,t){return Kv(K1(e,t))}function Zv(e,t){return tu(t.transformRange(e.range),e.comment)}function eD(e,t,n){return{...Ie("directive",e),...er(),name:t,parameters:n}}function ru(e,t){for(let n of e.props){let r=t.text[n.origStart];switch(r){case es.Comment:t.comments.push(tu(t.transformRange(n),t.text.slice(n.origStart+1,n.origEnd)));break;default:throw new Error(`Unexpected leading character ${JSON.stringify(r)}`)}}}function tD(e,t){return ru(e,t),eD(t.transformRange(e.range),e.name,e.parameters)}function nD(e,t,n,r){return{...Ie("document",e),...oo(r),children:[t,n]}}function tr(e,t){return{start:e,end:t}}function X1(e){return{start:e,end:e}}function nr(e=[]){return{endComments:e}}function rD(e,t,n){return{...Ie("documentBody",e),...nr(n),children:t?[t]:[]}}function On(e){return e[e.length-1]}function Z1(e,t){let n=e.match(t);return n?n.index:-1}function sD(e,t,n){let r=e.cstNode,{comments:s,endComments:i,documentTrailingComment:o,documentHeadTrailingComment:a}=iD(r,t,n),l=t.transformNode(e.contents),{position:u,documentEndPoint:f}=oD(r,l,t);return t.comments.push(...s,...i),{documentBody:rD(u,l,i),documentEndPoint:f,documentTrailingComment:o,documentHeadTrailingComment:a}}function iD(e,t,n){let r=[],s=[],i=[],o=[],a=!1;for(let l=e.contents.length-1;l>=0;l--){let u=e.contents[l];if(u.type==="COMMENT"){let f=t.transformNode(u);n&&n.line===f.position.start.line?o.unshift(f):a?r.unshift(f):f.position.start.offset>=e.valueRange.origEnd?i.unshift(f):r.unshift(f)}else a=!0}if(i.length>1)throw new Error(`Unexpected multiple document trailing comments at ${so(i[1].position.start)}`);if(o.length>1)throw new Error(`Unexpected multiple documentHead trailing comments at ${so(o[1].position.start)}`);return{comments:r,endComments:s,documentTrailingComment:On(i)||null,documentHeadTrailingComment:On(o)||null}}function oD(e,t,n){let r=Z1(n.text.slice(e.valueRange.origEnd),/^\.\.\./),s=r===-1?e.valueRange.origEnd:Math.max(0,e.valueRange.origEnd-1);n.text[s-1]==="\r"&&s--;let i=n.transformRange({origStart:t!==null?t.position.start.offset:s,origEnd:s}),o=r===-1?i.end:n.transformOffset(e.valueRange.origEnd+3);return{position:i,documentEndPoint:o}}function aD(e,t,n,r){return{...Ie("documentHead",e),...nr(n),...oo(r),children:t}}function lD(e,t){let n=e.cstNode,{directives:r,comments:s,endComments:i}=uD(n,t),{position:o,endMarkerPoint:a}=cD(n,r,t);return t.comments.push(...s,...i),{createDocumentHeadWithTrailingComment:l=>(l&&t.comments.push(l),aD(o,r,i,l)),documentHeadEndMarkerPoint:a}}function uD(e,t){let n=[],r=[],s=[],i=!1;for(let o=e.directives.length-1;o>=0;o--){let a=t.transformNode(e.directives[o]);a.type==="comment"?i?r.unshift(a):s.unshift(a):(i=!0,n.unshift(a))}return{directives:n,comments:r,endComments:s}}function cD(e,t,n){let r=Z1(n.text.slice(0,e.valueRange.origStart),/---\s*$/);r>0&&!/[\r\n]/.test(n.text[r-1])&&(r=-1);let s=r===-1?{origStart:e.valueRange.origStart,origEnd:e.valueRange.origStart}:{origStart:r,origEnd:r+3};return t.length!==0&&(s.origStart=t[0].position.start.offset),{position:n.transformRange(s),endMarkerPoint:r===-1?null:n.transformOffset(r)}}function fD(e,t){let{createDocumentHeadWithTrailingComment:n,documentHeadEndMarkerPoint:r}=lD(e,t),{documentBody:s,documentEndPoint:i,documentTrailingComment:o,documentHeadTrailingComment:a}=sD(e,t,r),l=n(a);return o&&t.comments.push(o),nD(tr(l.position.start,i),l,s,o)}function em(e,t,n){return{...Ie("flowCollection",e),...er(),...nr(),...t,children:n}}function hD(e,t,n){return{...em(e,t,n),type:"flowMapping"}}function tm(e,t,n){return{...Ie("flowMappingItem",e),...Zr(),children:[t,n]}}function ao(e,t){let n=[];for(let r of e)r&&"type"in r&&r.type==="COMMENT"?t.comments.push(t.transformNode(r)):n.push(r);return n}function nm(e){let[t,n]=["?",":"].map(r=>{let s=e.find(i=>"char"in i&&i.char===r);return s?{origStart:s.origOffset,origEnd:s.origOffset+1}:null});return{additionalKeyRange:t,additionalValueRange:n}}function rm(e,t){let n=t;return r=>e.slice(n,n=r)}function sm(e){let t=[],n=rm(e,1),r=!1;for(let s=1;s<e.length-1;s++){let i=e[s];if("char"in i&&i.char===","){t.push(n(s)),n(s+1),r=!1;continue}r=!0}return r&&t.push(n(e.length-1)),t}function im(e,t){return{...Ie("mappingKey",e),...oo(),...nr(),children:t?[t]:[]}}function om(e,t){return{...Ie("mappingValue",e),...er(),...nr(),children:t?[t]:[]}}function su(e,t,n,r,s){let i=t.transformNode(e.key),o=t.transformNode(e.value),a=i||r?im(t.transformRange({origStart:r?r.origStart:i.position.start.offset,origEnd:i?i.position.end.offset:r.origStart+1}),i):null,l=o||s?om(t.transformRange({origStart:s?s.origStart:o.position.start.offset,origEnd:o?o.position.end.offset:s.origStart+1}),o):null;return n(tr(a?a.position.start:l.position.start,l?l.position.end:a.position.end),a||im(X1(l.position.start),null),l||om(X1(a.position.end),null))}function dD(e,t){let n=ao(e.cstNode.items,t),r=sm(n),s=e.items.map((a,l)=>{let u=r[l],{additionalKeyRange:f,additionalValueRange:c}=nm(u);return su(a,t,tm,f,c)}),i=n[0],o=On(n);return hD(t.transformRange({origStart:i.origOffset,origEnd:o.origOffset+1}),t.transformContent(e),s)}function mD(e,t,n){return{...em(e,t,n),type:"flowSequence"}}function gD(e,t){return{...Ie("flowSequenceItem",e),children:[t]}}function pD(e,t){let n=ao(e.cstNode.items,t),r=sm(n),s=e.items.map((a,l)=>{if(a.type!=="PAIR"){let u=t.transformNode(a);return gD(tr(u.position.start,u.position.end),u)}else{let u=r[l],{additionalKeyRange:f,additionalValueRange:c}=nm(u);return su(a,t,tm,f,c)}}),i=n[0],o=On(n);return mD(t.transformRange({origStart:i.origOffset,origEnd:o.origOffset+1}),t.transformContent(e),s)}function bD(e,t,n){return{...Ie("mapping",e),...Zr(),...t,children:n}}function yD(e,t,n){return{...Ie("mappingItem",e),...Zr(),children:[t,n]}}function vD(e,t){let n=e.cstNode;n.items.filter(o=>o.type==="MAP_KEY"||o.type==="MAP_VALUE").forEach(o=>ru(o,t));let r=ao(n.items,t),s=DD(r),i=e.items.map((o,a)=>{let l=s[a],[u,f]=l[0].type==="MAP_VALUE"?[null,l[0].range]:[l[0].range,l.length===1?null:l[1].range];return su(o,t,yD,u,f)});return bD(tr(i[0].position.start,On(i).position.end),t.transformContent(e),i)}function DD(e){let t=[],n=rm(e,0),r=!1;for(let s=0;s<e.length;s++){if(e[s].type==="MAP_VALUE"){t.push(n(s+1)),r=!1;continue}r&&t.push(n(s)),r=!0}return r&&t.push(n(1/0)),t}function wD(e,t,n){return{...Ie("plain",e),...er(),...t,value:n}}function SD(e,t,n){for(let r=t;r>=0;r--)if(n.test(e[r]))return r;return-1}function ED(e,t){let n=e.cstNode;return wD(t.transformRange({origStart:n.valueRange.origStart,origEnd:SD(t.text,n.valueRange.origEnd-1,/\S/)+1}),t.transformContent(e),n.strValue)}function AD(e){return{...e,type:"quoteDouble"}}function ND(e,t,n){return{...Ie("quoteValue",e),...t,...er(),value:n}}function am(e,t){let n=e.cstNode;return ND(t.transformRange(n.valueRange),t.transformContent(e),n.strValue)}function xD(e,t){return AD(am(e,t))}function LD(e){return{...e,type:"quoteSingle"}}function CD(e,t){return LD(am(e,t))}function kD(e,t,n){return{...Ie("sequence",e),...Zr(),...nr(),...t,children:n}}function FD(e,t){return{...Ie("sequenceItem",e),...er(),...nr(),children:t?[t]:[]}}function _D(e,t){let n=ao(e.cstNode.items,t).map((r,s)=>{ru(r,t);let i=t.transformNode(e.items[s]);return FD(tr(t.transformOffset(r.valueRange.origStart),i===null?t.transformOffset(r.valueRange.origStart+1):i.position.end),i)});return kD(tr(n[0].position.start,On(n).position.end),t.transformContent(e),n)}function TD(e,t){if(e===null||e.type===void 0&&e.value===null)return null;switch(e.type){case"ALIAS":return Wv(e,t);case"BLOCK_FOLDED":return Qv(e,t);case"BLOCK_LITERAL":return Xv(e,t);case"COMMENT":return Zv(e,t);case"DIRECTIVE":return tD(e,t);case"DOCUMENT":return fD(e,t);case"FLOW_MAP":return dD(e,t);case"FLOW_SEQ":return pD(e,t);case"MAP":return vD(e,t);case"PLAIN":return ED(e,t);case"QUOTE_DOUBLE":return xD(e,t);case"QUOTE_SINGLE":return CD(e,t);case"SEQ":return _D(e,t);default:throw new Error(`Unexpected node type ${e.type}`)}}function MD(e,t,n){let r=new SyntaxError(e);return r.name="YAMLSyntaxError",r.source=t,r.position=n,r}function OD(e,t){let n=e.source.range||e.source.valueRange;return MD(e.message,t.text,t.transformRange(n))}function RD(e,t,n){return{offset:e,line:t,column:n}}function PD(e,t){e<0?e=0:e>t.text.length&&(e=t.text.length);let n=t.locator.locationForIndex(e);return RD(e,n.line+1,n.column+1)}function $D(e,t){return tr(t.transformOffset(e.origStart),t.transformOffset(e.origEnd))}function ID(e){if(!e.setOrigRanges()){let t=n=>{if(BD(n))return n.origStart=n.start,n.origEnd=n.end,!0;if(VD(n))return n.origOffset=n.offset,!0};e.forEach(n=>iu(n,t))}}function iu(e,t){if(!(!e||typeof e!="object")&&t(e)!==!0)for(let n of Object.keys(e)){if(n==="context"||n==="error")continue;let r=e[n];Array.isArray(r)?r.forEach(s=>iu(s,t)):iu(r,t)}}function BD(e){return typeof e.start=="number"}function VD(e){return typeof e.offset=="number"}function lm(e){if("children"in e){if(e.children.length===1){let t=e.children[0];if(t.type==="plain"&&t.tag===null&&t.anchor===null&&t.value==="")return e.children.splice(0,1),e}e.children.forEach(lm)}return e}function um(e,t,n,r){let s=t(e);return i=>{r(s,i)&&n(e,s=i)}}function cm(e){if(e===null||!("children"in e))return;let t=e.children;if(t.forEach(cm),e.type==="document"){let[i,o]=e.children;i.position.start.offset===i.position.end.offset?i.position.start=i.position.end=o.position.start:o.position.start.offset===o.position.end.offset&&(o.position.start=o.position.end=i.position.end)}let n=um(e.position,jD,UD,HD),r=um(e.position,qD,WD,YD);"endComments"in e&&e.endComments.length!==0&&(n(e.endComments[0].position.start),r(On(e.endComments).position.end));let s=t.filter(i=>i!==null);if(s.length!==0){let i=s[0],o=On(s);n(i.position.start),r(o.position.end),"leadingComments"in i&&i.leadingComments.length!==0&&n(i.leadingComments[0].position.start),"tag"in i&&i.tag&&n(i.tag.position.start),"anchor"in i&&i.anchor&&n(i.anchor.position.start),"trailingComment"in o&&o.trailingComment&&r(o.trailingComment.position.end)}}function jD(e){return e.start}function UD(e,t){e.start=t}function qD(e){return e.end}function WD(e,t){e.end=t}function HD(e,t){return t.offset<e.offset}function YD(e,t){return t.offset>e.offset}var zD=m1(_2()),Ct=m1(T2());Ct.default.findPair,Ct.default.toJSON,Ct.default.parseMap,Ct.default.parseSeq,Ct.default.stringifyNumber,Ct.default.stringifyString,Ct.default.Type,Ct.default.YAMLError,Ct.default.YAMLReferenceError;var GD=Ct.default.YAMLSemanticError;Ct.default.YAMLSyntaxError,Ct.default.YAMLWarning;var{Document:JD,parseCST:QD}=zD.default;function KD(e){let t=QD(e);ID(t);let n=t.map(a=>new JD({merge:!1,keepCstNodes:!0}).parse(a)),r=new $v(e),s=[],i={text:e,locator:r,comments:s,transformOffset:a=>PD(a,i),transformRange:a=>$D(a,i),transformNode:a=>TD(a,i),transformContent:a=>Q1(a,i)};for(let a of n)for(let l of a.errors)if(!(l instanceof GD&&l.message==='Map keys must be unique; "<<" is repeated'))throw OD(l,i);n.forEach(a=>io(a.cstNode));let o=Uv(i.transformRange({origStart:0,origEnd:i.text.length}),n.map(i.transformNode),s);return Iv(o),cm(o),lm(o),o}function XD(e,t){let n=new SyntaxError(e+" ("+t.loc.start.line+":"+t.loc.start.column+")");return Object.assign(n,t)}var ZD=XD;function ew(e){try{let t=KD(e);return delete t.comments,t}catch(t){throw t!=null&&t.position?ZD(t.message,{loc:t.position,cause:t}):t}}var tw={astFormat:"yaml",parse:ew,hasPragma:hv,locStart:to,locEnd:cv},fm={yaml:Rv},nw=b1,rw=Object.freeze({__proto__:null,default:nw,languages:H1,options:Y1,parsers:eu,printers:fm}),sw=Object.create,ou=Object.defineProperty,iw=Object.getOwnPropertyDescriptor,ow=Object.getOwnPropertyNames,aw=Object.getPrototypeOf,lw=Object.prototype.hasOwnProperty,hm=e=>{throw TypeError(e)},dm=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),au=(e,t)=>{for(var n in t)ou(e,n,{get:t[n],enumerable:!0})},uw=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ow(t))!lw.call(e,s)&&s!==n&&ou(e,s,{get:()=>t[s],enumerable:!(r=iw(t,s))||r.enumerable});return e},lo=(e,t,n)=>(n=e!=null?sw(aw(e)):{},uw(ou(n,"default",{value:e,enumerable:!0}),e)),cw=(e,t,n)=>t.has(e)||hm("Cannot "+n),fw=(e,t,n)=>t.has(e)?hm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),zs=(e,t,n)=>(cw(e,t,"access private method"),n),lu=dm((e,t)=>{var n=new Proxy(String,{get:()=>n});t.exports=n}),hw=dm(e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(){return new Proxy({},{get:()=>i=>i})}var n=/\r\n|[\n\r\u2028\u2029]/;function r(i,o,a){let l=Object.assign({column:0,line:-1},i.start),u=Object.assign({},l,i.end),{linesAbove:f=2,linesBelow:c=3}=a||{},m=l.line,g=l.column,w=u.line,A=u.column,E=Math.max(m-(f+1),0),N=Math.min(o.length,w+c);m===-1&&(E=0),w===-1&&(N=o.length);let k=w-m,b={};if(k)for(let p=0;p<=k;p++){let h=p+m;if(!g)b[h]=!0;else if(p===0){let d=o[h-1].length;b[h]=[g,d-g+1]}else if(p===k)b[h]=[0,A];else{let d=o[h-p].length;b[h]=[0,d]}}else g===A?g?b[m]=[g,0]:b[m]=!0:b[m]=[g,A-g];return{start:E,end:N,markerLines:b}}function s(i,o,a={}){let l=t(),u=i.split(n),{start:f,end:c,markerLines:m}=r(o,u,a),g=o.start&&typeof o.start.column=="number",w=String(c).length,A=i.split(n,c).slice(f,c).map((E,N)=>{let k=f+1+N,b=` ${` ${k}`.slice(-w)} |`,p=m[k],h=!m[k+1];if(p){let d="";if(Array.isArray(p)){let y=E.slice(0,Math.max(p[0]-1,0)).replace(/[^\t]/g," "),S=p[1]||1;d=[`
 `,l.gutter(b.replace(/\d/g," "))," ",y,l.marker("^").repeat(S)].join(""),h&&a.message&&(d+=" "+l.message(a.message))}return[l.marker(">"),l.gutter(b),E.length>0?` ${E}`:"",d].join("")}else return` ${l.gutter(b)}${E.length>0?` ${E}`:""}`}).join(`
`);return a.message&&!g&&(A=`${" ".repeat(w+1)}${a.message}
${A}`),A}e.codeFrameColumns=s}),dw={};au(dw,{__debug:()=>D8,check:()=>y8,doc:()=>Ag,format:()=>ju,formatWithCursor:()=>Lg,getSupportInfo:()=>v8,util:()=>Ng,version:()=>Y7});var mw=(e,t,n,r)=>{if(!(e&&t==null))return t.replaceAll?t.replaceAll(n,r):n.global?t.replace(n,r):t.split(n).join(r)},uo=mw;function Qt(){}Qt.prototype={diff:function(e,t){var n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=r.callback;typeof r=="function"&&(s=r,r={});var i=this;function o(b){return b=i.postProcess(b,r),s?(setTimeout(function(){s(b)},0),!0):b}e=this.castInput(e,r),t=this.castInput(t,r),e=this.removeEmpty(this.tokenize(e,r)),t=this.removeEmpty(this.tokenize(t,r));var a=t.length,l=e.length,u=1,f=a+l;r.maxEditLength!=null&&(f=Math.min(f,r.maxEditLength));var c=(n=r.timeout)!==null&&n!==void 0?n:1/0,m=Date.now()+c,g=[{oldPos:-1,lastComponent:void 0}],w=this.extractCommon(g[0],t,e,0,r);if(g[0].oldPos+1>=l&&w+1>=a)return o(mm(i,g[0].lastComponent,t,e,i.useLongestToken));var A=-1/0,E=1/0;function N(){for(var b=Math.max(A,-u);b<=Math.min(E,u);b+=2){var p=void 0,h=g[b-1],d=g[b+1];h&&(g[b-1]=void 0);var y=!1;if(d){var S=d.oldPos-b;y=d&&0<=S&&S<a}var D=h&&h.oldPos+1<l;if(!y&&!D){g[b]=void 0;continue}if(!D||y&&h.oldPos<d.oldPos?p=i.addToPath(d,!0,!1,0,r):p=i.addToPath(h,!1,!0,1,r),w=i.extractCommon(p,t,e,b,r),p.oldPos+1>=l&&w+1>=a)return o(mm(i,p.lastComponent,t,e,i.useLongestToken));g[b]=p,p.oldPos+1>=l&&(E=Math.min(E,b-1)),w+1>=a&&(A=Math.max(A,b+1))}u++}if(s)(function b(){setTimeout(function(){if(u>f||Date.now()>m)return s();N()||b()},0)})();else for(;u<=f&&Date.now()<=m;){var k=N();if(k)return k}},addToPath:function(e,t,n,r,s){var i=e.lastComponent;return i&&!s.oneChangePerToken&&i.added===t&&i.removed===n?{oldPos:e.oldPos+r,lastComponent:{count:i.count+1,added:t,removed:n,previousComponent:i.previousComponent}}:{oldPos:e.oldPos+r,lastComponent:{count:1,added:t,removed:n,previousComponent:i}}},extractCommon:function(e,t,n,r,s){for(var i=t.length,o=n.length,a=e.oldPos,l=a-r,u=0;l+1<i&&a+1<o&&this.equals(n[a+1],t[l+1],s);)l++,a++,u++,s.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return u&&!s.oneChangePerToken&&(e.lastComponent={count:u,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=a,l},equals:function(e,t,n){return n.comparator?n.comparator(e,t):e===t||n.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return Array.from(e)},join:function(e){return e.join("")},postProcess:function(e){return e}};function mm(e,t,n,r,s){for(var i=[],o;t;)i.push(t),o=t.previousComponent,delete t.previousComponent,t=o;i.reverse();for(var a=0,l=i.length,u=0,f=0;a<l;a++){var c=i[a];if(c.removed)c.value=e.join(r.slice(f,f+c.count)),f+=c.count;else{if(!c.added&&s){var m=n.slice(u,u+c.count);m=m.map(function(g,w){var A=r[f+w];return A.length>g.length?A:g}),c.value=e.join(m)}else c.value=e.join(n.slice(u,u+c.count));u+=c.count,c.added||(f+=c.count)}}return i}function gm(e,t){var n;for(n=0;n<e.length&&n<t.length;n++)if(e[n]!=t[n])return e.slice(0,n);return e.slice(0,n)}function pm(e,t){var n;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(n=0;n<e.length&&n<t.length;n++)if(e[e.length-(n+1)]!=t[t.length-(n+1)])return e.slice(-n);return e.slice(-n)}function uu(e,t,n){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return n+e.slice(t.length)}function cu(e,t,n){if(!t)return e+n;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+n}function Gs(e,t){return uu(e,t,"")}function co(e,t){return cu(e,t,"")}function bm(e,t){return t.slice(0,gw(e,t))}function gw(e,t){var n=0;e.length>t.length&&(n=e.length-t.length);var r=t.length;e.length<t.length&&(r=e.length);var s=Array(r),i=0;s[0]=0;for(var o=1;o<r;o++){for(t[o]==t[i]?s[o]=s[i]:s[o]=i;i>0&&t[o]!=t[i];)i=s[i];t[o]==t[i]&&i++}i=0;for(var a=n;a<e.length;a++){for(;i>0&&e[a]!=t[i];)i=s[i];e[a]==t[i]&&i++}return i}var fo="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",pw=new RegExp("[".concat(fo,"]+|\\s+|[^").concat(fo,"]"),"ug"),ho=new Qt;ho.equals=function(e,t,n){return n.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()},ho.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');n=Array.from(t.intlSegmenter.segment(e),function(i){return i.segment})}else n=e.match(pw)||[];var r=[],s=null;return n.forEach(function(i){/\s/.test(i)?s==null?r.push(i):r.push(r.pop()+i):/\s/.test(s)?r[r.length-1]==s?r.push(r.pop()+i):r.push(s+i):r.push(i),s=i}),r},ho.join=function(e){return e.map(function(t,n){return n==0?t:t.replace(/^\s+/,"")}).join("")},ho.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var n=null,r=null,s=null;return e.forEach(function(i){i.added?r=i:i.removed?s=i:((r||s)&&ym(n,s,r,i),n=i,r=null,s=null)}),(r||s)&&ym(n,s,r,null),e};function ym(e,t,n,r){if(t&&n){var s=t.value.match(/^\s*/)[0],i=t.value.match(/\s*$/)[0],o=n.value.match(/^\s*/)[0],a=n.value.match(/\s*$/)[0];if(e){var l=gm(s,o);e.value=cu(e.value,o,l),t.value=Gs(t.value,l),n.value=Gs(n.value,l)}if(r){var u=pm(i,a);r.value=uu(r.value,a,u),t.value=co(t.value,u),n.value=co(n.value,u)}}else if(n)e&&(n.value=n.value.replace(/^\s*/,"")),r&&(r.value=r.value.replace(/^\s*/,""));else if(e&&r){var f=r.value.match(/^\s*/)[0],c=t.value.match(/^\s*/)[0],m=t.value.match(/\s*$/)[0],g=gm(f,c);t.value=Gs(t.value,g);var w=pm(Gs(f,g),m);t.value=co(t.value,w),r.value=uu(r.value,f,w),e.value=cu(e.value,f,f.slice(0,f.length-w.length))}else if(r){var A=r.value.match(/^\s*/)[0],E=t.value.match(/\s*$/)[0],N=bm(E,A);t.value=co(t.value,N)}else if(e){var k=e.value.match(/\s*$/)[0],b=t.value.match(/^\s*/)[0],p=bm(k,b);t.value=Gs(t.value,p)}}var bw=new Qt;bw.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(fo,"]+|[^\\S\\n\\r]+|[^").concat(fo,"]"),"ug");return e.match(t)||[]};var fu=new Qt;fu.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var n=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var s=0;s<r.length;s++){var i=r[s];s%2&&!t.newlineIsToken?n[n.length-1]+=i:n.push(i)}return n},fu.equals=function(e,t,n){return n.ignoreWhitespace?((!n.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!n.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),Qt.prototype.equals.call(this,e,t,n)};var yw=new Qt;yw.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var vw=new Qt;vw.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}var Js=new Qt;Js.useLongestToken=!0,Js.tokenize=fu.tokenize,Js.castInput=function(e,t){var n=t.undefinedReplacement,r=t.stringifyReplacer,s=r===void 0?function(i,o){return typeof o>"u"?n:o}:r;return typeof e=="string"?e:JSON.stringify(du(e,null,null,s),s,"  ")},Js.equals=function(e,t,n){return Qt.prototype.equals.call(Js,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),n)};function du(e,t,n,r,s){t=t||[],n=n||[],r&&(e=r(s,e));var i;for(i=0;i<t.length;i+=1)if(t[i]===e)return n[i];var o;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),o=new Array(e.length),n.push(o),i=0;i<e.length;i+=1)o[i]=du(e[i],t,n,r,s);return t.pop(),n.pop(),o}if(e&&e.toJSON&&(e=e.toJSON()),hu(e)==="object"&&e!==null){t.push(e),o={},n.push(o);var a=[],l;for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&a.push(l);for(a.sort(),i=0;i<a.length;i+=1)l=a[i],o[l]=du(e[l],t,n,r,l);t.pop(),n.pop()}else o=e;return o}var mo=new Qt;mo.tokenize=function(e){return e.slice()},mo.join=mo.removeEmpty=function(e){return e};function Dw(e,t,n){return mo.diff(e,t,n)}function ww(e){let t=e.indexOf("\r");return t!==-1?e.charAt(t+1)===`
`?"crlf":"cr":"lf"}function mu(e){switch(e){case"cr":return"\r";case"crlf":return`\r
`;default:return`
`}}function vm(e,t){let n;switch(t){case`
`:n=/\n/gu;break;case"\r":n=/\r/gu;break;case`\r
`:n=/\r\n/gu;break;default:throw new Error(`Unexpected "eol" ${JSON.stringify(t)}.`)}let r=e.match(n);return r?r.length:0}function Sw(e){return uo(!1,e,/\r\n?/gu,`
`)}var rr="string",gn="array",sr="cursor",pn="indent",bn="align",yn="trim",ot="group",Kt="fill",yt="if-break",vn="indent-if-break",Dn="line-suffix",wn="line-suffix-boundary",Je="line",Xt="label",kt="break-parent",Dm=new Set([sr,pn,bn,yn,ot,Kt,yt,vn,Dn,wn,Je,Xt,kt]),Ew=(e,t,n)=>{if(!(e&&t==null))return Array.isArray(t)||typeof t=="string"?t[n<0?t.length+n:n]:t.at(n)},We=Ew;function Aw(e){if(typeof e=="string")return rr;if(Array.isArray(e))return gn;if(!e)return;let{type:t}=e;if(Dm.has(t))return t}var ir=Aw,Nw=e=>new Intl.ListFormat("en-US",{type:"disjunction"}).format(e);function xw(e){let t=e===null?"null":typeof e;if(t!=="string"&&t!=="object")return`Unexpected doc '${t}', 
Expected it to be 'string' or 'object'.`;if(ir(e))throw new Error("doc is valid.");let n=Object.prototype.toString.call(e);if(n!=="[object Object]")return`Unexpected doc '${n}'.`;let r=Nw([...Dm].map(s=>`'${s}'`));return`Unexpected doc.type '${e.type}'.
Expected it to be ${r}.`}var Lw=class extends Error{constructor(t){super(xw(t));vt(this,"name","InvalidDocError");this.doc=t}},ts=Lw,wm={};function Cw(e,t,n,r){let s=[e];for(;s.length>0;){let i=s.pop();if(i===wm){n(s.pop());continue}n&&s.push(i,wm);let o=ir(i);if(!o)throw new ts(i);if((t==null?void 0:t(i))!==!1)switch(o){case gn:case Kt:{let a=o===gn?i:i.parts;for(let l=a.length,u=l-1;u>=0;--u)s.push(a[u]);break}case yt:s.push(i.flatContents,i.breakContents);break;case ot:if(r&&i.expandedStates)for(let a=i.expandedStates.length,l=a-1;l>=0;--l)s.push(i.expandedStates[l]);else s.push(i.contents);break;case bn:case pn:case vn:case Xt:case Dn:s.push(i.contents);break;case rr:case sr:case yn:case wn:case Je:case kt:break;default:throw new ts(i)}}}var gu=Cw;function go(e,t){if(typeof e=="string")return t(e);let n=new Map;return r(e);function r(i){if(n.has(i))return n.get(i);let o=s(i);return n.set(i,o),o}function s(i){switch(ir(i)){case gn:return t(i.map(r));case Kt:return t({...i,parts:i.parts.map(r)});case yt:return t({...i,breakContents:r(i.breakContents),flatContents:r(i.flatContents)});case ot:{let{expandedStates:o,contents:a}=i;return o?(o=o.map(r),a=o[0]):a=r(a),t({...i,contents:a,expandedStates:o})}case bn:case pn:case vn:case Xt:case Dn:return t({...i,contents:r(i.contents)});case rr:case sr:case yn:case wn:case Je:case kt:return t(i);default:throw new ts(i)}}}function pu(e,t,n){let r=n,s=!1;function i(o){if(s)return!1;let a=t(o);a!==void 0&&(s=!0,r=a)}return gu(e,i),r}function kw(e){if(e.type===ot&&e.break||e.type===Je&&e.hard||e.type===kt)return!0}function Fw(e){return pu(e,kw,!1)}function Sm(e){if(e.length>0){let t=We(!1,e,-1);!t.expandedStates&&!t.break&&(t.break="propagated")}return null}function _w(e){let t=new Set,n=[];function r(i){if(i.type===kt&&Sm(n),i.type===ot){if(n.push(i),t.has(i))return!1;t.add(i)}}function s(i){i.type===ot&&n.pop().break&&Sm(n)}gu(e,r,s,!0)}function Tw(e){return e.type===Je&&!e.hard?e.soft?"":" ":e.type===yt?e.flatContents:e}function Mw(e){return go(e,Tw)}function Em(e){for(e=[...e];e.length>=2&&We(!1,e,-2).type===Je&&We(!1,e,-1).type===kt;)e.length-=2;if(e.length>0){let t=Qs(We(!1,e,-1));e[e.length-1]=t}return e}function Qs(e){switch(ir(e)){case pn:case vn:case ot:case Dn:case Xt:{let t=Qs(e.contents);return{...e,contents:t}}case yt:return{...e,breakContents:Qs(e.breakContents),flatContents:Qs(e.flatContents)};case Kt:return{...e,parts:Em(e.parts)};case gn:return Em(e);case rr:return e.replace(/[\n\r]*$/u,"");case bn:case sr:case yn:case wn:case Je:case kt:break;default:throw new ts(e)}return e}function Am(e){return Qs(Rw(e))}function Ow(e){switch(ir(e)){case Kt:if(e.parts.every(t=>t===""))return"";break;case ot:if(!e.contents&&!e.id&&!e.break&&!e.expandedStates)return"";if(e.contents.type===ot&&e.contents.id===e.id&&e.contents.break===e.break&&e.contents.expandedStates===e.expandedStates)return e.contents;break;case bn:case pn:case vn:case Dn:if(!e.contents)return"";break;case yt:if(!e.flatContents&&!e.breakContents)return"";break;case gn:{let t=[];for(let n of e){if(!n)continue;let[r,...s]=Array.isArray(n)?n:[n];typeof r=="string"&&typeof We(!1,t,-1)=="string"?t[t.length-1]+=r:t.push(r),t.push(...s)}return t.length===0?"":t.length===1?t[0]:t}case rr:case sr:case yn:case wn:case Je:case Xt:case kt:break;default:throw new ts(e)}return e}function Rw(e){return go(e,t=>Ow(t))}function Pw(e,t=Cm){return go(e,n=>typeof n=="string"?km(t,n.split(`
`)):n)}function $w(e){if(e.type===Je)return!0}function Iw(e){return pu(e,$w,!1)}function po(e,t){return e.type===Xt?{...e,contents:t(e.contents)}:t(e)}var Bw=()=>{},Vw=Bw;function bo(e){return{type:pn,contents:e}}function ns(e,t){return{type:bn,contents:t,n:e}}function Nm(e,t={}){return Vw(t.expandedStates),{type:ot,id:t.id,contents:e,break:!!t.shouldBreak,expandedStates:t.expandedStates}}function jw(e){return ns(Number.NEGATIVE_INFINITY,e)}function Uw(e){return ns({type:"root"},e)}function qw(e){return ns(-1,e)}function Ww(e,t){return Nm(e[0],{...t,expandedStates:e})}function Hw(e){return{type:Kt,parts:e}}function Yw(e,t="",n={}){return{type:yt,breakContents:e,flatContents:t,groupId:n.groupId}}function zw(e,t){return{type:vn,contents:e,groupId:t.groupId,negate:t.negate}}function bu(e){return{type:Dn,contents:e}}var Gw={type:wn},yo={type:kt},Jw={type:yn},yu={type:Je,hard:!0},xm={type:Je,hard:!0,literal:!0},Lm={type:Je},Qw={type:Je,soft:!0},or=[yu,yo],Cm=[xm,yo],ar={type:sr};function km(e,t){let n=[];for(let r=0;r<t.length;r++)r!==0&&n.push(e),n.push(t[r]);return n}function Fm(e,t,n){let r=e;if(t>0){for(let s=0;s<Math.floor(t/n);++s)r=bo(r);r=ns(t%n,r),r=ns(Number.NEGATIVE_INFINITY,r)}return r}function Kw(e,t){return e?{type:Xt,label:e,contents:t}:t}function Sn(e){var t;if(!e)return"";if(Array.isArray(e)){let n=[];for(let r of e)if(Array.isArray(r))n.push(...Sn(r));else{let s=Sn(r);s!==""&&n.push(s)}return n}return e.type===yt?{...e,breakContents:Sn(e.breakContents),flatContents:Sn(e.flatContents)}:e.type===ot?{...e,contents:Sn(e.contents),expandedStates:(t=e.expandedStates)==null?void 0:t.map(Sn)}:e.type===Kt?{type:"fill",parts:e.parts.map(Sn)}:e.contents?{...e,contents:Sn(e.contents)}:e}function Xw(e){let t=Object.create(null),n=new Set;return r(Sn(e));function r(i,o,a){var l,u;if(typeof i=="string")return JSON.stringify(i);if(Array.isArray(i)){let f=i.map(r).filter(Boolean);return f.length===1?f[0]:`[${f.join(", ")}]`}if(i.type===Je){let f=((l=a==null?void 0:a[o+1])==null?void 0:l.type)===kt;return i.literal?f?"literalline":"literallineWithoutBreakParent":i.hard?f?"hardline":"hardlineWithoutBreakParent":i.soft?"softline":"line"}if(i.type===kt)return((u=a==null?void 0:a[o-1])==null?void 0:u.type)===Je&&a[o-1].hard?void 0:"breakParent";if(i.type===yn)return"trim";if(i.type===pn)return"indent("+r(i.contents)+")";if(i.type===bn)return i.n===Number.NEGATIVE_INFINITY?"dedentToRoot("+r(i.contents)+")":i.n<0?"dedent("+r(i.contents)+")":i.n.type==="root"?"markAsRoot("+r(i.contents)+")":"align("+JSON.stringify(i.n)+", "+r(i.contents)+")";if(i.type===yt)return"ifBreak("+r(i.breakContents)+(i.flatContents?", "+r(i.flatContents):"")+(i.groupId?(i.flatContents?"":', ""')+`, { groupId: ${s(i.groupId)} }`:"")+")";if(i.type===vn){let f=[];i.negate&&f.push("negate: true"),i.groupId&&f.push(`groupId: ${s(i.groupId)}`);let c=f.length>0?`, { ${f.join(", ")} }`:"";return`indentIfBreak(${r(i.contents)}${c})`}if(i.type===ot){let f=[];i.break&&i.break!=="propagated"&&f.push("shouldBreak: true"),i.id&&f.push(`id: ${s(i.id)}`);let c=f.length>0?`, { ${f.join(", ")} }`:"";return i.expandedStates?`conditionalGroup([${i.expandedStates.map(m=>r(m)).join(",")}]${c})`:`group(${r(i.contents)}${c})`}if(i.type===Kt)return`fill([${i.parts.map(f=>r(f)).join(", ")}])`;if(i.type===Dn)return"lineSuffix("+r(i.contents)+")";if(i.type===wn)return"lineSuffixBoundary";if(i.type===Xt)return`label(${JSON.stringify(i.label)}, ${r(i.contents)})`;throw new Error("Unknown doc type "+i.type)}function s(i){if(typeof i!="symbol")return JSON.stringify(String(i));if(i in t)return t[i];let o=i.description||"symbol";for(let a=0;;a++){let l=o+(a>0?` #${a}`:"");if(!n.has(l))return n.add(l),t[i]=`Symbol.for(${JSON.stringify(l)})`}}}var Zw=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC2\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;function e9(e){return e===12288||e>=65281&&e<=65376||e>=65504&&e<=65510}function t9(e){return e>=4352&&e<=4447||e===8986||e===8987||e===9001||e===9002||e>=9193&&e<=9196||e===9200||e===9203||e===9725||e===9726||e===9748||e===9749||e>=9776&&e<=9783||e>=9800&&e<=9811||e===9855||e>=9866&&e<=9871||e===9875||e===9889||e===9898||e===9899||e===9917||e===9918||e===9924||e===9925||e===9934||e===9940||e===9962||e===9970||e===9971||e===9973||e===9978||e===9981||e===9989||e===9994||e===9995||e===10024||e===10060||e===10062||e>=10067&&e<=10069||e===10071||e>=10133&&e<=10135||e===10160||e===10175||e===11035||e===11036||e===11088||e===11093||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12287||e>=12289&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12591||e>=12593&&e<=12686||e>=12688&&e<=12773||e>=12783&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=94176&&e<=94180||e===94192||e===94193||e>=94208&&e<=100343||e>=100352&&e<=101589||e>=101631&&e<=101640||e>=110576&&e<=110579||e>=110581&&e<=110587||e===110589||e===110590||e>=110592&&e<=110882||e===110898||e>=110928&&e<=110930||e===110933||e>=110948&&e<=110951||e>=110960&&e<=111355||e>=119552&&e<=119638||e>=119648&&e<=119670||e===126980||e===127183||e===127374||e>=127377&&e<=127386||e>=127488&&e<=127490||e>=127504&&e<=127547||e>=127552&&e<=127560||e===127568||e===127569||e>=127584&&e<=127589||e>=127744&&e<=127776||e>=127789&&e<=127797||e>=127799&&e<=127868||e>=127870&&e<=127891||e>=127904&&e<=127946||e>=127951&&e<=127955||e>=127968&&e<=127984||e===127988||e>=127992&&e<=128062||e===128064||e>=128066&&e<=128252||e>=128255&&e<=128317||e>=128331&&e<=128334||e>=128336&&e<=128359||e===128378||e===128405||e===128406||e===128420||e>=128507&&e<=128591||e>=128640&&e<=128709||e===128716||e>=128720&&e<=128722||e>=128725&&e<=128727||e>=128732&&e<=128735||e===128747||e===128748||e>=128756&&e<=128764||e>=128992&&e<=129003||e===129008||e>=129292&&e<=129338||e>=129340&&e<=129349||e>=129351&&e<=129535||e>=129648&&e<=129660||e>=129664&&e<=129673||e>=129679&&e<=129734||e>=129742&&e<=129756||e>=129759&&e<=129769||e>=129776&&e<=129784||e>=131072&&e<=196605||e>=196608&&e<=262141}var n9=e=>!(e9(e)||t9(e)),r9=/[^\x20-\x7F]/u;function s9(e){if(!e)return 0;if(!r9.test(e))return e.length;e=e.replace(Zw(),"  ");let t=0;for(let n of e){let r=n.codePointAt(0);r<=31||r>=127&&r<=159||r>=768&&r<=879||(t+=n9(r)?1:2)}return t}var vu=s9,at=Symbol("MODE_BREAK"),Zt=Symbol("MODE_FLAT"),rs=Symbol("cursor"),Du=Symbol("DOC_FILL_PRINTED_LENGTH");function _m(){return{value:"",length:0,queue:[]}}function i9(e,t){return wu(e,{type:"indent"},t)}function o9(e,t,n){return t===Number.NEGATIVE_INFINITY?e.root||_m():t<0?wu(e,{type:"dedent"},n):t?t.type==="root"?{...e,root:e}:wu(e,{type:typeof t=="string"?"stringAlign":"numberAlign",n:t},n):e}function wu(e,t,n){let r=t.type==="dedent"?e.queue.slice(0,-1):[...e.queue,t],s="",i=0,o=0,a=0;for(let w of r)switch(w.type){case"indent":f(),n.useTabs?l(1):u(n.tabWidth);break;case"stringAlign":f(),s+=w.n,i+=w.n.length;break;case"numberAlign":o+=1,a+=w.n;break;default:throw new Error(`Unexpected type '${w.type}'`)}return m(),{...e,value:s,length:i,queue:r};function l(w){s+="	".repeat(w),i+=n.tabWidth*w}function u(w){s+=" ".repeat(w),i+=w}function f(){n.useTabs?c():m()}function c(){o>0&&l(o),g()}function m(){a>0&&u(a),g()}function g(){o=0,a=0}}function Su(e){let t=0,n=0,r=e.length;e:for(;r--;){let s=e[r];if(s===rs){n++;continue}for(let i=s.length-1;i>=0;i--){let o=s[i];if(o===" "||o==="	")t++;else{e[r]=s.slice(0,i+1);break e}}}if(t>0||n>0)for(e.length=r+1;n-- >0;)e.push(rs);return t}function vo(e,t,n,r,s,i){if(n===Number.POSITIVE_INFINITY)return!0;let o=t.length,a=[e],l=[];for(;n>=0;){if(a.length===0){if(o===0)return!0;a.push(t[--o]);continue}let{mode:u,doc:f}=a.pop(),c=ir(f);switch(c){case rr:l.push(f),n-=vu(f);break;case gn:case Kt:{let m=c===gn?f:f.parts,g=f[Du]??0;for(let w=m.length-1;w>=g;w--)a.push({mode:u,doc:m[w]});break}case pn:case bn:case vn:case Xt:a.push({mode:u,doc:f.contents});break;case yn:n+=Su(l);break;case ot:{if(i&&f.break)return!1;let m=f.break?at:u,g=f.expandedStates&&m===at?We(!1,f.expandedStates,-1):f.contents;a.push({mode:m,doc:g});break}case yt:{let m=(f.groupId?s[f.groupId]||Zt:u)===at?f.breakContents:f.flatContents;m&&a.push({mode:u,doc:m});break}case Je:if(u===at||f.hard)return!0;f.soft||(l.push(" "),n--);break;case Dn:r=!0;break;case wn:if(r)return!1;break}}return!1}function Do(e,t){let n={},r=t.printWidth,s=mu(t.endOfLine),i=0,o=[{ind:_m(),mode:at,doc:e}],a=[],l=!1,u=[],f=0;for(_w(e);o.length>0;){let{ind:m,mode:g,doc:w}=o.pop();switch(ir(w)){case rr:{let A=s!==`
`?uo(!1,w,`
`,s):w;a.push(A),o.length>0&&(i+=vu(A));break}case gn:for(let A=w.length-1;A>=0;A--)o.push({ind:m,mode:g,doc:w[A]});break;case sr:if(f>=2)throw new Error("There are too many 'cursor' in doc.");a.push(rs),f++;break;case pn:o.push({ind:i9(m,t),mode:g,doc:w.contents});break;case bn:o.push({ind:o9(m,w.n,t),mode:g,doc:w.contents});break;case yn:i-=Su(a);break;case ot:switch(g){case Zt:if(!l){o.push({ind:m,mode:w.break?at:Zt,doc:w.contents});break}case at:{l=!1;let A={ind:m,mode:Zt,doc:w.contents},E=r-i,N=u.length>0;if(!w.break&&vo(A,o,E,N,n))o.push(A);else if(w.expandedStates){let k=We(!1,w.expandedStates,-1);if(w.break){o.push({ind:m,mode:at,doc:k});break}else for(let b=1;b<w.expandedStates.length+1;b++)if(b>=w.expandedStates.length){o.push({ind:m,mode:at,doc:k});break}else{let p=w.expandedStates[b],h={ind:m,mode:Zt,doc:p};if(vo(h,o,E,N,n)){o.push(h);break}}}else o.push({ind:m,mode:at,doc:w.contents});break}}w.id&&(n[w.id]=We(!1,o,-1).mode);break;case Kt:{let A=r-i,E=w[Du]??0,{parts:N}=w,k=N.length-E;if(k===0)break;let b=N[E+0],p=N[E+1],h={ind:m,mode:Zt,doc:b},d={ind:m,mode:at,doc:b},y=vo(h,[],A,u.length>0,n,!0);if(k===1){y?o.push(h):o.push(d);break}let S={ind:m,mode:Zt,doc:p},D={ind:m,mode:at,doc:p};if(k===2){y?o.push(S,h):o.push(D,d);break}let x=N[E+2],C={ind:m,mode:g,doc:{...w,[Du]:E+2}};vo({ind:m,mode:Zt,doc:[b,p,x]},[],A,u.length>0,n,!0)?o.push(C,S,h):y?o.push(C,D,h):o.push(C,D,d);break}case yt:case vn:{let A=w.groupId?n[w.groupId]:g;if(A===at){let E=w.type===yt?w.breakContents:w.negate?w.contents:bo(w.contents);E&&o.push({ind:m,mode:g,doc:E})}if(A===Zt){let E=w.type===yt?w.flatContents:w.negate?bo(w.contents):w.contents;E&&o.push({ind:m,mode:g,doc:E})}break}case Dn:u.push({ind:m,mode:g,doc:w.contents});break;case wn:u.length>0&&o.push({ind:m,mode:g,doc:yu});break;case Je:switch(g){case Zt:if(w.hard)l=!0;else{w.soft||(a.push(" "),i+=1);break}case at:if(u.length>0){o.push({ind:m,mode:g,doc:w},...u.reverse()),u.length=0;break}w.literal?m.root?(a.push(s,m.root.value),i=m.root.length):(a.push(s),i=0):(i-=Su(a),a.push(s+m.value),i=m.length);break}break;case Xt:o.push({ind:m,mode:g,doc:w.contents});break;case kt:break;default:throw new ts(w)}o.length===0&&u.length>0&&(o.push(...u.reverse()),u.length=0)}let c=a.indexOf(rs);if(c!==-1){let m=a.indexOf(rs,c+1);if(m===-1)return{formatted:a.filter(E=>E!==rs).join("")};let g=a.slice(0,c).join(""),w=a.slice(c+1,m).join(""),A=a.slice(m+1).join("");return{formatted:g+w+A,cursorNodeStart:g.length,cursorNodeText:w}}return{formatted:a.join("")}}function a9(e,t,n=0){let r=0;for(let s=n;s<e.length;++s)e[s]==="	"?r=r+t-r%t:r++;return r}var Eu=a9,lr,Au,wo,l9=class{constructor(e){fw(this,lr),this.stack=[e]}get key(){let{stack:e,siblings:t}=this;return We(!1,e,t===null?-2:-4)??null}get index(){return this.siblings===null?null:We(!1,this.stack,-2)}get node(){return We(!1,this.stack,-1)}get parent(){return this.getNode(1)}get grandparent(){return this.getNode(2)}get isInArray(){return this.siblings!==null}get siblings(){let{stack:e}=this,t=We(!1,e,-3);return Array.isArray(t)?t:null}get next(){let{siblings:e}=this;return e===null?null:e[this.index+1]}get previous(){let{siblings:e}=this;return e===null?null:e[this.index-1]}get isFirst(){return this.index===0}get isLast(){let{siblings:e,index:t}=this;return e!==null&&t===e.length-1}get isRoot(){return this.stack.length===1}get root(){return this.stack[0]}get ancestors(){return[...zs(this,lr,wo).call(this)]}getName(){let{stack:e}=this,{length:t}=e;return t>1?We(!1,e,-2):null}getValue(){return We(!1,this.stack,-1)}getNode(e=0){let t=zs(this,lr,Au).call(this,e);return t===-1?null:this.stack[t]}getParentNode(e=0){return this.getNode(e+1)}call(e,...t){let{stack:n}=this,{length:r}=n,s=We(!1,n,-1);for(let i of t)s=s[i],n.push(i,s);try{return e(this)}finally{n.length=r}}callParent(e,t=0){let n=zs(this,lr,Au).call(this,t+1),r=this.stack.splice(n+1);try{return e(this)}finally{this.stack.push(...r)}}each(e,...t){let{stack:n}=this,{length:r}=n,s=We(!1,n,-1);for(let i of t)s=s[i],n.push(i,s);try{for(let i=0;i<s.length;++i)n.push(i,s[i]),e(this,i,s),n.length-=2}finally{n.length=r}}map(e,...t){let n=[];return this.each((r,s,i)=>{n[s]=e(r,s,i)},...t),n}match(...e){let t=this.stack.length-1,n=null,r=this.stack[t--];for(let s of e){if(r===void 0)return!1;let i=null;if(typeof n=="number"&&(i=n,n=this.stack[t--],r=this.stack[t--]),s&&!s(r,n,i))return!1;n=this.stack[t--],r=this.stack[t--]}return!0}findAncestor(e){for(let t of zs(this,lr,wo).call(this))if(e(t))return t}hasAncestor(e){for(let t of zs(this,lr,wo).call(this))if(e(t))return!0;return!1}};lr=new WeakSet,Au=function(e){let{stack:t}=this;for(let n=t.length-1;n>=0;n-=2)if(!Array.isArray(t[n])&&--e<0)return n;return-1},wo=function*(){let{stack:e}=this;for(let t=e.length-3;t>=0;t-=2){let n=e[t];Array.isArray(n)||(yield n)}};var u9=l9,Tm=new Proxy(()=>{},{get:()=>Tm}),Nu=Tm;function c9(e){return e!==null&&typeof e=="object"}var f9=c9;function*So(e,t){let{getVisitorKeys:n,filter:r=()=>!0}=t,s=i=>f9(i)&&r(i);for(let i of n(e)){let o=e[i];if(Array.isArray(o))for(let a of o)s(a)&&(yield a);else s(o)&&(yield o)}}function*h9(e,t){let n=[e];for(let r=0;r<n.length;r++){let s=n[r];for(let i of So(s,t))yield i,n.push(i)}}function d9(e,t){return So(e,t).next().done}function Ks(e){return(t,n,r)=>{let s=!!(r!=null&&r.backwards);if(n===!1)return!1;let{length:i}=t,o=n;for(;o>=0&&o<i;){let a=t.charAt(o);if(e instanceof RegExp){if(!e.test(a))return o}else if(!e.includes(a))return o;s?o--:o++}return o===-1||o===i?o:!1}}var m9=Ks(/\s/u),Rn=Ks(" 	"),Mm=Ks(",; 	"),Om=Ks(/[^\n\r]/u);function g9(e,t,n){let r=!!(n!=null&&n.backwards);if(t===!1)return!1;let s=e.charAt(t);if(r){if(e.charAt(t-1)==="\r"&&s===`
`)return t-2;if(s===`
`||s==="\r"||s==="\u2028"||s==="\u2029")return t-1}else{if(s==="\r"&&e.charAt(t+1)===`
`)return t+2;if(s===`
`||s==="\r"||s==="\u2028"||s==="\u2029")return t+1}return t}var ur=g9;function p9(e,t,n={}){let r=Rn(e,n.backwards?t-1:t,n),s=ur(e,r,n);return r!==s}var Pn=p9;function b9(e){return Array.isArray(e)&&e.length>0}var y9=b9,Rm=new Set(["tokens","comments","parent","enclosingNode","precedingNode","followingNode"]),v9=e=>Object.keys(e).filter(t=>!Rm.has(t));function D9(e){return e?t=>e(t,Rm):v9}var Eo=D9;function w9(e){let t=e.type||e.kind||"(unknown type)",n=String(e.name||e.id&&(typeof e.id=="object"?e.id.name:e.id)||e.key&&(typeof e.key=="object"?e.key.name:e.key)||e.value&&(typeof e.value=="object"?"":String(e.value))||e.operator||"");return n.length>20&&(n=n.slice(0,19)+"…"),t+(n?" "+n:"")}function xu(e,t){(e.comments??(e.comments=[])).push(t),t.printed=!1,t.nodeDescription=w9(e)}function ss(e,t){t.leading=!0,t.trailing=!1,xu(e,t)}function cr(e,t,n){t.leading=!1,t.trailing=!1,n&&(t.marker=n),xu(e,t)}function is(e,t){t.leading=!1,t.trailing=!0,xu(e,t)}var Lu=new WeakMap;function Cu(e,t){if(Lu.has(e))return Lu.get(e);let{printer:{getCommentChildNodes:n,canAttachComment:r,getVisitorKeys:s},locStart:i,locEnd:o}=t;if(!r)return[];let a=((n==null?void 0:n(e,t))??[...So(e,{getVisitorKeys:Eo(s)})]).flatMap(l=>r(l)?[l]:Cu(l,t));return a.sort((l,u)=>i(l)-i(u)||o(l)-o(u)),Lu.set(e,a),a}function Pm(e,t,n,r){let{locStart:s,locEnd:i}=n,o=s(t),a=i(t),l=Cu(e,n),u,f,c=0,m=l.length;for(;c<m;){let g=c+m>>1,w=l[g],A=s(w),E=i(w);if(A<=o&&a<=E)return Pm(w,t,n,w);if(E<=o){u=w,c=g+1;continue}if(a<=A){f=w,m=g;continue}throw new Error("Comment location overlaps with node location")}if((r==null?void 0:r.type)==="TemplateLiteral"){let{quasis:g}=r,w=Fu(g,t,n);u&&Fu(g,u,n)!==w&&(u=null),f&&Fu(g,f,n)!==w&&(f=null)}return{enclosingNode:r,precedingNode:u,followingNode:f}}var ku=()=>!1;function S9(e,t){let{comments:n}=e;if(delete e.comments,!y9(n)||!t.printer.canAttachComment)return;let r=[],{locStart:s,locEnd:i,printer:{experimentalFeatures:{avoidAstMutation:o=!1}={},handleComments:a={}},originalText:l}=t,{ownLine:u=ku,endOfLine:f=ku,remaining:c=ku}=a,m=n.map((g,w)=>({...Pm(e,g,t),comment:g,text:l,options:t,ast:e,isLastComment:n.length-1===w}));for(let[g,w]of m.entries()){let{comment:A,precedingNode:E,enclosingNode:N,followingNode:k,text:b,options:p,ast:h,isLastComment:d}=w;if(p.parser==="json"||p.parser==="json5"||p.parser==="jsonc"||p.parser==="__js_expression"||p.parser==="__ts_expression"||p.parser==="__vue_expression"||p.parser==="__vue_ts_expression"){if(s(A)-s(h)<=0){ss(h,A);continue}if(i(A)-i(h)>=0){is(h,A);continue}}let y;if(o?y=[w]:(A.enclosingNode=N,A.precedingNode=E,A.followingNode=k,y=[A,b,p,h,d]),E9(b,p,m,g))A.placement="ownLine",u(...y)||(k?ss(k,A):E?is(E,A):cr(N||h,A));else if(A9(b,p,m,g))A.placement="endOfLine",f(...y)||(E?is(E,A):k?ss(k,A):cr(N||h,A));else if(A.placement="remaining",!c(...y))if(E&&k){let S=r.length;S>0&&r[S-1].followingNode!==k&&Im(r,p),r.push(w)}else E?is(E,A):k?ss(k,A):cr(N||h,A)}if(Im(r,t),!o)for(let g of n)delete g.precedingNode,delete g.enclosingNode,delete g.followingNode}var $m=e=>!/[\S\n\u2028\u2029]/u.test(e);function E9(e,t,n,r){let{comment:s,precedingNode:i}=n[r],{locStart:o,locEnd:a}=t,l=o(s);if(i)for(let u=r-1;u>=0;u--){let{comment:f,precedingNode:c}=n[u];if(c!==i||!$m(e.slice(a(f),l)))break;l=o(f)}return Pn(e,l,{backwards:!0})}function A9(e,t,n,r){let{comment:s,followingNode:i}=n[r],{locStart:o,locEnd:a}=t,l=a(s);if(i)for(let u=r+1;u<n.length;u++){let{comment:f,followingNode:c}=n[u];if(c!==i||!$m(e.slice(l,o(f))))break;l=a(f)}return Pn(e,l)}function Im(e,t){var n,r;let s=e.length;if(s===0)return;let{precedingNode:i,followingNode:o}=e[0],a=t.locStart(o),l;for(l=s;l>0;--l){let{comment:u,precedingNode:f,followingNode:c}=e[l-1];Nu.strictEqual(f,i),Nu.strictEqual(c,o);let m=t.originalText.slice(t.locEnd(u),a);if(((r=(n=t.printer).isGap)==null?void 0:r.call(n,m,t))??/^[\s(]*$/u.test(m))a=t.locStart(u);else break}for(let[u,{comment:f}]of e.entries())u<l?is(i,f):ss(o,f);for(let u of[i,o])u.comments&&u.comments.length>1&&u.comments.sort((f,c)=>t.locStart(f)-t.locStart(c));e.length=0}function Fu(e,t,n){let r=n.locStart(t)-1;for(let s=1;s<e.length;++s)if(r<n.locStart(e[s]))return s-1;return 0}function N9(e,t){let n=t-1;n=Rn(e,n,{backwards:!0}),n=ur(e,n,{backwards:!0}),n=Rn(e,n,{backwards:!0});let r=ur(e,n,{backwards:!0});return n!==r}var _u=N9;function Bm(e,t){let n=e.node;return n.printed=!0,t.printer.printComment(e,t)}function x9(e,t){var n;let r=e.node,s=[Bm(e,t)],{printer:i,originalText:o,locStart:a,locEnd:l}=t;if((n=i.isBlockComment)!=null&&n.call(i,r)){let f=Pn(o,l(r))?Pn(o,a(r),{backwards:!0})?or:Lm:" ";s.push(f)}else s.push(or);let u=ur(o,Rn(o,l(r)));return u!==!1&&Pn(o,u)&&s.push(or),s}function L9(e,t,n){var r;let s=e.node,i=Bm(e,t),{printer:o,originalText:a,locStart:l}=t,u=(r=o.isBlockComment)==null?void 0:r.call(o,s);if(n!=null&&n.hasLineSuffix&&!(n!=null&&n.isBlock)||Pn(a,l(s),{backwards:!0})){let f=_u(a,l(s));return{doc:bu([or,f?or:"",i]),isBlock:u,hasLineSuffix:!0}}return!u||n!=null&&n.hasLineSuffix?{doc:[bu([" ",i]),yo],isBlock:u,hasLineSuffix:!0}:{doc:[" ",i],isBlock:u,hasLineSuffix:!1}}function C9(e,t){let n=e.node;if(!n)return{};let r=t[Symbol.for("printedComments")];if((n.comments||[]).filter(a=>!r.has(a)).length===0)return{leading:"",trailing:""};let s=[],i=[],o;return e.each(()=>{let a=e.node;if(r!=null&&r.has(a))return;let{leading:l,trailing:u}=a;l?s.push(x9(e,t)):u&&(o=L9(e,t,o),i.push(o.doc))},"comments"),{leading:s,trailing:i}}function k9(e,t,n){let{leading:r,trailing:s}=C9(e,n);return!r&&!s?t:po(t,i=>[r,i,s])}function F9(e){let{[Symbol.for("comments")]:t,[Symbol.for("printedComments")]:n}=e;for(let r of t){if(!r.printed&&!n.has(r))throw new Error('Comment "'+r.value.trim()+'" was not printed. Please report this error!');delete r.printed}}var Vm=class extends Error{constructor(){super(...arguments);vt(this,"name","ConfigError")}},jm=class extends Error{constructor(){super(...arguments);vt(this,"name","UndefinedParserError")}},_9={cursorOffset:{category:"Special",type:"int",default:-1,range:{start:-1,end:1/0,step:1},description:"Print (to stderr) where a cursor at the given position would move to after formatting.",cliCategory:"Editor"},endOfLine:{category:"Global",type:"choice",default:"lf",description:"Which end of line characters to apply.",choices:[{value:"lf",description:"Line Feed only (\\n), common on Linux and macOS as well as inside git repos"},{value:"crlf",description:"Carriage Return + Line Feed characters (\\r\\n), common on Windows"},{value:"cr",description:"Carriage Return character only (\\r), used very rarely"},{value:"auto",description:`Maintain existing
(mixed values within one file are normalised by looking at what's used after the first line)`}]},filepath:{category:"Special",type:"path",description:"Specify the input filepath. This will be used to do parser inference.",cliName:"stdin-filepath",cliCategory:"Other",cliDescription:"Path to the file to pretend that stdin comes from."},insertPragma:{category:"Special",type:"boolean",default:!1,description:"Insert @format pragma into file's first docblock comment.",cliCategory:"Other"},parser:{category:"Global",type:"choice",default:void 0,description:"Which parser to use.",exception:e=>typeof e=="string"||typeof e=="function",choices:[{value:"flow",description:"Flow"},{value:"babel",description:"JavaScript"},{value:"babel-flow",description:"Flow"},{value:"babel-ts",description:"TypeScript"},{value:"typescript",description:"TypeScript"},{value:"acorn",description:"JavaScript"},{value:"espree",description:"JavaScript"},{value:"meriyah",description:"JavaScript"},{value:"css",description:"CSS"},{value:"less",description:"Less"},{value:"scss",description:"SCSS"},{value:"json",description:"JSON"},{value:"json5",description:"JSON5"},{value:"jsonc",description:"JSON with Comments"},{value:"json-stringify",description:"JSON.stringify"},{value:"graphql",description:"GraphQL"},{value:"markdown",description:"Markdown"},{value:"mdx",description:"MDX"},{value:"vue",description:"Vue"},{value:"yaml",description:"YAML"},{value:"glimmer",description:"Ember / Handlebars"},{value:"html",description:"HTML"},{value:"angular",description:"Angular"},{value:"lwc",description:"Lightning Web Components"}]},plugins:{type:"path",array:!0,default:[{value:[]}],category:"Global",description:"Add a plugin. Multiple plugins can be passed as separate `--plugin`s.",exception:e=>typeof e=="string"||typeof e=="object",cliName:"plugin",cliCategory:"Config"},printWidth:{category:"Global",type:"int",default:80,description:"The line length where Prettier will try wrap.",range:{start:0,end:1/0,step:1}},rangeEnd:{category:"Special",type:"int",default:1/0,range:{start:0,end:1/0,step:1},description:`Format code ending at a given character offset (exclusive).
The range will extend forwards to the end of the selected statement.`,cliCategory:"Editor"},rangeStart:{category:"Special",type:"int",default:0,range:{start:0,end:1/0,step:1},description:`Format code starting at a given character offset.
The range will extend backwards to the start of the first line containing the selected statement.`,cliCategory:"Editor"},requirePragma:{category:"Special",type:"boolean",default:!1,description:`Require either '@prettier' or '@format' to be present in the file's first docblock comment
in order for it to be formatted.`,cliCategory:"Other"},tabWidth:{type:"int",category:"Global",default:2,description:"Number of spaces per indentation level.",range:{start:0,end:1/0,step:1}},useTabs:{category:"Global",type:"boolean",default:!1,description:"Indent with tabs instead of spaces."},embeddedLanguageFormatting:{category:"Global",type:"choice",default:"auto",description:"Control how Prettier formats quoted code embedded in the file.",choices:[{value:"auto",description:"Format embedded code if Prettier can automatically identify it."},{value:"off",description:"Never automatically format embedded code."}]}};function Um({plugins:e=[],showDeprecated:t=!1}={}){let n=e.flatMap(s=>s.languages??[]),r=[];for(let s of M9(Object.assign({},...e.map(({options:i})=>i),_9)))!t&&s.deprecated||(Array.isArray(s.choices)&&(t||(s.choices=s.choices.filter(i=>!i.deprecated)),s.name==="parser"&&(s.choices=[...s.choices,...T9(s.choices,n,e)])),s.pluginDefaults=Object.fromEntries(e.filter(i=>{var o;return((o=i.defaultOptions)==null?void 0:o[s.name])!==void 0}).map(i=>[i.name,i.defaultOptions[s.name]])),r.push(s));return{languages:n,options:r}}function*T9(e,t,n){let r=new Set(e.map(s=>s.value));for(let s of t)if(s.parsers){for(let i of s.parsers)if(!r.has(i)){r.add(i);let o=n.find(l=>l.parsers&&Object.prototype.hasOwnProperty.call(l.parsers,i)),a=s.name;o!=null&&o.name&&(a+=` (plugin: ${o.name})`),yield{value:i,description:a}}}}function M9(e){let t=[];for(let[n,r]of Object.entries(e)){let s={name:n,...r};Array.isArray(s.default)&&(s.default=We(!1,s.default,-1).value),t.push(s)}return t}var O9=e=>String(e).split(/[/\\]/u).pop();function qm(e,t){if(!t)return;let n=O9(t).toLowerCase();return e.find(({filenames:r})=>r==null?void 0:r.some(s=>s.toLowerCase()===n))??e.find(({extensions:r})=>r==null?void 0:r.some(s=>n.endsWith(s)))}function R9(e,t){if(t)return e.find(({name:n})=>n.toLowerCase()===t)??e.find(({aliases:n})=>n==null?void 0:n.includes(t))??e.find(({extensions:n})=>n==null?void 0:n.includes(`.${t}`))}function P9(e,t){let n=e.plugins.flatMap(s=>s.languages??[]),r=R9(n,t.language)??qm(n,t.physicalFile)??qm(n,t.file)??(t.physicalFile,void 0);return r==null?void 0:r.parsers[0]}var $9=P9,os={key:e=>/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?e:JSON.stringify(e),value(e){if(e===null||typeof e!="object")return JSON.stringify(e);if(Array.isArray(e))return`[${e.map(n=>os.value(n)).join(", ")}]`;let t=Object.keys(e);return t.length===0?"{}":`{ ${t.map(n=>`${os.key(n)}: ${os.value(e[n])}`).join(", ")} }`},pair:({key:e,value:t})=>os.value({[e]:t})},Wm=lo(lu()),I9=(e,t,{descriptor:n})=>{let r=[`${Wm.default.yellow(typeof e=="string"?n.key(e):n.pair(e))} is deprecated`];return t&&r.push(`we now treat it as ${Wm.default.blue(typeof t=="string"?n.key(t):n.pair(t))}`),r.join("; ")+"."},as=lo(lu()),Hm=Symbol.for("vnopts.VALUE_NOT_EXIST"),Ao=Symbol.for("vnopts.VALUE_UNCHANGED"),Ym=" ".repeat(2),B9=(e,t,n)=>{let{text:r,list:s}=n.normalizeExpectedResult(n.schemas[e].expected(n)),i=[];return r&&i.push(zm(e,t,r,n.descriptor)),s&&i.push([zm(e,t,s.title,n.descriptor)].concat(s.values.map(o=>Gm(o,n.loggerPrintWidth))).join(`
`)),Jm(i,n.loggerPrintWidth)};function zm(e,t,n,r){return[`Invalid ${as.default.red(r.key(e))} value.`,`Expected ${as.default.blue(n)},`,`but received ${t===Hm?as.default.gray("nothing"):as.default.red(r.value(t))}.`].join(" ")}function Gm({text:e,list:t},n){let r=[];return e&&r.push(`- ${as.default.blue(e)}`),t&&r.push([`- ${as.default.blue(t.title)}:`].concat(t.values.map(s=>Gm(s,n-Ym.length).replace(/^|\n/g,`$&${Ym}`))).join(`
`)),Jm(r,n)}function Jm(e,t){if(e.length===1)return e[0];let[n,r]=e,[s,i]=e.map(o=>o.split(`
`,1)[0].length);return s>t&&s>i?r:n}var Qm=lo(lu()),Tu=[],Km=[];function V9(e,t){if(e===t)return 0;let n=e;e.length>t.length&&(e=t,t=n);let r=e.length,s=t.length;for(;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-s);)r--,s--;let i=0;for(;i<r&&e.charCodeAt(i)===t.charCodeAt(i);)i++;if(r-=i,s-=i,r===0)return s;let o,a,l,u,f=0,c=0;for(;f<r;)Km[f]=e.charCodeAt(i+f),Tu[f]=++f;for(;c<s;)for(o=t.charCodeAt(i+c),l=c++,a=c,f=0;f<r;f++)u=o===Km[f]?l:l+1,l=Tu[f],a=Tu[f]=l>a?u>a?a+1:u:u>l?l+1:u;return a}var Xm=(e,t,{descriptor:n,logger:r,schemas:s})=>{let i=[`Ignored unknown option ${Qm.default.yellow(n.pair({key:e,value:t}))}.`],o=Object.keys(s).sort().find(a=>V9(e,a)<3);o&&i.push(`Did you mean ${Qm.default.blue(n.key(o))}?`),r.warn(i.join(" "))},j9=["default","expected","validate","deprecated","forward","redirect","overlap","preprocess","postprocess"];function U9(e,t){let n=new e(t),r=Object.create(n);for(let s of j9)s in t&&(r[s]=q9(t[s],n,$n.prototype[s].length));return r}var $n=class{static create(e){return U9(this,e)}constructor(e){this.name=e.name}default(e){}expected(e){return"nothing"}validate(e,t){return!1}deprecated(e,t){return!1}forward(e,t){}redirect(e,t){}overlap(e,t,n){return e}preprocess(e,t){return e}postprocess(e,t){return Ao}};function q9(e,t,n){return typeof e=="function"?(...r)=>e(...r.slice(0,n-1),t,...r.slice(n-1)):()=>e}var W9=class extends $n{constructor(e){super(e),this._sourceName=e.sourceName}expected(e){return e.schemas[this._sourceName].expected(e)}validate(e,t){return t.schemas[this._sourceName].validate(e,t)}redirect(e,t){return this._sourceName}},H9=class extends $n{expected(){return"anything"}validate(){return!0}},Y9=class extends $n{constructor({valueSchema:e,name:t=e.name,...n}){super({...n,name:t}),this._valueSchema=e}expected(e){let{text:t,list:n}=e.normalizeExpectedResult(this._valueSchema.expected(e));return{text:t&&`an array of ${t}`,list:n&&{title:"an array of the following values",values:[{list:n}]}}}validate(e,t){if(!Array.isArray(e))return!1;let n=[];for(let r of e){let s=t.normalizeValidateResult(this._valueSchema.validate(r,t),r);s!==!0&&n.push(s.value)}return n.length===0?!0:{value:n}}deprecated(e,t){let n=[];for(let r of e){let s=t.normalizeDeprecatedResult(this._valueSchema.deprecated(r,t),r);s!==!1&&n.push(...s.map(({value:i})=>({value:[i]})))}return n}forward(e,t){let n=[];for(let r of e){let s=t.normalizeForwardResult(this._valueSchema.forward(r,t),r);n.push(...s.map(Zm))}return n}redirect(e,t){let n=[],r=[];for(let s of e){let i=t.normalizeRedirectResult(this._valueSchema.redirect(s,t),s);"remain"in i&&n.push(i.remain),r.push(...i.redirect.map(Zm))}return n.length===0?{redirect:r}:{redirect:r,remain:n}}overlap(e,t){return e.concat(t)}};function Zm({from:e,to:t}){return{from:[e],to:t}}var z9=class extends $n{expected(){return"true or false"}validate(e){return typeof e=="boolean"}};function G9(e,t){let n=Object.create(null);for(let r of e){let s=r[t];if(n[s])throw new Error(`Duplicate ${t} ${JSON.stringify(s)}`);n[s]=r}return n}function J9(e,t){let n=new Map;for(let r of e){let s=r[t];if(n.has(s))throw new Error(`Duplicate ${t} ${JSON.stringify(s)}`);n.set(s,r)}return n}function Q9(){let e=Object.create(null);return t=>{let n=JSON.stringify(t);return e[n]?!0:(e[n]=!0,!1)}}function K9(e,t){let n=[],r=[];for(let s of e)t(s)?n.push(s):r.push(s);return[n,r]}function X9(e){return e===Math.floor(e)}function Z9(e,t){if(e===t)return 0;let n=typeof e,r=typeof t,s=["undefined","object","boolean","number","string"];return n!==r?s.indexOf(n)-s.indexOf(r):n!=="string"?Number(e)-Number(t):e.localeCompare(t)}function e7(e){return(...t)=>{let n=e(...t);return typeof n=="string"?new Error(n):n}}function eg(e){return e===void 0?{}:e}function tg(e){if(typeof e=="string")return{text:e};let{text:t,list:n}=e;return t7((t||n)!==void 0,"Unexpected `expected` result, there should be at least one field."),n?{text:t,list:{title:n.title,values:n.values.map(tg)}}:{text:t}}function ng(e,t){return e===!0?!0:e===!1?{value:t}:e}function rg(e,t,n=!1){return e===!1?!1:e===!0?n?!0:[{value:t}]:"value"in e?[e]:e.length===0?!1:e}function sg(e,t){return typeof e=="string"||"key"in e?{from:t,to:e}:"from"in e?{from:e.from,to:e.to}:{from:t,to:e.to}}function Mu(e,t){return e===void 0?[]:Array.isArray(e)?e.map(n=>sg(n,t)):[sg(e,t)]}function ig(e,t){let n=Mu(typeof e=="object"&&"redirect"in e?e.redirect:e,t);return n.length===0?{remain:t,redirect:n}:typeof e=="object"&&"remain"in e?{remain:e.remain,redirect:n}:{redirect:n}}function t7(e,t){if(!e)throw new Error(t)}var n7=class extends $n{constructor(e){super(e),this._choices=J9(e.choices.map(t=>t&&typeof t=="object"?t:{value:t}),"value")}expected({descriptor:e}){let t=Array.from(this._choices.keys()).map(s=>this._choices.get(s)).filter(({hidden:s})=>!s).map(s=>s.value).sort(Z9).map(e.value),n=t.slice(0,-2),r=t.slice(-2);return{text:n.concat(r.join(" or ")).join(", "),list:{title:"one of the following values",values:t}}}validate(e){return this._choices.has(e)}deprecated(e){let t=this._choices.get(e);return t&&t.deprecated?{value:e}:!1}forward(e){let t=this._choices.get(e);return t?t.forward:void 0}redirect(e){let t=this._choices.get(e);return t?t.redirect:void 0}},r7=class extends $n{expected(){return"a number"}validate(e,t){return typeof e=="number"}},s7=class extends r7{expected(){return"an integer"}validate(e,t){return t.normalizeValidateResult(super.validate(e,t),e)===!0&&X9(e)}},og=class extends $n{expected(){return"a string"}validate(e){return typeof e=="string"}},i7=os,o7=Xm,a7=B9,l7=I9,u7=class{constructor(e,t){let{logger:n=console,loggerPrintWidth:r=80,descriptor:s=i7,unknown:i=o7,invalid:o=a7,deprecated:a=l7,missing:l=()=>!1,required:u=()=>!1,preprocess:f=m=>m,postprocess:c=()=>Ao}=t||{};this._utils={descriptor:s,logger:n||{warn:()=>{}},loggerPrintWidth:r,schemas:G9(e,"name"),normalizeDefaultResult:eg,normalizeExpectedResult:tg,normalizeDeprecatedResult:rg,normalizeForwardResult:Mu,normalizeRedirectResult:ig,normalizeValidateResult:ng},this._unknownHandler=i,this._invalidHandler=e7(o),this._deprecatedHandler=a,this._identifyMissing=(m,g)=>!(m in g)||l(m,g),this._identifyRequired=u,this._preprocess=f,this._postprocess=c,this.cleanHistory()}cleanHistory(){this._hasDeprecationWarned=Q9()}normalize(e){let t={},n=[this._preprocess(e,this._utils)],r=()=>{for(;n.length!==0;){let s=n.shift(),i=this._applyNormalization(s,t);n.push(...i)}};r();for(let s of Object.keys(this._utils.schemas)){let i=this._utils.schemas[s];if(!(s in t)){let o=eg(i.default(this._utils));"value"in o&&n.push({[s]:o.value})}}r();for(let s of Object.keys(this._utils.schemas)){if(!(s in t))continue;let i=this._utils.schemas[s],o=t[s],a=i.postprocess(o,this._utils);a!==Ao&&(this._applyValidation(a,s,i),t[s]=a)}return this._applyPostprocess(t),this._applyRequiredCheck(t),t}_applyNormalization(e,t){let n=[],{knownKeys:r,unknownKeys:s}=this._partitionOptionKeys(e);for(let i of r){let o=this._utils.schemas[i],a=o.preprocess(e[i],this._utils);this._applyValidation(a,i,o);let l=({from:c,to:m})=>{n.push(typeof m=="string"?{[m]:c}:{[m.key]:m.value})},u=({value:c,redirectTo:m})=>{let g=rg(o.deprecated(c,this._utils),a,!0);if(g!==!1)if(g===!0)this._hasDeprecationWarned(i)||this._utils.logger.warn(this._deprecatedHandler(i,m,this._utils));else for(let{value:w}of g){let A={key:i,value:w};if(!this._hasDeprecationWarned(A)){let E=typeof m=="string"?{key:m,value:w}:m;this._utils.logger.warn(this._deprecatedHandler(A,E,this._utils))}}};Mu(o.forward(a,this._utils),a).forEach(l);let f=ig(o.redirect(a,this._utils),a);if(f.redirect.forEach(l),"remain"in f){let c=f.remain;t[i]=i in t?o.overlap(t[i],c,this._utils):c,u({value:c})}for(let{from:c,to:m}of f.redirect)u({value:c,redirectTo:m})}for(let i of s){let o=e[i];this._applyUnknownHandler(i,o,t,(a,l)=>{n.push({[a]:l})})}return n}_applyRequiredCheck(e){for(let t of Object.keys(this._utils.schemas))if(this._identifyMissing(t,e)&&this._identifyRequired(t))throw this._invalidHandler(t,Hm,this._utils)}_partitionOptionKeys(e){let[t,n]=K9(Object.keys(e).filter(r=>!this._identifyMissing(r,e)),r=>r in this._utils.schemas);return{knownKeys:t,unknownKeys:n}}_applyValidation(e,t,n){let r=ng(n.validate(e,this._utils),e);if(r!==!0)throw this._invalidHandler(t,r.value,this._utils)}_applyUnknownHandler(e,t,n,r){let s=this._unknownHandler(e,t,this._utils);if(s)for(let i of Object.keys(s)){if(this._identifyMissing(i,s))continue;let o=s[i];i in this._utils.schemas?r(i,o):n[i]=o}}_applyPostprocess(e){let t=this._postprocess(e,this._utils);if(t!==Ao){if(t.delete)for(let n of t.delete)delete e[n];if(t.override){let{knownKeys:n,unknownKeys:r}=this._partitionOptionKeys(t.override);for(let s of n){let i=t.override[s];this._applyValidation(i,s,this._utils.schemas[s]),e[s]=i}for(let s of r){let i=t.override[s];this._applyUnknownHandler(s,i,e,(o,a)=>{let l=this._utils.schemas[o];this._applyValidation(a,o,l),e[o]=a})}}}}},Ou;function c7(e,t,{logger:n=!1,isCLI:r=!1,passThrough:s=!1,FlagSchema:i,descriptor:o}={}){if(r){if(!i)throw new Error("'FlagSchema' option is required.");if(!o)throw new Error("'descriptor' option is required.")}else o=os;let a=s?Array.isArray(s)?(m,g)=>s.includes(m)?{[m]:g}:void 0:(m,g)=>({[m]:g}):(m,g,w)=>{let{_:A,...E}=w.schemas;return Xm(m,g,{...w,schemas:E})},l=f7(t,{isCLI:r,FlagSchema:i}),u=new u7(l,{logger:n,unknown:a,descriptor:o}),f=n!==!1;f&&Ou&&(u._hasDeprecationWarned=Ou);let c=u.normalize(e);return f&&(Ou=u._hasDeprecationWarned),c}function f7(e,{isCLI:t,FlagSchema:n}){let r=[];t&&r.push(H9.create({name:"_"}));for(let s of e)r.push(h7(s,{isCLI:t,optionInfos:e,FlagSchema:n})),s.alias&&t&&r.push(W9.create({name:s.alias,sourceName:s.name}));return r}function h7(e,{isCLI:t,optionInfos:n,FlagSchema:r}){let{name:s}=e,i={name:s},o,a={};switch(e.type){case"int":o=s7,t&&(i.preprocess=Number);break;case"string":o=og;break;case"choice":o=n7,i.choices=e.choices.map(l=>l!=null&&l.redirect?{...l,redirect:{to:{key:e.name,value:l.redirect}}}:l);break;case"boolean":o=z9;break;case"flag":o=r,i.flags=n.flatMap(l=>[l.alias,l.description&&l.name,l.oppositeDescription&&`no-${l.name}`].filter(Boolean));break;case"path":o=og;break;default:throw new Error(`Unexpected type ${e.type}`)}if(e.exception?i.validate=(l,u,f)=>e.exception(l)||u.validate(l,f):i.validate=(l,u,f)=>l===void 0||u.validate(l,f),e.redirect&&(a.redirect=l=>l?{to:typeof e.redirect=="string"?e.redirect:{key:e.redirect.option,value:e.redirect.value}}:void 0),e.deprecated&&(a.deprecated=!0),t&&!e.array){let l=i.preprocess||(u=>u);i.preprocess=(u,f,c)=>f.preprocess(l(Array.isArray(u)?We(!1,u,-1):u),c)}return e.array?Y9.create({...t?{preprocess:l=>Array.isArray(l)?l:[l]}:{},...a,valueSchema:o.create(i)}):o.create({...i,...a})}var d7=c7,m7=(e,t,n)=>{if(!(e&&t==null)){if(t.findLast)return t.findLast(n);for(let r=t.length-1;r>=0;r--){let s=t[r];if(n(s,r,t))return s}}},ag=m7;function lg(e,t){if(!t)throw new Error("parserName is required.");let n=ag(!1,e,s=>s.parsers&&Object.prototype.hasOwnProperty.call(s.parsers,t));if(n)return n;let r=`Couldn't resolve parser "${t}".`;throw r+=" Plugins must be explicitly added to the standalone bundle.",new Vm(r)}function g7(e,t){if(!t)throw new Error("astFormat is required.");let n=ag(!1,e,s=>s.printers&&Object.prototype.hasOwnProperty.call(s.printers,t));if(n)return n;let r=`Couldn't find plugin for AST format "${t}".`;throw r+=" Plugins must be explicitly added to the standalone bundle.",new Vm(r)}function ug({plugins:e,parser:t}){let n=lg(e,t);return cg(n,t)}function cg(e,t){let n=e.parsers[t];return typeof n=="function"?n():n}function p7(e,t){let n=e.printers[t];return typeof n=="function"?n():n}var fg={astFormat:"estree",printer:{},originalText:void 0,locStart:null,locEnd:null};async function b7(e,t={}){var n;let r={...e};if(!r.parser)if(r.filepath){if(r.parser=$9(r,{physicalFile:r.filepath}),!r.parser)throw new jm(`No parser could be inferred for file "${r.filepath}".`)}else throw new jm("No parser and no file path given, couldn't infer a parser.");let s=Um({plugins:e.plugins,showDeprecated:!0}).options,i={...fg,...Object.fromEntries(s.filter(m=>m.default!==void 0).map(m=>[m.name,m.default]))},o=lg(r.plugins,r.parser),a=await cg(o,r.parser);r.astFormat=a.astFormat,r.locEnd=a.locEnd,r.locStart=a.locStart;let l=(n=o.printers)!=null&&n[a.astFormat]?o:g7(r.plugins,a.astFormat),u=await p7(l,a.astFormat);r.printer=u;let f=l.defaultOptions?Object.fromEntries(Object.entries(l.defaultOptions).filter(([,m])=>m!==void 0)):{},c={...i,...f};for(let[m,g]of Object.entries(c))(r[m]===null||r[m]===void 0)&&(r[m]=g);return r.parser==="json"&&(r.trailingComma="none"),d7(r,s,{passThrough:Object.keys(fg),...t})}var ls=b7,y7=lo(hw());async function v7(e,t){let n=await ug(t),r=n.preprocess?n.preprocess(e,t):e;t.originalText=r;let s;try{s=await n.parse(r,t,t)}catch(i){D7(i,e)}return{text:r,ast:s}}function D7(e,t){let{loc:n}=e;if(n){let r=(0,y7.codeFrameColumns)(t,n,{highlightCode:!0});throw e.message+=`
`+r,e.codeFrame=r,e}throw e}var Xs=v7;async function w7(e,t,n,r,s){let{embeddedLanguageFormatting:i,printer:{embed:o,hasPrettierIgnore:a=()=>!1,getVisitorKeys:l}}=n;if(!o||i!=="auto")return;if(o.length>2)throw new Error("printer.embed has too many parameters. The API changed in Prettier v3. Please update your plugin. See https://prettier.io/docs/plugins#optional-embed");let u=Eo(o.getVisitorKeys??l),f=[];g();let c=e.stack;for(let{print:w,node:A,pathStack:E}of f)try{e.stack=E;let N=await w(m,t,e,n);N&&s.set(A,N)}catch(N){if(globalThis.PRETTIER_DEBUG)throw N}e.stack=c;function m(w,A){return S7(w,A,n,r)}function g(){let{node:w}=e;if(w===null||typeof w!="object"||a(e))return;for(let E of u(w))Array.isArray(w[E])?e.each(g,E):e.call(g,E);let A=o(e,n);if(A){if(typeof A=="function"){f.push({print:A,node:w,pathStack:[...e.stack]});return}s.set(w,A)}}}async function S7(e,t,n,r){let s=await ls({...n,...t,parentParser:n.parser,originalText:e},{passThrough:!0}),{ast:i}=await Xs(e,s),o=await r(i,s);return Am(o)}function E7(e,t){let{originalText:n,[Symbol.for("comments")]:r,locStart:s,locEnd:i,[Symbol.for("printedComments")]:o}=t,{node:a}=e,l=s(a),u=i(a);for(let f of r)s(f)>=l&&i(f)<=u&&o.add(f);return n.slice(l,u)}var A7=E7;async function No(e,t){({ast:e}=await dg(e,t));let n=new Map,r=new u9(e),s=new Map;await w7(r,o,t,No,s);let i=await hg(r,t,o,void 0,s);if(F9(t),t.nodeAfterCursor&&!t.nodeBeforeCursor)return[ar,i];if(t.nodeBeforeCursor&&!t.nodeAfterCursor)return[i,ar];return i;function o(l,u){return l===void 0||l===r?a(u):Array.isArray(l)?r.call(()=>a(u),...l):r.call(()=>a(u),l)}function a(l){let u=r.node;if(u==null)return"";let f=u&&typeof u=="object"&&l===void 0;if(f&&n.has(u))return n.get(u);let c=hg(r,t,o,l,s);return f&&n.set(u,c),c}}function hg(e,t,n,r,s){var i;let{node:o}=e,{printer:a}=t,l;switch((i=a.hasPrettierIgnore)!=null&&i.call(a,e)?l=A7(e,t):s.has(o)?l=s.get(o):l=a.print(e,t,n,r),o){case t.cursorNode:l=po(l,u=>[ar,u,ar]);break;case t.nodeBeforeCursor:l=po(l,u=>[u,ar]);break;case t.nodeAfterCursor:l=po(l,u=>[ar,u]);break}return a.printComment&&(!a.willPrintOwnComments||!a.willPrintOwnComments(e,t))&&(l=k9(e,l,t)),l}async function dg(e,t){let n=e.comments??[];t[Symbol.for("comments")]=n,t[Symbol.for("tokens")]=e.tokens??[],t[Symbol.for("printedComments")]=new Set,S9(e,t);let{printer:{preprocess:r}}=t;return e=r?await r(e,t):e,{ast:e,comments:n}}function N7(e,t){let{cursorOffset:n,locStart:r,locEnd:s}=t,i=Eo(t.printer.getVisitorKeys),o=g=>r(g)<=n&&s(g)>=n,a=e,l=[e];for(let g of h9(e,{getVisitorKeys:i,filter:o}))l.push(g),a=g;if(d9(a,{getVisitorKeys:i}))return{cursorNode:a};let u,f,c=-1,m=Number.POSITIVE_INFINITY;for(;l.length>0&&(u===void 0||f===void 0);){a=l.pop();let g=u!==void 0,w=f!==void 0;for(let A of So(a,{getVisitorKeys:i})){if(!g){let E=s(A);E<=n&&E>c&&(u=A,c=E)}if(!w){let E=r(A);E>=n&&E<m&&(f=A,m=E)}}}return{nodeBeforeCursor:u,nodeAfterCursor:f}}var x7=N7;function L7(e,t){let{printer:{massageAstNode:n,getVisitorKeys:r}}=t;if(!n)return e;let s=Eo(r),i=n.ignoredProperties??new Set;return o(e);function o(a,l){if(!(a!==null&&typeof a=="object"))return a;if(Array.isArray(a))return a.map(m=>o(m,l)).filter(Boolean);let u={},f=new Set(s(a));for(let m in a)!Object.prototype.hasOwnProperty.call(a,m)||i.has(m)||(f.has(m)?u[m]=o(a[m],a):u[m]=a[m]);let c=n(a,u,l);if(c!==null)return c??u}}var C7=L7,k7=(e,t,n)=>{if(!(e&&t==null)){if(t.findLastIndex)return t.findLastIndex(n);for(let r=t.length-1;r>=0;r--){let s=t[r];if(n(s,r,t))return r}return-1}},F7=k7,_7=({parser:e})=>e==="json"||e==="json5"||e==="jsonc"||e==="json-stringify";function T7(e,t){let n=[e.node,...e.parentNodes],r=new Set([t.node,...t.parentNodes]);return n.find(s=>gg.has(s.type)&&r.has(s))}function mg(e){let t=F7(!1,e,n=>n.type!=="Program"&&n.type!=="File");return t===-1?e:e.slice(0,t+1)}function M7(e,t,{locStart:n,locEnd:r}){let s=e.node,i=t.node;if(s===i)return{startNode:s,endNode:i};let o=n(e.node);for(let l of mg(t.parentNodes))if(n(l)>=o)i=l;else break;let a=r(t.node);for(let l of mg(e.parentNodes)){if(r(l)<=a)s=l;else break;if(s===i)break}return{startNode:s,endNode:i}}function Ru(e,t,n,r,s=[],i){let{locStart:o,locEnd:a}=n,l=o(e),u=a(e);if(!(t>u||t<l||i==="rangeEnd"&&t===l||i==="rangeStart"&&t===u)){for(let f of Cu(e,n)){let c=Ru(f,t,n,r,[e,...s],i);if(c)return c}if(!r||r(e,s[0]))return{node:e,parentNodes:s}}}function O7(e,t){return t!=="DeclareExportDeclaration"&&e!=="TypeParameterDeclaration"&&(e==="Directive"||e==="TypeAlias"||e==="TSExportAssignment"||e.startsWith("Declare")||e.startsWith("TSDeclare")||e.endsWith("Statement")||e.endsWith("Declaration"))}var gg=new Set(["JsonRoot","ObjectExpression","ArrayExpression","StringLiteral","NumericLiteral","BooleanLiteral","NullLiteral","UnaryExpression","TemplateLiteral"]),R7=new Set(["OperationDefinition","FragmentDefinition","VariableDefinition","TypeExtensionDefinition","ObjectTypeDefinition","FieldDefinition","DirectiveDefinition","EnumTypeDefinition","EnumValueDefinition","InputValueDefinition","InputObjectTypeDefinition","SchemaDefinition","OperationTypeDefinition","InterfaceTypeDefinition","UnionTypeDefinition","ScalarTypeDefinition"]);function pg(e,t,n){if(!t)return!1;switch(e.parser){case"flow":case"babel":case"babel-flow":case"babel-ts":case"typescript":case"acorn":case"espree":case"meriyah":case"__babel_estree":return O7(t.type,n==null?void 0:n.type);case"json":case"json5":case"jsonc":case"json-stringify":return gg.has(t.type);case"graphql":return R7.has(t.kind);case"vue":return t.tag!=="root"}return!1}function P7(e,t,n){let{rangeStart:r,rangeEnd:s,locStart:i,locEnd:o}=t;Nu.ok(s>r);let a=e.slice(r,s).search(/\S/u),l=a===-1;if(!l)for(r+=a;s>r&&!/\S/u.test(e[s-1]);--s);let u=Ru(n,r,t,(g,w)=>pg(t,g,w),[],"rangeStart"),f=l?u:Ru(n,s,t,g=>pg(t,g),[],"rangeEnd");if(!u||!f)return{rangeStart:0,rangeEnd:0};let c,m;if(_7(t)){let g=T7(u,f);c=g,m=g}else({startNode:c,endNode:m}=M7(u,f,t));return{rangeStart:Math.min(i(c),i(m)),rangeEnd:Math.max(o(c),o(m))}}var bg="\uFEFF",yg=Symbol("cursor");async function vg(e,t,n=0){if(!e||e.trim().length===0)return{formatted:"",cursorOffset:-1,comments:[]};let{ast:r,text:s}=await Xs(e,t);t.cursorOffset>=0&&(t={...t,...x7(r,t)});let i=await No(r,t);n>0&&(i=Fm([or,i],n,t.tabWidth));let o=Do(i,t);if(n>0){let l=o.formatted.trim();o.cursorNodeStart!==void 0&&(o.cursorNodeStart-=o.formatted.indexOf(l),o.cursorNodeStart<0&&(o.cursorNodeStart=0,o.cursorNodeText=o.cursorNodeText.trimStart()),o.cursorNodeStart+o.cursorNodeText.length>l.length&&(o.cursorNodeText=o.cursorNodeText.trimEnd())),o.formatted=l+mu(t.endOfLine)}let a=t[Symbol.for("comments")];if(t.cursorOffset>=0){let l,u,f,c;if((t.cursorNode||t.nodeBeforeCursor||t.nodeAfterCursor)&&o.cursorNodeText)if(f=o.cursorNodeStart,c=o.cursorNodeText,t.cursorNode)l=t.locStart(t.cursorNode),u=s.slice(l,t.locEnd(t.cursorNode));else{if(!t.nodeBeforeCursor&&!t.nodeAfterCursor)throw new Error("Cursor location must contain at least one of cursorNode, nodeBeforeCursor, nodeAfterCursor");l=t.nodeBeforeCursor?t.locEnd(t.nodeBeforeCursor):0;let N=t.nodeAfterCursor?t.locStart(t.nodeAfterCursor):s.length;u=s.slice(l,N)}else l=0,u=s,f=0,c=o.formatted;let m=t.cursorOffset-l;if(u===c)return{formatted:o.formatted,cursorOffset:f+m,comments:a};let g=u.split("");g.splice(m,0,yg);let w=c.split(""),A=Dw(g,w),E=f;for(let N of A)if(N.removed){if(N.value.includes(yg))break}else E+=N.count;return{formatted:o.formatted,cursorOffset:E,comments:a}}return{formatted:o.formatted,cursorOffset:-1,comments:a}}async function $7(e,t){let{ast:n,text:r}=await Xs(e,t),{rangeStart:s,rangeEnd:i}=P7(r,t,n),o=r.slice(s,i),a=Math.min(s,r.lastIndexOf(`
`,s)+1),l=r.slice(a,s).match(/^\s*/u)[0],u=Eu(l,t.tabWidth),f=await vg(o,{...t,rangeStart:0,rangeEnd:Number.POSITIVE_INFINITY,cursorOffset:t.cursorOffset>s&&t.cursorOffset<=i?t.cursorOffset-s:-1,endOfLine:"lf"},u),c=f.formatted.trimEnd(),{cursorOffset:m}=t;m>i?m+=c.length-o.length:f.cursorOffset>=0&&(m=f.cursorOffset+s);let g=r.slice(0,s)+c+r.slice(i);if(t.endOfLine!=="lf"){let w=mu(t.endOfLine);m>=0&&w===`\r
`&&(m+=vm(g.slice(0,m),`
`)),g=uo(!1,g,`
`,w)}return{formatted:g,cursorOffset:m,comments:f.comments}}function Pu(e,t,n){return typeof t!="number"||Number.isNaN(t)||t<0||t>e.length?n:t}function Dg(e,t){let{cursorOffset:n,rangeStart:r,rangeEnd:s}=t;return n=Pu(e,n,-1),r=Pu(e,r,0),s=Pu(e,s,e.length),{...t,cursorOffset:n,rangeStart:r,rangeEnd:s}}function wg(e,t){let{cursorOffset:n,rangeStart:r,rangeEnd:s,endOfLine:i}=Dg(e,t),o=e.charAt(0)===bg;if(o&&(e=e.slice(1),n--,r--,s--),i==="auto"&&(i=ww(e)),e.includes("\r")){let a=l=>vm(e.slice(0,Math.max(l,0)),`\r
`);n-=a(n),r-=a(r),s-=a(s),e=Sw(e)}return{hasBOM:o,text:e,options:Dg(e,{...t,cursorOffset:n,rangeStart:r,rangeEnd:s,endOfLine:i})}}async function Sg(e,t){let n=await ug(t);return!n.hasPragma||n.hasPragma(e)}async function Eg(e,t){let{hasBOM:n,text:r,options:s}=wg(e,await ls(t));if(s.rangeStart>=s.rangeEnd&&r!==""||s.requirePragma&&!await Sg(r,s))return{formatted:e,cursorOffset:t.cursorOffset,comments:[]};let i;return s.rangeStart>0||s.rangeEnd<r.length?i=await $7(r,s):(!s.requirePragma&&s.insertPragma&&s.printer.insertPragma&&!await Sg(r,s)&&(r=s.printer.insertPragma(r)),i=await vg(r,s)),n&&(i.formatted=bg+i.formatted,i.cursorOffset>=0&&i.cursorOffset++),i}async function I7(e,t,n){let{text:r,options:s}=wg(e,await ls(t)),i=await Xs(r,s);return n&&(n.preprocessForPrint&&(i.ast=await dg(i.ast,s)),n.massage&&(i.ast=C7(i.ast,s))),i}async function B7(e,t){t=await ls(t);let n=await No(e,t);return Do(n,t)}async function V7(e,t){let n=Xw(e),{formatted:r}=await Eg(n,{...t,parser:"__js_expression"});return r}async function j7(e,t){t=await ls(t);let{ast:n}=await Xs(e,t);return No(n,t)}async function U7(e,t){return Do(e,await ls(t))}var Ag={};au(Ag,{builders:()=>q7,printer:()=>W7,utils:()=>H7});var q7={join:km,line:Lm,softline:Qw,hardline:or,literalline:Cm,group:Nm,conditionalGroup:Ww,fill:Hw,lineSuffix:bu,lineSuffixBoundary:Gw,cursor:ar,breakParent:yo,ifBreak:Yw,trim:Jw,indent:bo,indentIfBreak:zw,align:ns,addAlignmentToDoc:Fm,markAsRoot:Uw,dedentToRoot:jw,dedent:qw,hardlineWithoutBreakParent:yu,literallineWithoutBreakParent:xm,label:Kw,concat:e=>e},W7={printDocToString:Do},H7={willBreak:Fw,traverseDoc:gu,findInDoc:pu,mapDoc:go,removeLines:Mw,stripTrailingHardline:Am,replaceEndOfLine:Pw,canBreak:Iw},Y7="3.5.2",Ng={};au(Ng,{addDanglingComment:()=>cr,addLeadingComment:()=>ss,addTrailingComment:()=>is,getAlignmentSize:()=>Eu,getIndentSize:()=>X7,getMaxContinuousCount:()=>t8,getNextNonSpaceNonCommentCharacter:()=>r8,getNextNonSpaceNonCommentCharacterIndex:()=>d8,getPreferredQuote:()=>i8,getStringWidth:()=>vu,hasNewline:()=>Pn,hasNewlineInRange:()=>a8,hasSpaces:()=>u8,isNextLineEmpty:()=>b8,isNextLineEmptyAfterIndex:()=>Vu,isPreviousLineEmpty:()=>g8,makeString:()=>f8,skip:()=>Ks,skipEverythingButNewLine:()=>Om,skipInlineComment:()=>$u,skipNewline:()=>ur,skipSpaces:()=>Rn,skipToLineEnd:()=>Mm,skipTrailingComment:()=>Iu,skipWhitespace:()=>m9});function z7(e,t){if(t===!1)return!1;if(e.charAt(t)==="/"&&e.charAt(t+1)==="*"){for(let n=t+2;n<e.length;++n)if(e.charAt(n)==="*"&&e.charAt(n+1)==="/")return n+2}return t}var $u=z7;function G7(e,t){return t===!1?!1:e.charAt(t)==="/"&&e.charAt(t+1)==="/"?Om(e,t):t}var Iu=G7;function J7(e,t){let n=null,r=t;for(;r!==n;)n=r,r=Rn(e,r),r=$u(e,r),r=Iu(e,r),r=ur(e,r);return r}var Bu=J7;function Q7(e,t){let n=null,r=t;for(;r!==n;)n=r,r=Mm(e,r),r=$u(e,r),r=Rn(e,r);return r=Iu(e,r),r=ur(e,r),r!==!1&&Pn(e,r)}var Vu=Q7;function K7(e,t){let n=e.lastIndexOf(`
`);return n===-1?0:Eu(e.slice(n+1).match(/^[\t ]*/u)[0],t)}var X7=K7;function Z7(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function e8(e,t){let n=e.match(new RegExp(`(${Z7(t)})+`,"gu"));return n===null?0:n.reduce((r,s)=>Math.max(r,s.length/t.length),0)}var t8=e8;function n8(e,t){let n=Bu(e,t);return n===!1?"":e.charAt(n)}var r8=n8,xo="'",xg='"';function s8(e,t){let n=t===!0||t===xo?xo:xg,r=n===xo?xg:xo,s=0,i=0;for(let o of e)o===n?s++:o===r&&i++;return s>i?r:n}var i8=s8;function o8(e,t,n){for(let r=t;r<n;++r)if(e.charAt(r)===`
`)return!0;return!1}var a8=o8;function l8(e,t,n={}){return Rn(e,n.backwards?t-1:t,n)!==t}var u8=l8;function c8(e,t,n){let r=t==='"'?"'":'"',s=uo(!1,e,/\\(.)|(["'])/gsu,(i,o,a)=>o===r?o:a===t?"\\"+a:a||(n&&/^[^\n\r"'0-7\\bfnrt-vx\u2028\u2029]$/u.test(o)?o:"\\"+o));return t+s+t}var f8=c8;function h8(e,t,n){return Bu(e,n(t))}function d8(e,t){return arguments.length===2||typeof t=="number"?Bu(e,t):h8(...arguments)}function m8(e,t,n){return _u(e,n(t))}function g8(e,t){return arguments.length===2||typeof t=="number"?_u(e,t):m8(...arguments)}function p8(e,t,n){return Vu(e,n(t))}function b8(e,t){return arguments.length===2||typeof t=="number"?Vu(e,t):p8(...arguments)}function fr(e,t=1){return async(...n)=>{let r=n[t]??{},s=r.plugins??[];return n[t]={...r,plugins:Array.isArray(s)?s:Object.values(s)},e(...n)}}var Lg=fr(Eg);async function ju(e,t){let{formatted:n}=await Lg(e,{...t,cursorOffset:-1});return n}async function y8(e,t){return await ju(e,t)===e}var v8=fr(Um,0),D8={parse:fr(I7),formatAST:fr(B7),formatDoc:fr(V7),printToDoc:fr(j7),printDocToString:fr(U7)};function Cg(e,t){if(e.length<t.length)return!1;for(var n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0}function Uu(e,t){var n=e.length-t.length;return n>0?e.lastIndexOf(t)===n:n===0?e===t:!1}function w8(e){return Cg(e,"(?i)")?new RegExp(e.substring(4),"i"):new RegExp(e)}function us(e){return typeof e=="boolean"}var lt;(function(e){e[e.Undefined=0]="Undefined",e[e.EnumValueMismatch=1]="EnumValueMismatch",e[e.Deprecated=2]="Deprecated",e[e.UnexpectedEndOfComment=257]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=258]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=259]="UnexpectedEndOfNumber",e[e.InvalidUnicode=260]="InvalidUnicode",e[e.InvalidEscapeCharacter=261]="InvalidEscapeCharacter",e[e.InvalidCharacter=262]="InvalidCharacter",e[e.PropertyExpected=513]="PropertyExpected",e[e.CommaExpected=514]="CommaExpected",e[e.ColonExpected=515]="ColonExpected",e[e.ValueExpected=516]="ValueExpected",e[e.CommaOrCloseBacketExpected=517]="CommaOrCloseBacketExpected",e[e.CommaOrCloseBraceExpected=518]="CommaOrCloseBraceExpected",e[e.TrailingComma=519]="TrailingComma",e[e.DuplicateKey=520]="DuplicateKey",e[e.CommentNotPermitted=521]="CommentNotPermitted",e[e.SchemaResolveError=768]="SchemaResolveError"})(lt||(lt={}));var kg;(function(e){e.LATEST={textDocument:{completion:{completionItem:{documentationFormat:[un.Markdown,un.PlainText],commitCharactersSupport:!0}}}}})(kg||(kg={}));var S8=(e,t,...n)=>n.length===0?t:t.replaceAll(/{(\d+)}/g,(r,[s])=>s in n?String(n[s]):r);function cs(){return S8}var hr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zs=cs();Zs("colorHexFormatWarning","Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),Zs("dateTimeFormatWarning","String is not a RFC3339 date-time."),Zs("dateFormatWarning","String is not a RFC3339 date."),Zs("timeFormatWarning","String is not a RFC3339 time."),Zs("emailFormatWarning","String is not an e-mail address.");var dr=function(){function e(t,n,r){r===void 0&&(r=0),this.offset=n,this.length=r,this.parent=t}return Object.defineProperty(e.prototype,"children",{get:function(){return[]},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")},e}();(function(e){hr(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.type="null",s.value=null,s}return t})(dr),function(e){hr(t,e);function t(n,r,s){var i=e.call(this,n,s)||this;return i.type="boolean",i.value=r,i}return t}(dr),function(e){hr(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.type="array",s.items=[],s}return Object.defineProperty(t.prototype,"children",{get:function(){return this.items},enumerable:!1,configurable:!0}),t}(dr),function(e){hr(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.type="number",s.isInteger=!0,s.value=Number.NaN,s}return t}(dr),function(e){hr(t,e);function t(n,r,s){var i=e.call(this,n,r,s)||this;return i.type="string",i.value="",i}return t}(dr),function(e){hr(t,e);function t(n,r,s){var i=e.call(this,n,r)||this;return i.type="property",i.colonOffset=-1,i.keyNode=s,i}return Object.defineProperty(t.prototype,"children",{get:function(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]},enumerable:!1,configurable:!0}),t}(dr),function(e){hr(t,e);function t(n,r){var s=e.call(this,n,r)||this;return s.type="object",s.properties=[],s}return Object.defineProperty(t.prototype,"children",{get:function(){return this.properties},enumerable:!1,configurable:!0}),t}(dr);function E8(e){return us(e)?e?{}:{not:{}}:e}var Fg;(function(e){e[e.Key=0]="Key",e[e.Enum=1]="Enum"})(Fg||(Fg={})),function(){function e(){}return Object.defineProperty(e.prototype,"schemas",{get:function(){return[]},enumerable:!1,configurable:!0}),e.prototype.add=function(t){},e.prototype.merge=function(t){},e.prototype.include=function(t){return!0},e.prototype.newSub=function(){return this},e.instance=new e,e}();function Lo(e){return ly(e)}function A8(e,t){if(typeof e!="string")throw new TypeError("Expected a string");for(var n=String(e),r="",s=!!t,i=!!t,o=!1,a=t&&typeof t.flags=="string"?t.flags:"",l,u=0,f=n.length;u<f;u++)switch(l=n[u],l){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":r+="\\"+l;break;case"?":if(s){r+=".";break}case"[":case"]":if(s){r+=l;break}case"{":if(s){o=!0,r+="(";break}case"}":if(s){o=!1,r+=")";break}case",":if(o){r+="|";break}r+="\\"+l;break;case"*":for(var c=n[u-1],m=1;n[u+1]==="*";)m++,u++;var g=n[u+1];if(!i)r+=".*";else{var w=m>1&&(c==="/"||c===void 0||c==="{"||c===",")&&(g==="/"||g===void 0||g===","||g==="}");w?(g==="/"?u++:c==="/"&&r.endsWith("\\/")&&(r=r.substr(0,r.length-2)),r+="((?:[^/]*(?:/|$))*)"):r+="([^/]*)"}break;default:r+=l}return(!a||!~a.indexOf("g"))&&(r="^"+r+"$"),new RegExp(r,a)}var In=cs(),N8="!",x8="/",L8=function(){function e(t,n){this.globWrappers=[];try{for(var r=0,s=t;r<s.length;r++){var i=s[r],o=i[0]!==N8;o||(i=i.substring(1)),i.length>0&&(i[0]===x8&&(i=i.substring(1)),this.globWrappers.push({regexp:A8("**/"+i,{extended:!0,globstar:!0}),include:o}))}this.uris=n}catch{this.globWrappers.length=0,this.uris=[]}}return e.prototype.matchesPattern=function(t){for(var n=!1,r=0,s=this.globWrappers;r<s.length;r++){var i=s[r],o=i.regexp,a=i.include;o.test(t)&&(n=a)}return n},e.prototype.getURIs=function(){return this.uris},e}(),C8=function(){function e(t,n,r){this.service=t,this.url=n,this.dependencies={},r&&(this.unresolvedSchema=this.service.promise.resolve(new It(r)))}return e.prototype.getUnresolvedSchema=function(){return this.unresolvedSchema||(this.unresolvedSchema=this.service.loadSchema(this.url)),this.unresolvedSchema},e.prototype.getResolvedSchema=function(){var t=this;return this.resolvedSchema||(this.resolvedSchema=this.getUnresolvedSchema().then(function(n){return t.service.resolveSchemaContent(n,t.url,t.dependencies)})),this.resolvedSchema},e.prototype.clearSchema=function(){this.resolvedSchema=void 0,this.unresolvedSchema=void 0,this.dependencies={}},e}(),It=function(){function e(t,n){n===void 0&&(n=[]),this.schema=t,this.errors=n}return e}(),ei=function(){function e(t,n){n===void 0&&(n=[]),this.schema=t,this.errors=n}return e.prototype.getSection=function(t){var n=this.getSectionRecursive(t,this.schema);if(n)return E8(n)},e.prototype.getSectionRecursive=function(t,n){if(!n||typeof n=="boolean"||t.length===0)return n;var r=t.shift();if(n.properties&&typeof n.properties[r])return this.getSectionRecursive(t,n.properties[r]);if(n.patternProperties)for(var s=0,i=Object.keys(n.patternProperties);s<i.length;s++){var o=i[s],a=w8(o);if(a.test(r))return this.getSectionRecursive(t,n.patternProperties[o])}else{if(typeof n.additionalProperties=="object")return this.getSectionRecursive(t,n.additionalProperties);if(r.match("[0-9]+")){if(Array.isArray(n.items)){var l=parseInt(r,10);if(!isNaN(l)&&n.items[l])return this.getSectionRecursive(t,n.items[l])}else if(n.items)return this.getSectionRecursive(t,n.items)}}},e}(),k8=function(){function e(t,n,r){this.contextService=n,this.requestService=t,this.promiseConstructor=r||Promise,this.callOnDispose=[],this.contributionSchemas={},this.contributionAssociations=[],this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={}}return e.prototype.getRegisteredSchemaIds=function(t){return Object.keys(this.registeredSchemasIds).filter(function(n){var r=mt.parse(n).scheme;return r!=="schemaservice"&&(!t||t(r))})},Object.defineProperty(e.prototype,"promise",{get:function(){return this.promiseConstructor},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()()},e.prototype.onResourceChange=function(t){var n=this;this.cachedSchemaForResource=void 0;var r=!1;t=Bn(t);for(var s=[t],i=Object.keys(this.schemasById).map(function(u){return n.schemasById[u]});s.length;)for(var o=s.pop(),a=0;a<i.length;a++){var l=i[a];l&&(l.url===o||l.dependencies[o])&&(l.url!==o&&s.push(l.url),l.clearSchema(),i[a]=void 0,r=!0)}return r},e.prototype.setSchemaContributions=function(t){if(t.schemas){var n=t.schemas;for(var r in n){var s=Bn(r);this.contributionSchemas[s]=this.addSchemaHandle(s,n[r])}}if(Array.isArray(t.schemaAssociations))for(var i=t.schemaAssociations,o=0,a=i;o<a.length;o++){var l=a[o],u=l.uris.map(Bn),f=this.addFilePatternAssociation(l.pattern,u);this.contributionAssociations.push(f)}},e.prototype.addSchemaHandle=function(t,n){var r=new C8(this,t,n);return this.schemasById[t]=r,r},e.prototype.getOrAddSchemaHandle=function(t,n){return this.schemasById[t]||this.addSchemaHandle(t,n)},e.prototype.addFilePatternAssociation=function(t,n){var r=new L8(t,n);return this.filePatternAssociations.push(r),r},e.prototype.registerExternalSchema=function(t,n,r){var s=Bn(t);return this.registeredSchemasIds[s]=!0,this.cachedSchemaForResource=void 0,n&&this.addFilePatternAssociation(n,[t]),r?this.addSchemaHandle(s,r):this.getOrAddSchemaHandle(s)},e.prototype.clearExternalSchemas=function(){this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={},this.cachedSchemaForResource=void 0;for(var t in this.contributionSchemas)this.schemasById[t]=this.contributionSchemas[t],this.registeredSchemasIds[t]=!0;for(var n=0,r=this.contributionAssociations;n<r.length;n++){var s=r[n];this.filePatternAssociations.push(s)}},e.prototype.getResolvedSchema=function(t){var n=Bn(t),r=this.schemasById[n];return r?r.getResolvedSchema():this.promise.resolve(void 0)},e.prototype.loadSchema=function(t){if(!this.requestService){var n=In("json.schema.norequestservice","Unable to load schema from '{0}'. No schema request service available",Co(t));return this.promise.resolve(new It({},[n]))}return this.requestService(t).then(function(r){if(!r){var s=In("json.schema.nocontent","Unable to load schema from '{0}': No content.",Co(t));return new It({},[s])}var i={},o=[];i=ay(r,o);var a=o.length?[In("json.schema.invalidFormat","Unable to parse content from '{0}': Parse error at offset {1}.",Co(t),o[0].offset)]:[];return new It(i,a)},function(r){var s=r.toString(),i=r.toString().split("Error: ");return i.length>1&&(s=i[1]),Uu(s,".")&&(s=s.substr(0,s.length-1)),new It({},[In("json.schema.nocontent","Unable to load schema from '{0}': {1}.",Co(t),s)])})},e.prototype.resolveSchemaContent=function(t,n,r){var s=this,i=t.errors.slice(0),o=t.schema;if(o.$schema){var a=Bn(o.$schema);if(a==="http://json-schema.org/draft-03/schema")return this.promise.resolve(new ei({},[In("json.schema.draft03.notsupported","Draft-03 schemas are not supported.")]));a==="https://json-schema.org/draft/2019-09/schema"&&i.push(In("json.schema.draft201909.notsupported","Draft 2019-09 schemas are not yet fully supported."))}var l=this.contextService,u=function(g,w){if(!w)return g;var A=g;return w[0]==="/"&&(w=w.substr(1)),w.split("/").some(function(E){return E=E.replace(/~1/g,"/").replace(/~0/g,"~"),A=A[E],!A}),A},f=function(g,w,A,E){var N=E?decodeURIComponent(E):void 0,k=u(w,N);if(k)for(var b in k)k.hasOwnProperty(b)&&!g.hasOwnProperty(b)&&(g[b]=k[b]);else i.push(In("json.schema.invalidref","$ref '{0}' in '{1}' can not be resolved.",N,A))},c=function(g,w,A,E,N){l&&!/^[A-Za-z][A-Za-z0-9+\-.+]*:\/\/.*/.test(w)&&(w=l.resolveRelativePath(w,E)),w=Bn(w);var k=s.getOrAddSchemaHandle(w);return k.getUnresolvedSchema().then(function(b){if(N[w]=!0,b.errors.length){var p=A?w+"#"+A:w;i.push(In("json.schema.problemloadingref","Problems loading reference '{0}': {1}",p,b.errors[0]))}return f(g,b.schema,w,A),m(g,b.schema,w,k.dependencies)})},m=function(g,w,A,E){if(!g||typeof g!="object")return Promise.resolve(null);for(var N=[g],k=[],b=[],p=function(){for(var D=[],x=0;x<arguments.length;x++)D[x]=arguments[x];for(var C=0,L=D;C<L.length;C++){var _=L[C];typeof _=="object"&&N.push(_)}},h=function(){for(var D=[],x=0;x<arguments.length;x++)D[x]=arguments[x];for(var C=0,L=D;C<L.length;C++){var _=L[C];if(typeof _=="object")for(var T in _){var M=T,P=_[M];typeof P=="object"&&N.push(P)}}},d=function(){for(var D=[],x=0;x<arguments.length;x++)D[x]=arguments[x];for(var C=0,L=D;C<L.length;C++){var _=L[C];if(Array.isArray(_))for(var T=0,M=_;T<M.length;T++){var P=M[T];typeof P=="object"&&N.push(P)}}},y=function(D){for(var x=[];D.$ref;){var C=D.$ref,L=C.split("#",2);if(delete D.$ref,L[0].length>0){b.push(c(D,L[0],L[1],A,E));return}else x.indexOf(C)===-1&&(f(D,w,A,L[1]),x.push(C))}p(D.items,D.additionalItems,D.additionalProperties,D.not,D.contains,D.propertyNames,D.if,D.then,D.else),h(D.definitions,D.properties,D.patternProperties,D.dependencies),d(D.anyOf,D.allOf,D.oneOf,D.items)};N.length;){var S=N.pop();k.indexOf(S)>=0||(k.push(S),y(S))}return s.promise.all(b)};return m(o,o,n,r).then(function(g){return new ei(o,i)})},e.prototype.getSchemaForResource=function(t,n){if(n&&n.root&&n.root.type==="object"){var r=n.root.properties.filter(function(N){return N.keyNode.value==="$schema"&&N.valueNode&&N.valueNode.type==="string"});if(r.length>0){var s=r[0].valueNode;if(s&&s.type==="string"){var i=Lo(s);if(i&&Cg(i,".")&&this.contextService&&(i=this.contextService.resolveRelativePath(i,t)),i){var o=Bn(i);return this.getOrAddSchemaHandle(o).getResolvedSchema()}}}}if(this.cachedSchemaForResource&&this.cachedSchemaForResource.resource===t)return this.cachedSchemaForResource.resolvedSchema;for(var a=Object.create(null),l=[],u=_8(t),f=0,c=this.filePatternAssociations;f<c.length;f++){var m=c[f];if(m.matchesPattern(u))for(var g=0,w=m.getURIs();g<w.length;g++){var A=w[g];a[A]||(l.push(A),a[A]=!0)}}var E=l.length>0?this.createCombinedSchema(t,l).getResolvedSchema():this.promise.resolve(void 0);return this.cachedSchemaForResource={resource:t,resolvedSchema:E},E},e.prototype.createCombinedSchema=function(t,n){if(n.length===1)return this.getOrAddSchemaHandle(n[0]);var r="schemaservice://combinedSchema/"+encodeURIComponent(t),s={allOf:n.map(function(i){return{$ref:i}})};return this.addSchemaHandle(r,s)},e.prototype.getMatchingSchemas=function(t,n,r){if(r){var s=r.id||"schemaservice://untitled/matchingSchemas/"+F8++;return this.resolveSchemaContent(new It(r),s,{}).then(function(i){return n.getMatchingSchemas(i.schema).filter(function(o){return!o.inverted})})}return this.getSchemaForResource(t.uri,n).then(function(i){return i?n.getMatchingSchemas(i.schema).filter(function(o){return!o.inverted}):[]})},e}(),F8=0;function Bn(e){try{return mt.parse(e).toString()}catch{return e}}function _8(e){try{return mt.parse(e).with({fragment:null,query:null}).toString()}catch{return e}}function Co(e){try{var t=mt.parse(e);if(t.scheme==="file")return t.fsPath}catch{}return e}function T8(e){return e.replace(/[-\\{}+?|^$.,[\]()#\s]/g,"\\$&").replace(/[*]/g,".*")}function M8(e,t){if(e.length<t)return 0;for(let n=0;n<t;n++){const r=e.charCodeAt(n);if(r!==32&&r!==9)return n}return t}function _g(e){try{return new RegExp(e,"u")}catch{return new RegExp(e)}}function O8(e,t){t++;for(let n=t;n<e.length;n++){const r=e.charAt(n);if(r===" "||r==="	")t++;else return t}return t}function ko(e,t){if(e===t)return!0;if(e==null||t===null||t===void 0||typeof e!=typeof t||typeof e!="object"||Array.isArray(e)!==Array.isArray(t))return!1;let n,r;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!ko(e[n],t[n]))return!1}else{const s=[];for(r in e)s.push(r);s.sort();const i=[];for(r in t)i.push(r);if(i.sort(),!ko(s,i))return!1;for(n=0;n<s.length;n++)if(!ko(e[s[n]],t[s[n]]))return!1}return!0}function Ft(e){return typeof e=="number"}function mr(e){return typeof e<"u"}function fs(e){return typeof e=="boolean"}function Fo(e){return typeof e=="string"}function R8(e){return Symbol.iterator in Object(e)}function qu(e){const t=e.type&&e.closestTitle;return e.title?e.title:e.$id?Tg(e.$id):e.$ref||e._$ref?Tg(e.$ref||e._$ref):Array.isArray(e.type)?e.type.join(" | "):t?e.type.concat("(",e.closestTitle,")"):e.type||e.closestTitle}function Tg(e){const t=e.match(/^(?:.*\/)?(.*?)(?:\.schema\.json)?$/);let n=!!t&&t[1];return n||(n="typeNotFound",console.error(`$ref (${e}) not parsed properly`)),n}function Mg(e,t){const n=mt.parse(t);let r=Xn.basename(n.fsPath);return Xn.extname(n.fsPath)||(r+=".json"),Object.getOwnPropertyDescriptor(e,"name")?Object.getOwnPropertyDescriptor(e,"name").value+` (${r})`:e.title?e.description?e.title+" - "+e.description+` (${r})`:e.title+` (${r})`:r}function P8(e){return e.type!=="object"&&!Wu(e)}function Wu(e){return!!(e.anyOf||e.allOf||e.oneOf)}var $8=cs(),I8=function(){function e(t,n){this.jsonSchemaService=t,this.promise=n,this.validationEnabled=!0}return e.prototype.configure=function(t){t&&(this.validationEnabled=t.validate!==!1,this.commentSeverity=t.allowComments?void 0:le.Error)},e.prototype.doValidation=function(t,n,r,s){var i=this;if(!this.validationEnabled)return this.promise.resolve([]);var o=[],a={},l=function(c){var m=c.range.start.line+" "+c.range.start.character+" "+c.message;a[m]||(a[m]=!0,o.push(c))},u=function(c){var m=r!=null&&r.trailingCommas?_o(r.trailingCommas):le.Error,g=r!=null&&r.comments?_o(r.comments):i.commentSeverity,w=r!=null&&r.schemaValidation?_o(r.schemaValidation):le.Warning,A=r!=null&&r.schemaRequest?_o(r.schemaRequest):le.Warning;if(c){if(c.errors.length&&n.root&&A){var E=n.root,N=E.type==="object"?E.properties[0]:void 0;if(N&&N.keyNode.value==="$schema"){var k=N.valueNode||N,b=re.create(t.positionAt(k.offset),t.positionAt(k.offset+k.length));l(gt.create(b,c.errors[0],A,lt.SchemaResolveError))}else{var b=re.create(t.positionAt(E.offset),t.positionAt(E.offset+1));l(gt.create(b,c.errors[0],A,lt.SchemaResolveError))}}else if(w){var p=n.validate(t,c.schema,w);p&&p.forEach(l)}Og(c.schema)&&(g=void 0),Rg(c.schema)&&(m=void 0)}for(var h=0,d=n.syntaxErrors;h<d.length;h++){var y=d[h];if(y.code===lt.TrailingComma){if(typeof m!="number")continue;y.severity=m}l(y)}if(typeof g=="number"){var S=$8("InvalidCommentToken","Comments are not permitted in JSON.");n.comments.forEach(function(D){l(gt.create(D,S,g,lt.CommentNotPermitted))})}return o};if(s){var f=s.id||"schemaservice://untitled/"+B8++;return this.jsonSchemaService.resolveSchemaContent(new It(s),f,{}).then(function(c){return u(c)})}return this.jsonSchemaService.getSchemaForResource(t.uri,n).then(function(c){return u(c)})},e}(),B8=0;function Og(e){if(e&&typeof e=="object"){if(us(e.allowComments))return e.allowComments;if(e.allOf)for(var t=0,n=e.allOf;t<n.length;t++){var r=n[t],s=Og(r);if(us(s))return s}}}function Rg(e){if(e&&typeof e=="object"){if(us(e.allowTrailingCommas))return e.allowTrailingCommas;var t=e;if(us(t.allowsTrailingCommas))return t.allowsTrailingCommas;if(e.allOf)for(var n=0,r=e.allOf;n<r.length;n++){var s=r[n],i=Rg(s);if(us(i))return i}}}function _o(e){switch(e){case"error":return le.Error;case"warning":return le.Warning;case"ignore":return}}var Pg=48,V8=57,j8=65,To=97,U8=102;function Be(e){return e<Pg?0:e<=V8?e-Pg:(e<To&&(e+=To-j8),e>=To&&e<=U8?e-To+10:0)}function q8(e){if(e[0]==="#")switch(e.length){case 4:return{red:Be(e.charCodeAt(1))*17/255,green:Be(e.charCodeAt(2))*17/255,blue:Be(e.charCodeAt(3))*17/255,alpha:1};case 5:return{red:Be(e.charCodeAt(1))*17/255,green:Be(e.charCodeAt(2))*17/255,blue:Be(e.charCodeAt(3))*17/255,alpha:Be(e.charCodeAt(4))*17/255};case 7:return{red:(Be(e.charCodeAt(1))*16+Be(e.charCodeAt(2)))/255,green:(Be(e.charCodeAt(3))*16+Be(e.charCodeAt(4)))/255,blue:(Be(e.charCodeAt(5))*16+Be(e.charCodeAt(6)))/255,alpha:1};case 9:return{red:(Be(e.charCodeAt(1))*16+Be(e.charCodeAt(2)))/255,green:(Be(e.charCodeAt(3))*16+Be(e.charCodeAt(4)))/255,blue:(Be(e.charCodeAt(5))*16+Be(e.charCodeAt(6)))/255,alpha:(Be(e.charCodeAt(7))*16+Be(e.charCodeAt(8)))/255}}}var W8=function(){function e(t){this.schemaService=t}return e.prototype.findDocumentSymbols=function(t,n,r){var s=this;r===void 0&&(r={resultLimit:Number.MAX_VALUE});var i=n.root;if(!i)return[];var o=r.resultLimit||Number.MAX_VALUE,a=t.uri;if((a==="vscode://defaultsettings/keybindings.json"||Uu(a.toLowerCase(),"/user/keybindings.json"))&&i.type==="array"){for(var l=[],u=0,f=i.items;u<f.length;u++){var c=f[u];if(c.type==="object")for(var m=0,g=c.properties;m<g.length;m++){var w=g[m];if(w.keyNode.value==="key"&&w.valueNode){var A=Rr.create(t.uri,Vn(t,c));if(l.push({name:Lo(w.valueNode),kind:Ht.Function,location:A}),o--,o<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(a),l}}}return l}for(var E=[{node:i,containerName:""}],N=0,k=!1,b=[],p=function(d,y){d.type==="array"?d.items.forEach(function(S){S&&E.push({node:S,containerName:y})}):d.type==="object"&&d.properties.forEach(function(S){var D=S.valueNode;if(D)if(o>0){o--;var x=Rr.create(t.uri,Vn(t,S)),C=y?y+"."+S.keyNode.value:S.keyNode.value;b.push({name:s.getKeyLabel(S),kind:s.getSymbolKind(D.type),location:x,containerName:y}),E.push({node:D,containerName:C})}else k=!0})};N<E.length;){var h=E[N++];p(h.node,h.containerName)}return k&&r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(a),b},e.prototype.findDocumentSymbols2=function(t,n,r){var s=this;r===void 0&&(r={resultLimit:Number.MAX_VALUE});var i=n.root;if(!i)return[];var o=r.resultLimit||Number.MAX_VALUE,a=t.uri;if((a==="vscode://defaultsettings/keybindings.json"||Uu(a.toLowerCase(),"/user/keybindings.json"))&&i.type==="array"){for(var l=[],u=0,f=i.items;u<f.length;u++){var c=f[u];if(c.type==="object")for(var m=0,g=c.properties;m<g.length;m++){var w=g[m];if(w.keyNode.value==="key"&&w.valueNode){var A=Vn(t,c),E=Vn(t,w.keyNode);if(l.push({name:Lo(w.valueNode),kind:Ht.Function,range:A,selectionRange:E}),o--,o<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(a),l}}}return l}for(var N=[],k=[{node:i,result:N}],b=0,p=!1,h=function(y,S){y.type==="array"?y.items.forEach(function(D,x){if(D)if(o>0){o--;var C=Vn(t,D),L=C,_=String(x),T={name:_,kind:s.getSymbolKind(D.type),range:C,selectionRange:L,children:[]};S.push(T),k.push({result:T.children,node:D})}else p=!0}):y.type==="object"&&y.properties.forEach(function(D){var x=D.valueNode;if(x)if(o>0){o--;var C=Vn(t,D),L=Vn(t,D.keyNode),_=[],T={name:s.getKeyLabel(D),kind:s.getSymbolKind(x.type),range:C,selectionRange:L,children:_,detail:s.getDetail(x)};S.push(T),k.push({result:_,node:x})}else p=!0})};b<k.length;){var d=k[b++];h(d.node,d.result)}return p&&r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(a),N},e.prototype.getSymbolKind=function(t){switch(t){case"object":return Ht.Module;case"string":return Ht.String;case"number":return Ht.Number;case"array":return Ht.Array;case"boolean":return Ht.Boolean;default:return Ht.Variable}},e.prototype.getKeyLabel=function(t){var n=t.keyNode.value;return n&&(n=n.replace(/[\n]/g,"↵")),n&&n.trim()?n:'"'+n+'"'},e.prototype.getDetail=function(t){if(t){if(t.type==="boolean"||t.type==="number"||t.type==="null"||t.type==="string")return String(t.value);if(t.type==="array")return t.children.length?void 0:"[]";if(t.type==="object")return t.children.length?void 0:"{}"}},e.prototype.findDocumentColors=function(t,n,r){return this.schemaService.getSchemaForResource(t.uri,n).then(function(s){var i=[];if(s)for(var o=r&&typeof r.resultLimit=="number"?r.resultLimit:Number.MAX_VALUE,a=n.getMatchingSchemas(s.schema),l={},u=0,f=a;u<f.length;u++){var c=f[u];if(!c.inverted&&c.schema&&(c.schema.format==="color"||c.schema.format==="color-hex")&&c.node&&c.node.type==="string"){var m=String(c.node.offset);if(!l[m]){var g=q8(Lo(c.node));if(g){var w=Vn(t,c.node);i.push({color:g,range:w})}if(l[m]=!0,o--,o<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(t.uri),i}}}return i})},e.prototype.getColorPresentations=function(t,n,r,s){var i=[],o=Math.round(r.red*255),a=Math.round(r.green*255),l=Math.round(r.blue*255);function u(c){var m=c.toString(16);return m.length!==2?"0"+m:m}var f;return r.alpha===1?f="#"+u(o)+u(a)+u(l):f="#"+u(o)+u(a)+u(l)+u(Math.round(r.alpha*255)),i.push({label:f,textEdit:ke.replace(s,JSON.stringify(f))}),i},e}();function Vn(e,t){return re.create(e.positionAt(t.offset),e.positionAt(t.offset+t.length))}function H8(e,t){var n=[];return t.visit(function(r){var s;if(r.type==="property"&&r.keyNode.value==="$ref"&&((s=r.valueNode)===null||s===void 0?void 0:s.type)==="string"){var i=r.valueNode.value,o=z8(t,i);if(o){var a=e.positionAt(o.offset);n.push({target:e.uri+"#"+(a.line+1)+","+(a.character+1),range:Y8(e,r.valueNode)})}}return!0}),Promise.resolve(n)}function Y8(e,t){return re.create(e.positionAt(t.offset+1),e.positionAt(t.offset+t.length-1))}function z8(e,t){var n=G8(t);return n?Hu(n,e.root):null}function Hu(e,t){if(!t)return null;if(e.length===0)return t;var n=e.shift();if(t&&t.type==="object"){var r=t.properties.find(function(o){return o.keyNode.value===n});return r?Hu(e,r.valueNode):null}else if(t&&t.type==="array"&&n.match(/^(0|[1-9][0-9]*)$/)){var s=Number.parseInt(n),i=t.items[s];return i?Hu(e,i):null}return null}function G8(e){return e==="#"?[]:e[0]!=="#"||e[1]!=="/"?null:e.substring(2).split(/\//).map(J8)}function J8(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Mo(e,t){for(const n of t.documents)if(n.internalDocument&&n.internalDocument.range[0]<=e&&n.internalDocument.range[2]>=e)return n;return t.documents.length===1?t.documents[0]:null}function $g(e){const t=["mapping","scalar","sequence"];return e?e.filter(n=>{if(typeof n=="string"){const r=n.split(" "),s=r[1]&&r[1].toLowerCase()||"scalar";return s==="map"?!1:t.indexOf(s)!==-1}return!1}):[]}function Ig(e,t){if(!t||!e||t.length!==e.length)return!1;for(let n=e.length-1;n>=0;n--)if(e[n]!==t[n])return!1;return!0}function Q8(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=Math.max(n,r),i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}var he=cs(),Yu="Property {0} is not allowed.",K8={"color-hex":{errorMessage:he("colorHexFormatWarning","Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),pattern:/^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/},"date-time":{errorMessage:he("dateTimeFormatWarning","String is not a RFC3339 date-time."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},date:{errorMessage:he("dateFormatWarning","String is not a RFC3339 date."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i},time:{errorMessage:he("timeFormatWarning","String is not a RFC3339 time."),pattern:/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},email:{errorMessage:he("emailFormatWarning","String is not an e-mail address."),pattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},ipv4:{errorMessage:he("ipv4FormatWarning","String does not match IPv4 format."),pattern:/^((25[0-5]|(2[0-4]|1\d|[1-9]|)\d)\.?\b){4}$/},ipv6:{errorMessage:he("ipv6FormatWarning","String does not match IPv6 format."),pattern:/^([0-9a-f]|:){1,4}(:([0-9a-f]{0,4})*){1,7}$/i}},Oo="YAML",Bg="yaml-schema: ",et;(function(e){e.missingRequiredPropWarning="missingRequiredPropWarning",e.typeMismatchWarning="typeMismatchWarning",e.constWarning="constWarning"})(et||(et={}));var X8={[et.missingRequiredPropWarning]:'Missing property "{0}".',[et.typeMismatchWarning]:'Incorrect type. Expected "{0}".',[et.constWarning]:"Value must be {0}."},gr=class{constructor(e,t,n,r){this.offset=n,this.length=r,this.parent=e,this.internalNode=t}getNodeFromOffsetEndInclusive(e){const t=[],n=o=>{if(e>=o.offset&&e<=o.offset+o.length){const a=o.children;for(let l=0;l<a.length&&a[l].offset<=e;l++){const u=n(a[l]);u&&t.push(u)}return o}return null},r=n(this);let s=Number.MAX_VALUE,i=null;for(const o of t){const a=o.length+o.offset-e+(e-o.offset);a<s&&(i=o,s=a)}return i||r}get children(){return[]}toString(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")}},Z8=class extends gr{constructor(e,t,n,r){super(e,t,n,r),this.type="null",this.value=null}},eS=class extends gr{constructor(e,t,n,r,s,i){super(e,t,s,i),this.type="boolean",this.value=n,this.source=r}},tS=class extends gr{constructor(e,t,n,r){super(e,t,n,r),this.type="array",this.items=[]}get children(){return this.items}},nS=class extends gr{constructor(e,t,n,r){super(e,t,n,r),this.type="number",this.isInteger=!0,this.value=Number.NaN}},Ro=class extends gr{constructor(e,t,n,r){super(e,t,n,r),this.type="string",this.value=""}},rS=class extends gr{constructor(e,t,n,r){super(e,t,n,r),this.type="property",this.colonOffset=-1}get children(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]}},sS=class extends gr{constructor(e,t,n,r){super(e,t,n,r),this.type="object",this.properties=[]}get children(){return this.properties}};function tt(e){if(e!==void 0)return fs(e)?e?{}:{not:{}}:(typeof e!="object"&&(console.warn(`Wrong schema: ${JSON.stringify(e)}, it MUST be an Object or Boolean`),e={type:e}),e)}var Vg;(function(e){e[e.Key=0]="Key",e[e.Enum=1]="Enum"})(Vg||(Vg={}));var iS=class y0{constructor(t=-1,n=null){this.focusOffset=t,this.exclude=n,this.schemas=[]}add(t){this.schemas.push(t)}merge(t){this.schemas.push(...t.schemas)}include(t){return(this.focusOffset===-1||jg(t,this.focusOffset))&&t!==this.exclude}newSub(){return new y0(-1,this.exclude)}},ti=class{constructor(){}get schemas(){return[]}add(e){}merge(e){}include(e){return!0}newSub(){return this}};ti.instance=new ti;var ut=class{constructor(e){this.problems=[],this.propertiesMatches=0,this.propertiesValueMatches=0,this.primaryValueMatches=0,this.enumValueMatch=!1,e?this.enumValues=[]:this.enumValues=null}hasProblems(){return!!this.problems.length}mergeAll(e){for(const t of e)this.merge(t)}merge(e){this.problems=this.problems.concat(e.problems)}mergeEnumValues(e){if(!this.enumValueMatch&&!e.enumValueMatch&&this.enumValues&&e.enumValues){this.enumValues=this.enumValues.concat(e.enumValues);for(const t of this.problems)t.code===lt.EnumValueMismatch&&(t.message=he("enumWarning","Value is not accepted. Valid values: {0}.",[...new Set(this.enumValues)].map(n=>JSON.stringify(n)).join(", ")))}}mergeWarningGeneric(e,t){var n,r,s;if((n=this.problems)!=null&&n.length)for(const i of t){const o=this.problems.filter(a=>a.problemType===i);for(const a of o){const l=(r=e.problems)==null?void 0:r.find(u=>u.problemType===i&&a.location.offset===u.location.offset&&(i!==et.missingRequiredPropWarning||Ig(u.problemArgs,a.problemArgs)));l&&((s=l.problemArgs)!=null&&s.length&&(l.problemArgs.filter(u=>!a.problemArgs.includes(u)).forEach(u=>a.problemArgs.push(u)),a.message=Po(a.problemType,a.problemArgs)),this.mergeSources(l,a))}}}mergePropertyMatch(e){this.merge(e),this.propertiesMatches++,(e.enumValueMatch||!e.hasProblems()&&e.propertiesMatches)&&this.propertiesValueMatches++,e.enumValueMatch&&e.enumValues&&this.primaryValueMatches++}mergeSources(e,t){const n=e.source.replace(Bg,"");t.source.includes(n)||(t.source=t.source+" | "+n),t.schemaUri.includes(e.schemaUri[0])||(t.schemaUri=t.schemaUri.concat(e.schemaUri))}compareGeneric(e){const t=this.hasProblems();return t!==e.hasProblems()?t?-1:1:this.enumValueMatch!==e.enumValueMatch?e.enumValueMatch?-1:1:this.propertiesValueMatches!==e.propertiesValueMatches?this.propertiesValueMatches-e.propertiesValueMatches:this.primaryValueMatches!==e.primaryValueMatches?this.primaryValueMatches-e.primaryValueMatches:this.propertiesMatches-e.propertiesMatches}compareKubernetes(e){const t=this.hasProblems();return this.propertiesMatches!==e.propertiesMatches?this.propertiesMatches-e.propertiesMatches:this.enumValueMatch!==e.enumValueMatch?e.enumValueMatch?-1:1:this.primaryValueMatches!==e.primaryValueMatches?this.primaryValueMatches-e.primaryValueMatches:this.propertiesValueMatches!==e.propertiesValueMatches?this.propertiesValueMatches-e.propertiesValueMatches:t!==e.hasProblems()?t?-1:1:this.propertiesMatches-e.propertiesMatches}};function ni(e){switch(e.type){case"array":return e.children.map(ni);case"object":{const t=Object.create(null);for(let n=0,r=e.children;n<r.length;n++){const s=r[n],i=s.children[1];i&&(t[s.children[0].value]=ni(i))}return t}case"null":case"string":case"number":return e.value;case"boolean":return e.source;default:return}}function jg(e,t,n=!1){return t>=e.offset&&t<=e.offset+e.length||n&&t===e.offset+e.length}function Ug(e,t,n){if(n===void 0&&(n=!1),jg(e,t,n)){const r=e.children;if(Array.isArray(r))for(let s=0;s<r.length&&r[s].offset<=t;s++){const i=Ug(r[s],t,n);if(i)return i}return e}}var oS=class{constructor(e,t=[],n=[]){this.root=e,this.syntaxErrors=t,this.comments=n}getNodeFromOffset(e,t=!1){if(this.root)return Ug(this.root,e,t)}getNodeFromOffsetEndInclusive(e){return this.root&&this.root.getNodeFromOffsetEndInclusive(e)}visit(e){if(this.root){const t=n=>{let r=e(n);const s=n.children;if(Array.isArray(s))for(let i=0;i<s.length&&r;i++)r=t(s[i]);return r};t(this.root)}}validate(e,t){if(this.root&&t){const n=new ut(this.isKubernetes);return He(this.root,t,t,n,ti.instance,{isKubernetes:this.isKubernetes,disableAdditionalProperties:this.disableAdditionalProperties,uri:this.uri}),n.problems.map(r=>{const s=re.create(e.positionAt(r.location.offset),e.positionAt(r.location.offset+r.location.length)),i=gt.create(s,r.message,r.severity,r.code?r.code:lt.Undefined,r.source);return i.data={schemaUri:r.schemaUri,...r.data},i})}return null}getMatchingSchemas(e,t=-1,n=null,r){const s=new iS(t,n);return this.root&&e&&He(this.root,e,e,new ut(this.isKubernetes),s,{isKubernetes:this.isKubernetes,disableAdditionalProperties:this.disableAdditionalProperties,uri:this.uri,callFromAutoComplete:r}),s.schemas}};function He(e,t,n,r,s,i){const{isKubernetes:o,callFromAutoComplete:a}=i;if(!e||typeof t!="object")return;switch(t.url||(t.url=n.url),t.closestTitle=t.title||n.closestTitle,e.type){case"object":m(e,t,r,s);break;case"array":c(e,t,r,s);break;case"string":f(e,t,r);break;case"number":u(e,t,r);break;case"property":return He(e.valueNode,t,t,r,s,i)}l(),s.add({node:e,schema:t});function l(){function E(d){return e.type===d||d==="integer"&&e.type==="number"&&e.isInteger}if(Array.isArray(t.type))t.type.some(E)||r.problems.push({location:{offset:e.offset,length:e.length},severity:le.Warning,message:t.errorMessage||he("typeArrayMismatchWarning","Incorrect type. Expected one of {0}.",t.type.join(", ")),source:we(t,n),schemaUri:Se(t,n)});else if(t.type&&!E(t.type)){const d=t.type==="object"?qu(t):t.type;r.problems.push({location:{offset:e.offset,length:e.length},severity:le.Warning,message:t.errorMessage||Po(et.typeMismatchWarning,[d]),source:we(t,n),schemaUri:Se(t,n),problemType:et.typeMismatchWarning,problemArgs:[d]})}if(Array.isArray(t.allOf))for(const d of t.allOf)He(e,tt(d),t,r,s,i);const N=tt(t.not);if(N){const d=new ut(o),y=s.newSub();He(e,N,t,d,y,i),d.hasProblems()||r.problems.push({location:{offset:e.offset,length:e.length},severity:le.Warning,message:he("notSchemaWarning","Matches a schema that is not allowed."),source:we(t,n),schemaUri:Se(t,n)});for(const S of y.schemas)S.inverted=!S.inverted,s.add(S)}const k=(d,y)=>{var S;const D=[],x=[],C=[];let L=null;for(const _ of d){const T={...tt(_)},M=new ut(o),P=s.newSub();He(e,T,t,M,P,i),(!M.hasProblems()||a)&&(D.push(T),x.push(T),M.propertiesMatches===0&&C.push(T),T.format&&x.pop()),L?o?L=g(M,L,T,P):L=w(e,y,M,L,T,P):L={schema:T,validationResult:M,matchingSchemas:P}}return x.length>1&&(x.length>1||C.length===0)&&y&&r.problems.push({location:{offset:e.offset,length:1},severity:le.Warning,message:he("oneOfWarning","Matches multiple schemas when only one must validate."),source:we(t,n),schemaUri:Se(t,n)}),L!==null&&(r.merge(L.validationResult),r.propertiesMatches+=L.validationResult.propertiesMatches,r.propertiesValueMatches+=L.validationResult.propertiesValueMatches,r.enumValueMatch=r.enumValueMatch||L.validationResult.enumValueMatch,(S=L.validationResult.enumValues)!=null&&S.length&&(r.enumValues=(r.enumValues||[]).concat(L.validationResult.enumValues)),s.merge(L.matchingSchemas)),D.length};Array.isArray(t.anyOf)&&k(t.anyOf,!1),Array.isArray(t.oneOf)&&k(t.oneOf,!0);const b=(d,y)=>{const S=new ut(o),D=s.newSub();He(e,tt(d),y,S,D,i),r.merge(S),r.propertiesMatches+=S.propertiesMatches,r.propertiesValueMatches+=S.propertiesValueMatches,s.merge(D)},p=(d,y,S,D)=>{const x=tt(d),C=new ut(o),L=s.newSub();He(e,x,y,C,L,i),s.merge(L);const{filePatternAssociation:_}=x;_&&(new CS(_).matchesPattern(i.uri)||C.problems.push({location:{offset:e.offset,length:e.length},severity:le.Warning,message:he("ifFilePatternAssociation",`filePatternAssociation '${_}' does not match with doc uri '${i.uri}'.`),source:we(t,y),schemaUri:Se(t,y)})),C.hasProblems()?D&&b(D,y):S&&b(S,y)},h=tt(t.if);if(h&&p(h,t,tt(t.then),tt(t.else)),Array.isArray(t.enum)){const d=ni(e);let y=!1;for(const S of t.enum)if(d===S||qg(a,e,d,S)){y=!0;break}r.enumValues=t.enum,r.enumValueMatch=y,y||r.problems.push({location:{offset:e.offset,length:e.length},severity:le.Warning,code:lt.EnumValueMismatch,message:t.errorMessage||he("enumWarning","Value is not accepted. Valid values: {0}.",t.enum.map(S=>JSON.stringify(S)).join(", ")),source:we(t,n),schemaUri:Se(t,n),data:{values:t.enum}})}if(mr(t.const)){const d=ni(e);!ko(d,t.const)&&!qg(a,e,d,t.const)?(r.problems.push({location:{offset:e.offset,length:e.length},severity:le.Warning,code:lt.EnumValueMismatch,problemType:et.constWarning,message:t.errorMessage||Po(et.constWarning,[JSON.stringify(t.const)]),source:we(t,n),schemaUri:Se(t,n),problemArgs:[JSON.stringify(t.const)],data:{values:[t.const]}}),r.enumValueMatch=!1):r.enumValueMatch=!0,r.enumValues=[t.const]}t.deprecationMessage&&e.parent&&r.problems.push({location:{offset:e.parent.offset,length:e.parent.length},severity:le.Warning,message:t.deprecationMessage,source:we(t,n),schemaUri:Se(t,n)})}function u(E,N,k){const b=E.value;Ft(N.multipleOf)&&Q8(b,N.multipleOf)!==0&&k.problems.push({location:{offset:E.offset,length:E.length},severity:le.Warning,message:he("multipleOfWarning","Value is not divisible by {0}.",N.multipleOf),source:we(N,n),schemaUri:Se(N,n)});function p(x,C){if(Ft(C))return C;if(fs(C)&&C)return x}function h(x,C){if(!fs(C)||!C)return x}const d=p(N.minimum,N.exclusiveMinimum);Ft(d)&&b<=d&&k.problems.push({location:{offset:E.offset,length:E.length},severity:le.Warning,message:he("exclusiveMinimumWarning","Value is below the exclusive minimum of {0}.",d),source:we(N,n),schemaUri:Se(N,n)});const y=p(N.maximum,N.exclusiveMaximum);Ft(y)&&b>=y&&k.problems.push({location:{offset:E.offset,length:E.length},severity:le.Warning,message:he("exclusiveMaximumWarning","Value is above the exclusive maximum of {0}.",y),source:we(N,n),schemaUri:Se(N,n)});const S=h(N.minimum,N.exclusiveMinimum);Ft(S)&&b<S&&k.problems.push({location:{offset:E.offset,length:E.length},severity:le.Warning,message:he("minimumWarning","Value is below the minimum of {0}.",S),source:we(N,n),schemaUri:Se(N,n)});const D=h(N.maximum,N.exclusiveMaximum);Ft(D)&&b>D&&k.problems.push({location:{offset:E.offset,length:E.length},severity:le.Warning,message:he("maximumWarning","Value is above the maximum of {0}.",D),source:we(N,n),schemaUri:Se(N,n)})}function f(E,N,k){if(Ft(N.minLength)&&E.value.length<N.minLength&&k.problems.push({location:{offset:E.offset,length:E.length},severity:le.Warning,message:he("minLengthWarning","String is shorter than the minimum length of {0}.",N.minLength),source:we(N,n),schemaUri:Se(N,n)}),Ft(N.maxLength)&&E.value.length>N.maxLength&&k.problems.push({location:{offset:E.offset,length:E.length},severity:le.Warning,message:he("maxLengthWarning","String is longer than the maximum length of {0}.",N.maxLength),source:we(N,n),schemaUri:Se(N,n)}),Fo(N.pattern)&&(_g(N.pattern).test(E.value)||k.problems.push({location:{offset:E.offset,length:E.length},severity:le.Warning,message:N.patternErrorMessage||N.errorMessage||he("patternWarning",'String does not match the pattern of "{0}".',N.pattern),source:we(N,n),schemaUri:Se(N,n)})),N.format)switch(N.format){case"uri":case"uri-reference":{let b;if(!E.value)b=he("uriEmpty","URI expected.");else try{!mt.parse(E.value).scheme&&N.format==="uri"&&(b=he("uriSchemeMissing","URI with a scheme is expected."))}catch(p){b=p.message}b&&k.problems.push({location:{offset:E.offset,length:E.length},severity:le.Warning,message:N.patternErrorMessage||N.errorMessage||he("uriFormatWarning","String is not a URI: {0}",b),source:we(N,n),schemaUri:Se(N,n)})}break;case"color-hex":case"date-time":case"date":case"time":case"email":case"ipv4":case"ipv6":{const b=K8[N.format];(!E.value||!b.pattern.test(E.value))&&k.problems.push({location:{offset:E.offset,length:E.length},severity:le.Warning,message:N.patternErrorMessage||N.errorMessage||b.errorMessage,source:we(N,n),schemaUri:Se(N,n)})}break}}function c(E,N,k,b){if(Array.isArray(N.items)){const h=N.items;for(let d=0;d<h.length;d++){const y=h[d],S=tt(y),D=new ut(o),x=E.items[d];x?(He(x,S,N,D,b,i),k.mergePropertyMatch(D),k.mergeEnumValues(D)):E.items.length>=h.length&&k.propertiesValueMatches++}if(E.items.length>h.length)if(typeof N.additionalItems=="object")for(let d=h.length;d<E.items.length;d++){const y=new ut(o);He(E.items[d],N.additionalItems,N,y,b,i),k.mergePropertyMatch(y),k.mergeEnumValues(y)}else N.additionalItems===!1&&k.problems.push({location:{offset:E.offset,length:E.length},severity:le.Warning,message:he("additionalItemsWarning","Array has too many items according to schema. Expected {0} or fewer.",h.length),source:we(N,n),schemaUri:Se(N,n)})}else{const h=tt(N.items);if(h){const d=new ut(o);E.items.forEach(y=>{if(h.oneOf&&h.oneOf.length===1){const S=h.oneOf[0],D={...tt(S)};D.title=N.title,D.closestTitle=N.closestTitle,He(y,D,N,d,b,i),k.mergePropertyMatch(d),k.mergeEnumValues(d)}else He(y,h,N,d,b,i),k.mergePropertyMatch(d),k.mergeEnumValues(d)})}}const p=tt(N.contains);if(p&&(E.items.some(d=>{const y=new ut(o);return He(d,p,N,y,ti.instance,i),!y.hasProblems()})||k.problems.push({location:{offset:E.offset,length:E.length},severity:le.Warning,message:N.errorMessage||he("requiredItemMissingWarning","Array does not contain required item."),source:we(N,n),schemaUri:Se(N,n)})),Ft(N.minItems)&&E.items.length<N.minItems&&k.problems.push({location:{offset:E.offset,length:E.length},severity:le.Warning,message:he("minItemsWarning","Array has too few items. Expected {0} or more.",N.minItems),source:we(N,n),schemaUri:Se(N,n)}),Ft(N.maxItems)&&E.items.length>N.maxItems&&k.problems.push({location:{offset:E.offset,length:E.length},severity:le.Warning,message:he("maxItemsWarning","Array has too many items. Expected {0} or fewer.",N.maxItems),source:we(N,n),schemaUri:Se(N,n)}),N.uniqueItems===!0){const h=ni(E);h.some((y,S)=>S!==h.lastIndexOf(y))&&k.problems.push({location:{offset:E.offset,length:E.length},severity:le.Warning,message:he("uniqueItemsWarning","Array has duplicate items."),source:we(N,n),schemaUri:Se(N,n)})}}function m(E,N,k,b){var p;const h=Object.create(null),d=[],y=[...E.properties];for(;y.length>0;){const x=y.pop(),C=x.keyNode.value;if(C==="<<"&&x.valueNode)switch(x.valueNode.type){case"object":{y.push(...x.valueNode.properties);break}case"array":{x.valueNode.items.forEach(L=>{L&&R8(L.properties)&&y.push(...L.properties)});break}}else h[C]=x.valueNode,d.push(C)}if(Array.isArray(N.required)){for(const x of N.required)if(h[x]===void 0){const C=E.parent&&E.parent.type==="property"&&E.parent.keyNode,L=C?{offset:C.offset,length:C.length}:{offset:E.offset,length:1};k.problems.push({location:L,severity:le.Warning,message:Po(et.missingRequiredPropWarning,[x]),source:we(N,n),schemaUri:Se(N,n),problemArgs:[x],problemType:et.missingRequiredPropWarning})}}const S=x=>{let C=d.indexOf(x);for(;C>=0;)d.splice(C,1),C=d.indexOf(x)};if(N.properties)for(const x of Object.keys(N.properties)){S(x);const C=N.properties[x],L=h[x];if(L)if(fs(C))if(C)k.propertiesMatches++,k.propertiesValueMatches++;else{const _=L.parent;k.problems.push({location:{offset:_.keyNode.offset,length:_.keyNode.length},severity:le.Warning,message:N.errorMessage||he("DisallowedExtraPropWarning",Yu,x),source:we(N,n),schemaUri:Se(N,n)})}else{C.url=(p=N.url)!=null?p:n.url;const _=new ut(o);He(L,C,N,_,b,i),k.mergePropertyMatch(_),k.mergeEnumValues(_)}}if(N.patternProperties)for(const x of Object.keys(N.patternProperties)){const C=_g(x);for(const L of d.slice(0))if(C.test(L)){S(L);const _=h[L];if(_){const T=N.patternProperties[x];if(fs(T))if(T)k.propertiesMatches++,k.propertiesValueMatches++;else{const M=_.parent;k.problems.push({location:{offset:M.keyNode.offset,length:M.keyNode.length},severity:le.Warning,message:N.errorMessage||he("DisallowedExtraPropWarning",Yu,L),source:we(N,n),schemaUri:Se(N,n)})}else{const M=new ut(o);He(_,T,N,M,b,i),k.mergePropertyMatch(M),k.mergeEnumValues(M)}}}}if(typeof N.additionalProperties=="object")for(const x of d){const C=h[x];if(C){const L=new ut(o);He(C,N.additionalProperties,N,L,b,i),k.mergePropertyMatch(L),k.mergeEnumValues(L)}}else if((N.additionalProperties===!1||N.type==="object"&&N.additionalProperties===void 0&&i.disableAdditionalProperties===!0)&&d.length>0){const x=N.properties&&Object.entries(N.properties).filter(([C,L])=>!(h[C]||L&&typeof L=="object"&&(L.doNotSuggest||L.deprecationMessage))).map(([C])=>C);for(const C of d){const L=h[C];if(L){let _=null;L.type!=="property"?(_=L.parent,_.type==="object"&&(_=_.properties[0])):_=L;const T={location:{offset:_.keyNode.offset,length:_.keyNode.length},severity:le.Warning,code:lt.PropertyExpected,message:N.errorMessage||he("DisallowedExtraPropWarning",Yu,C),source:we(N,n),schemaUri:Se(N,n)};x!=null&&x.length&&(T.data={properties:x}),k.problems.push(T)}}}if(Ft(N.maxProperties)&&E.properties.length>N.maxProperties&&k.problems.push({location:{offset:E.offset,length:E.length},severity:le.Warning,message:he("MaxPropWarning","Object has more properties than limit of {0}.",N.maxProperties),source:we(N,n),schemaUri:Se(N,n)}),Ft(N.minProperties)&&E.properties.length<N.minProperties&&k.problems.push({location:{offset:E.offset,length:E.length},severity:le.Warning,message:he("MinPropWarning","Object has fewer properties than the required number of {0}",N.minProperties),source:we(N,n),schemaUri:Se(N,n)}),N.dependencies){for(const x of Object.keys(N.dependencies))if(h[x]){const L=N.dependencies[x];if(Array.isArray(L))for(const _ of L)h[_]?k.propertiesValueMatches++:k.problems.push({location:{offset:E.offset,length:E.length},severity:le.Warning,message:he("RequiredDependentPropWarning","Object is missing property {0} required by property {1}.",_,x),source:we(N,n),schemaUri:Se(N,n)});else{const _=tt(L);if(_){const T=new ut(o);He(E,_,N,T,b,i),k.mergePropertyMatch(T),k.mergeEnumValues(T)}}}}const D=tt(N.propertyNames);if(D)for(const x of E.properties){const C=x.keyNode;C&&He(C,D,N,k,ti.instance,i)}}function g(E,N,k,b){const p=E.compareKubernetes(N.validationResult);return p>0?N={schema:k,validationResult:E,matchingSchemas:b}:p===0&&(N.matchingSchemas.merge(b),N.validationResult.mergeEnumValues(E)),N}function w(E,N,k,b,p,h){if(!N&&!k.hasProblems()&&!b.validationResult.hasProblems())b.matchingSchemas.merge(h),b.validationResult.propertiesMatches+=k.propertiesMatches,b.validationResult.propertiesValueMatches+=k.propertiesValueMatches;else{const d=k.compareGeneric(b.validationResult);d>0||d===0&&N&&b.schema.type==="object"&&E.type!=="null"&&E.type!==b.schema.type?b={schema:p,validationResult:k,matchingSchemas:h}:(d===0||(E.value===null||E.type==="null")&&E.length===0)&&A(b,h,k)}return b}function A(E,N,k){E.matchingSchemas.merge(N),E.validationResult.mergeEnumValues(k),E.validationResult.mergeWarningGeneric(k,[et.missingRequiredPropWarning,et.typeMismatchWarning,et.constWarning])}}function we(e,t){var n;if(e){let r;if(e.title)r=e.title;else if(e.closestTitle)r=e.closestTitle;else if(t.closestTitle)r=t.closestTitle;else{const s=(n=e.url)!=null?n:t.url;if(s){const i=mt.parse(s);i.scheme==="file"&&(r=i.fsPath),r=i.toString()}}if(r)return`${Bg}${r}`}return Oo}function Se(e,t){var n;const r=(n=e.url)!=null?n:t.url;return r?[r]:[]}function Po(e,t){return he(e,X8[e],t.join(" | "))}function qg(e,t,n,r){return e?n===null&&t.length===0?!0:Fo(n)&&Fo(r)&&r.startsWith(n):!1}var aS=1e3,zu=0,Gu=new Set;function hs(e,t,n,r){if(e||(zu=0),!t)return null;if(Pe(t))return lS(t,e,n,r);if(De(t))return uS(t,e,n,r);if($e(t))return cS(t,e,n,r);if(se(t))return fS(t,e);if(Gt(t)&&!Gu.has(t)&&zu<aS){Gu.add(t);const s=hS(t,e,n,r);return Gu.delete(t),s}else return}function lS(e,t,n,r){let s;e.flow&&!e.range?s=dS(e):s=e.range;const i=new sS(t,e,...Wg(s,r));for(const o of e.items)De(o)&&i.properties.push(hs(i,o,n,r));return i}function uS(e,t,n,r){const s=e.key,i=e.value,o=s.range[0];let a=s.range[1],l=s.range[2];i&&(a=i.range[1],l=i.range[2]);const u=new rS(t,e,...Wg([o,a,l],r));if(Gt(s)){const f=new Ro(t,s,...jn(s.range));f.value=s.source,u.keyNode=f}else u.keyNode=hs(u,s,n,r);return u.valueNode=hs(u,i,n,r),u}function cS(e,t,n,r){const s=new tS(t,e,...jn(e.range));for(const i of e.items)if(ye(i)){const o=hs(s,i,n,r);o&&s.children.push(o)}return s}function fS(e,t){if(e.value===null)return new Z8(t,e,...jn(e.range));switch(typeof e.value){case"string":{const n=new Ro(t,e,...jn(e.range));return n.value=e.value,n}case"boolean":return new eS(t,e,e.value,e.source,...jn(e.range));case"number":{const n=new nS(t,e,...jn(e.range));return n.value=e.value,n.isInteger=Number.isInteger(n.value),n}default:{const n=new Ro(t,e,...jn(e.range));return n.value=e.source,n}}}function hS(e,t,n,r){zu++;const s=e.resolve(n);if(s)return hs(t,s,n,r);{const i=new Ro(t,e,...jn(e.range));return i.value=e.source,i}}function jn(e){return[e[0],e[1]-e[0]]}function Wg(e,t){const n=t.linePos(e[0]),r=t.linePos(e[1]),s=[e[0],e[1]-e[0]];return n.line!==r.line&&(t.lineStarts.length!==r.line||r.col===1)&&s[1]--,s}function dS(e){let t=Number.MAX_SAFE_INTEGER,n=0;for(const r of e.items)De(r)&&(ye(r.key)&&r.key.range&&r.key.range[0]<=t&&(t=r.key.range[0]),ye(r.value)&&r.value.range&&r.value.range[2]>=n&&(n=r.value.range[2]));return[t,n,n]}function mS(e,t){let n;if(Fe(e,(r,s,i)=>{if(s===t)return n=i[i.length-1],Fe.BREAK}),!Ir(n))return n}function gS(e){if(e.items.length>1)return!1;const t=e.items[0];return se(t.key)&&se(t.value)&&t.key.value===""&&!t.value.value}function pS(e,t){for(const[n,r]of e.items.entries())if(t===r)return n}function bS(e,t){let n=!1;for(const r of e){if(r.type==="document")Ju([],r,s=>{var i;if(Hg(s)&&((i=s.value)==null?void 0:i.type)==="comment"){if(r.offset<=t&&s.value.source.length+s.value.offset>=t)return n=!0,Fe.BREAK}else if(s.type==="comment"&&s.offset<=t&&s.offset+s.source.length>=t)return n=!0,Fe.BREAK});else if(r.type==="comment"&&r.offset<=t&&r.source.length+r.offset>=t)return!0;if(n)break}return n}function Hg(e){return e.start!==void 0}function Ju(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(const i of["key","value"]){const o=t[i];if(o&&"items"in o){for(let a=0;a<o.items.length;++a){const l=Ju(Object.freeze(e.concat([[i,a]])),o.items[a],n);if(typeof l=="number")a=l-1;else{if(l===Fe.BREAK)return Fe.BREAK;l===Fe.REMOVE&&(o.items.splice(a,1),a-=1)}}typeof r=="function"&&i==="key"&&(r=r(t,e))}}const s=t.sep;if(s)for(let i=0;i<s.length;++i){const o=Ju(Object.freeze(e),s[i],n);if(typeof o=="number")i=o-1;else{if(o===Fe.BREAK)return Fe.BREAK;o===Fe.REMOVE&&(s.items.splice(i,1),i-=1)}}return typeof r=="function"?r(t,e):r}var Yg=class v0 extends oS{constructor(t){super(null,[]),this.lineCounter=t}clone(){const t=new v0(this.lineCounter);return t.isKubernetes=this.isKubernetes,t.disableAdditionalProperties=this.disableAdditionalProperties,t.uri=this.uri,t.currentDocIndex=this.currentDocIndex,t._lineComments=this.lineComments.slice(),t.internalDocument=this._internalDocument.clone(),t}collectLineComments(){this._lineComments=[],this._internalDocument.commentBefore&&this._internalDocument.commentBefore.split(`
`).forEach(n=>this._lineComments.push(`#${n}`)),Fe(this.internalDocument,(t,n)=>{n!=null&&n.commentBefore&&(n==null?void 0:n.commentBefore.split(`
`)).forEach(s=>this._lineComments.push(`#${s}`)),n!=null&&n.comment&&this._lineComments.push(`#${n.comment}`)}),this._internalDocument.comment&&this._lineComments.push(`#${this._internalDocument.comment}`)}updateFromInternalDocument(){this.root=hs(null,this._internalDocument.contents,this._internalDocument,this.lineCounter)}set internalDocument(t){this._internalDocument=t,this.updateFromInternalDocument()}get internalDocument(){return this._internalDocument}get lineComments(){return this._lineComments||this.collectLineComments(),this._lineComments}set lineComments(t){this._lineComments=t}get errors(){return this.internalDocument.errors.map(Gg)}get warnings(){return this.internalDocument.warnings.map(Gg)}getNodeFromPosition(t,n,r){const s=n.getPosition(t),i=n.getLineContent(s.line);if(i.trim().length===0)return[this.findClosestNode(t,n,r),!0];const a=i.substring(s.character).match(/^([ ]+)\n?$/),l=!!a,u=a==null?void 0:a[1].length;let f;return Fe(this.internalDocument,(c,m)=>{if(!m)return;const g=m.range;if(!g)return;const w=()=>l&&t+u===g[2]&&se(m)&&m.value===null;if(g[0]<=t&&g[1]>=t||w())f=m;else return Fe.SKIP}),[f,!1]}findClosestNode(t,n,r){let s=this.internalDocument.range[2],i=this.internalDocument.range[0],o;Fe(this.internalDocument,(f,c)=>{if(!c)return;const m=c.range;if(!m)return;const g=m[1]-t;i<=m[0]&&g<=0&&Math.abs(g)<=s&&(s=Math.abs(g),i=m[0],o=c)});const a=n.getPosition(t),l=n.getLineContent(a.line),u=M8(l,a.character);return se(o)&&o.value===null||u===a.character&&(o=this.getProperParentByIndentation(u,o,n,"",r)),o}getProperParentByIndentation(t,n,r,s,i,o){if(!n)return this.internalDocument.contents;if(i=i||2,ye(n)&&n.range){const a=r.getPosition(n.range[0]),l=r.getLineContent(a.line);if(s=s===""?l.trim():s,s.startsWith("-")&&t===i&&s===l.trim()&&(a.character+=t),a.character>t&&a.character>0){const u=this.getParent(n);if(u)return this.getProperParentByIndentation(t,u,r,s,i,o)}else if(a.character<t){const u=this.getParent(n);if(De(u)&&ye(u.value))return u.value;if(De(o)&&ye(o.value))return o.value}else return n}else if(De(n)){o=n;const a=this.getParent(n);return this.getProperParentByIndentation(t,a,r,s,i,o)}return n}getParent(t){return mS(this.internalDocument,t)}},zg=class{constructor(e,t){this.documents=e,this.tokens=t,this.errors=[],this.warnings=[]}},yS=class{constructor(){this.cache=new Map}getYamlDocument(e,t,n=!1){return this.ensureCache(e,t??$o,n),this.cache.get(e.uri).document}clear(){this.cache.clear()}ensureCache(e,t,n){const r=e.uri;this.cache.has(r)||this.cache.set(r,{version:-1,document:new zg([],[]),parserOptions:$o});const s=this.cache.get(r);if(s.version!==e.version||t.customTags&&!Ig(s.parserOptions.customTags,t.customTags)){let i=e.getText();n&&!/\S/.test(i)&&(i=`{${i}}`);const o=SS(i,t,e);s.document=o,s.version=e.version,s.parserOptions=t}}},Bt=new yS;function Gg(e){return{message:e.message,location:{start:e.pos[0],end:e.pos[1],toLineEnd:!0},severity:1,code:lt.Undefined}}var vS=class{constructor(e,t){this.tag=e,this.type=t}get collection(){if(this.type==="mapping")return"map";if(this.type==="sequence")return"seq"}resolve(e){if(Pe(e)&&this.type==="mapping"||$e(e)&&this.type==="sequence"||typeof e=="string"&&this.type==="scalar")return e}},DS=class{constructor(){this.tag="!include",this.type="scalar"}resolve(e,t){if(e&&e.length>0&&e.trim())return e;t("!include without value")}};function wS(e){const t=[],n=$g(e);for(const r of n){const s=r.split(" "),i=s[0],o=s[1]&&s[1].toLowerCase()||"scalar";t.push(new vS(i,o))}return t.push(new DS),t}var pr=class{constructor(e){this.doc=e}getLineCount(){return this.doc.lineCount}getLineLength(e){const t=this.doc.getLineOffsets();return e>=t.length?this.doc.getText().length:e<0?0:(e+1<t.length?t[e+1]:this.doc.getText().length)-t[e]}getLineContent(e){const t=this.doc.getLineOffsets();if(e>=t.length)return this.doc.getText();if(e<0)return"";const n=e+1<t.length?t[e+1]:this.doc.getText().length;return this.doc.getText().substring(t[e],n)}getLineCharCode(e,t){return this.doc.getText(re.create(e-1,t,e-1,t+1)).charCodeAt(0)}getText(e){return this.doc.getText(e)}getPosition(e){return this.doc.positionAt(e)}},$o={customTags:[],yamlVersion:"1.2"};function SS(e,t=$o,n){var r;const s={strict:!1,customTags:wS(t.customTags),version:(r=t.yamlVersion)!=null?r:$o.yamlVersion,keepSourceTokens:!0},i=new e1(s),o=new l1;let a=!1;if(n){const g=new pr(n),w=g.getPosition(e.length);a=g.getLineContent(w.line).trim().length===0}const u=(a?new $l:new $l(o.addNewLine)).parse(e),f=Array.from(u),c=i.compose(f,!0,e.length),m=Array.from(c,g=>ES(g,o));return new zg(m,f)}function ES(e,t){const n=new Yg(t);return n.internalDocument=e,n}function AS(e){if(e instanceof Yg){const t=e.lineComments.find(n=>Qu(n));if(t!=null){const n=t.match(/\$schema=\S+/g);if(n!==null&&n.length>=1)return n.length>=2&&console.log("Several $schema attributes have been found on the yaml-language-server modeline. The first one will be picked."),n[0].substring(8)}}}function Qu(e){const t=e.match(/^#\s+yaml-language-server\s*:/g);return t!==null&&t.length===1}var NS=class{compile(){return()=>!0}},xS=new NS,Io=cs(),LS=void 0,Jg=xS.compile(LS),Qg;(function(e){e[e.delete=0]="delete",e[e.add=1]="add",e[e.deleteAll=2]="deleteAll"})(Qg||(Qg={}));var CS=class{constructor(e){try{this.patternRegExp=new RegExp(T8(e)+"$")}catch{this.patternRegExp=null}this.schemas=[]}addSchema(e){this.schemas.push(e)}matchesPattern(e){return this.patternRegExp&&this.patternRegExp.test(e)}getSchemas(){return this.schemas}},kS=class extends k8{constructor(e,t,n){super(e,t,n),this.schemaUriToNameAndDescription=new Map,this.customSchemaProvider=void 0,this.requestService=e,this.schemaPriorityMapping=new Map}registerCustomSchemaProvider(e){this.customSchemaProvider=e}getAllSchemas(){const e=[],t=new Set;for(const n of this.filePatternAssociations){const r=n.uris[0];if(t.has(r))continue;t.add(r);const s={uri:r,fromStore:!1,usedForCurrentFile:!1};if(this.schemaUriToNameAndDescription.has(r)){const{name:i,description:o,versions:a}=this.schemaUriToNameAndDescription.get(r);s.name=i,s.description=o,s.fromStore=!0,s.versions=a}e.push(s)}return e}async resolveSchemaContent(e,t,n){const r=e.errors.slice(0);let s=e.schema;const i=this.contextService;if(!Jg(s)){const f=[];for(const c of Jg.errors)f.push(`${c.instancePath} : ${c.message}`);r.push(`Schema '${Mg(e.schema,t)}' is not valid:
${f.join(`
`)}`)}const o=(f,c)=>{if(!c)return f;let m=f;return c[0]==="/"&&(c=c.substr(1)),c.split("/").some(g=>(m=m[g],!m)),m},a=(f,c,m,g)=>{const w=o(c,g);if(w)for(const A in w)Object.prototype.hasOwnProperty.call(w,A)&&!Object.prototype.hasOwnProperty.call(f,A)&&(f[A]=w[A]);else r.push(Io("json.schema.invalidref","$ref '{0}' in '{1}' can not be resolved.",g,m))},l=(f,c,m,g,w)=>{i&&!/^\w+:\/\/.*/.test(c)&&(c=i.resolveRelativePath(c,g)),c=this.normalizeId(c);const A=this.getOrAddSchemaHandle(c);return A.getUnresolvedSchema().then(E=>{if(w[c]=!0,E.errors.length){const N=m?c+"#"+m:c;r.push(Io("json.schema.problemloadingref","Problems loading reference '{0}': {1}",N,E.errors[0]))}return a(f,E.schema,c,m),f.url=c,u(f,E.schema,c,A.dependencies)})},u=async(f,c,m,g)=>{if(!f||typeof f!="object")return null;const w=[f],A=new Set,E=[],N=(...h)=>{for(const d of h)typeof d=="object"&&w.push(d)},k=(...h)=>{for(const d of h)if(typeof d=="object")for(const y in d){const S=d[y];typeof S=="object"&&w.push(S)}},b=(...h)=>{for(const d of h)if(Array.isArray(d))for(const y of d)typeof y=="object"&&w.push(y)},p=h=>{const d=new Set;for(;h.$ref;){const y=decodeURIComponent(h.$ref),S=y.split("#",2);if(h._$ref=h.$ref,delete h.$ref,S[0].length>0){E.push(l(h,S[0],S[1],m,g));return}else d.has(y)||(a(h,c,m,S[1]),d.add(y))}N(h.items,h.additionalItems,h.additionalProperties,h.not,h.contains,h.propertyNames,h.if,h.then,h.else),k(h.definitions,h.properties,h.patternProperties,h.dependencies),b(h.anyOf,h.allOf,h.oneOf,h.items,h.schemaSequence)};if(m.indexOf("#")>0){const h=m.split("#",2);if(h[0].length>0&&h[1].length>0){const d={};await l(d,h[0],h[1],m,g);for(const y in s)y!=="required"&&Object.prototype.hasOwnProperty.call(s,y)&&!Object.prototype.hasOwnProperty.call(d,y)&&(d[y]=s[y]);s=d}}for(;w.length;){const h=w.pop();A.has(h)||(A.add(h),p(h))}return Promise.all(E)};return await u(s,s,t,n),new ei(s,r)}getSchemaForResource(e,t){const n=()=>{let o=AS(t);if(o!==void 0){if(!o.startsWith("file:")&&!o.startsWith("http")){let a="";if(o.indexOf("#")>0){const l=o.split("#",2);o=l[0],a=l[1]}if(Xn.isAbsolute(o))o=mt.file(o).toString();else{const l=mt.parse(e);o=mt.file(Xn.resolve(Xn.parse(l.fsPath).dir,o)).toString()}a.length>0&&(o+="#"+a)}return o}},r=o=>{const a=super.createCombinedSchema(e,o);return a.getResolvedSchema().then(l=>(l.schema&&typeof l.schema=="object"&&(l.schema.url=a.url),l.schema&&l.schema.schemaSequence&&l.schema.schemaSequence[t.currentDocIndex]?new ei(l.schema.schemaSequence[t.currentDocIndex]):l))},s=()=>{const o=Object.create(null),a=[];for(const l of this.filePatternAssociations)if(l.matchesPattern(e))for(const u of l.getURIs())o[u]||(a.push(u),o[u]=!0);if(a.length>0){const l=this.highestPrioritySchemas(a);return r(l)}return Promise.resolve(null)},i=n();return i?r([i]):this.customSchemaProvider?this.customSchemaProvider(e).then(o=>Array.isArray(o)?o.length===0?s():Promise.all(o.map(a=>this.resolveCustomSchema(a,t))).then(a=>({errors:[],schema:{allOf:a.map(l=>l.schema)}}),()=>s()):o?this.resolveCustomSchema(o,t):s()).then(o=>o,()=>s()):s()}addSchemaPriority(e,t){let n=this.schemaPriorityMapping.get(e);n?(n=n.add(t),this.schemaPriorityMapping.set(e,n)):this.schemaPriorityMapping.set(e,new Set().add(t))}highestPrioritySchemas(e){let t=0;const n=new Map;return e.forEach(r=>{(this.schemaPriorityMapping.get(r)||[0]).forEach(i=>{i>t&&(t=i);let o=n.get(i);o?(o=o.concat(r),n.set(i,o)):n.set(i,[r])})}),n.get(t)||[]}async resolveCustomSchema(e,t){const n=await this.loadSchema(e),r=await this.resolveSchemaContent(n,e,[]);return r.schema&&typeof r.schema=="object"&&(r.schema.url=e),r.schema&&r.schema.schemaSequence&&r.schema.schemaSequence[t.currentDocIndex]?new ei(r.schema.schemaSequence[t.currentDocIndex],r.errors):r}async saveSchema(e,t){const n=this.normalizeId(e);return this.getOrAddSchemaHandle(n,t),this.schemaPriorityMapping.set(n,new Set().add(Xu.Settings)),Promise.resolve(void 0)}async deleteSchemas(e){return e.schemas.forEach(t=>{this.deleteSchema(t)}),Promise.resolve(void 0)}async deleteSchema(e){const t=this.normalizeId(e);return this.schemasById[t]&&delete this.schemasById[t],this.schemaPriorityMapping.delete(t),Promise.resolve(void 0)}async addContent(e){const t=await this.getResolvedSchema(e.schema);if(t){const n=this.resolveJSONSchemaToSection(t.schema,e.path);typeof n=="object"&&(n[e.key]=e.content),await this.saveSchema(e.schema,t.schema)}}async deleteContent(e){const t=await this.getResolvedSchema(e.schema);if(t){const n=this.resolveJSONSchemaToSection(t.schema,e.path);typeof n=="object"&&delete n[e.key],await this.saveSchema(e.schema,t.schema)}}resolveJSONSchemaToSection(e,t){const n=t.split("/");let r=e;for(const s of n)s!==""&&(this.resolveNext(r,s),r=r[s]);return r}resolveNext(e,t){if(Array.isArray(e)&&isNaN(t))throw new Error("Expected a number after the array object");if(typeof e=="object"&&typeof t!="string")throw new Error("Expected a string after the object")}normalizeId(e){try{return mt.parse(e).toString()}catch{return e}}getOrAddSchemaHandle(e,t){return super.getOrAddSchemaHandle(e,t)}loadSchema(e){const t=this.requestService;return super.loadSchema(e).then(n=>{if(n.errors&&n.schema===void 0)return t(e).then(r=>{if(!r){const s=Io("json.schema.nocontent","Unable to load schema from '{0}': No content. {1}",Kg(e),n.errors);return new It({},[s])}try{const s=v2(r);return new It(s,[])}catch(s){const i=Io("json.schema.invalidFormat","Unable to parse content from '{0}': {1}.",Kg(e),s);return new It({},[i])}},r=>{let s=r.toString();const i=r.toString().split("Error: ");return i.length>1&&(s=i[1]),new It({},[s])});if(n.uri=e,this.schemaUriToNameAndDescription.has(e)){const{name:r,description:s,versions:i}=this.schemaUriToNameAndDescription.get(e);n.schema.title=r??n.schema.title,n.schema.description=s??n.schema.description,n.schema.versions=i??n.schema.versions}return n})}registerExternalSchema(e,t,n,r,s,i){return(r||s)&&this.schemaUriToNameAndDescription.set(e,{name:r,description:s,versions:i}),super.registerExternalSchema(e,t,n)}clearExternalSchemas(){super.clearExternalSchemas()}setSchemaContributions(e){super.setSchemaContributions(e)}getRegisteredSchemaIds(e){return super.getRegisteredSchemaIds(e)}getResolvedSchema(e){return super.getResolvedSchema(e)}onResourceChange(e){return super.onResourceChange(e)}};function Kg(e){try{const t=mt.parse(e);if(t.scheme==="file")return t.fsPath}catch{}return e}var FS=class{constructor(e,t){this.telemetry=t,this.jsonDocumentSymbols=new W8(e),this.jsonDocumentSymbols.getKeyLabel=n=>{const r=n.keyNode.internalNode;let s="";return Pe(r)?s="{}":$e(r)?s="[]":s=r.source,s}}findDocumentSymbols(e,t={resultLimit:Number.MAX_VALUE}){var n;let r=[];try{const s=Bt.getYamlDocument(e);if(!s||s.documents.length===0)return null;for(const i of s.documents)i.root&&(r=r.concat(this.jsonDocumentSymbols.findDocumentSymbols(e,i,t)))}catch(s){(n=this.telemetry)==null||n.sendError("yaml.documentSymbols.error",s)}return r}findHierarchicalDocumentSymbols(e,t={resultLimit:Number.MAX_VALUE}){var n;let r=[];try{const s=Bt.getYamlDocument(e);if(!s||s.documents.length===0)return null;for(const i of s.documents)i.root&&(r=r.concat(this.jsonDocumentSymbols.findDocumentSymbols2(e,i,t)))}catch(s){(n=this.telemetry)==null||n.sendError("yaml.hierarchicalDocumentSymbols.error",s)}return r}};function Xg(e,t){for(const n of e)n.isKubernetes=t}var _S=class{constructor(e,t){this.telemetry=t,this.shouldHover=!0,this.schemaService=e}configure(e){e&&(this.shouldHover=e.hover,this.indentation=e.indentation)}doHover(e,t,n=!1){var r;try{if(!this.shouldHover||!e)return Promise.resolve(void 0);const s=Bt.getYamlDocument(e),i=e.offsetAt(t),o=Mo(i,s);if(o===null)return Promise.resolve(void 0);Xg(s.documents,n);const a=s.documents.indexOf(o);return o.currentDocIndex=a,this.getHover(e,t,o)}catch(s){(r=this.telemetry)==null||r.sendError("yaml.hover.error",s)}}getHover(e,t,n){const r=e.offsetAt(t);let s=n.getNodeFromOffset(r);if(!s||(s.type==="object"||s.type==="array")&&r>s.offset+1&&r<s.offset+s.length-1)return Promise.resolve(null);const i=s;if(s.type==="string"){const u=s.parent;if(u&&u.type==="property"&&u.keyNode===s&&(s=u.valueNode,!s))return Promise.resolve(null)}const o=re.create(e.positionAt(i.offset),e.positionAt(i.offset+i.length)),a=u=>({contents:{kind:un.Markdown,value:u},range:o}),l=u=>u.replace(/\s\|\|\s*$/,"");return this.schemaService.getSchemaForResource(e.uri,n).then(u=>{if(u&&s&&!u.errors.length){const f=n.getMatchingSchemas(u.schema,s.offset);let c,m,g=[];const w=[],A=[];f.every(N=>((N.node===s||s.type==="property"&&s.valueNode===N.node)&&!N.inverted&&N.schema&&(c=c||N.schema.title||N.schema.closestTitle,m=m||N.schema.markdownDescription||this.toMarkdown(N.schema.description),N.schema.enum&&(N.schema.markdownEnumDescriptions?g=N.schema.markdownEnumDescriptions:N.schema.enumDescriptions?g=N.schema.enumDescriptions.map(this.toMarkdown,this):g=[],N.schema.enum.forEach((k,b)=>{typeof k!="string"&&(k=JSON.stringify(k)),A.some(p=>p.value===k)||A.push({value:k,description:g[b]})})),N.schema.anyOf&&MS(s,f,N.schema)&&(c="",m=N.schema.description?N.schema.description+`
`:"",N.schema.anyOf.forEach((k,b)=>{c+=k.title||N.schema.closestTitle||"",m+=k.markdownDescription||this.toMarkdown(k.description)||"",b!==N.schema.anyOf.length-1&&(c+=" || ",m+=" || ")}),c=l(c),m=l(m)),N.schema.examples&&N.schema.examples.forEach(k=>{w.push(D2(k,null,2))})),!0));let E="";return c&&(E="#### "+this.toMarkdown(c)),m&&(E=Bo(E),E+=m),A.length!==0&&(E=Bo(E),E+=`Allowed Values:

`,A.forEach(N=>{N.description?E+=`* \`${Zg(N.value)}\`: ${N.description}
`:E+=`* \`${Zg(N.value)}\`
`})),w.length!==0&&w.forEach(N=>{E=Bo(E),E+=`Example:

`,E+=`\`\`\`yaml
${N}\`\`\`
`}),E.length>0&&u.schema.url&&(E=Bo(E),E+=`Source: [${TS(u.schema)}](${u.schema.url})`),a(E)}return null})}toMarkdown(e){if(e){let t=e.replace(/([^\n\r])(\r?\n)([^\n\r])/gm,`$1

$3`);if(t=t.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&"),this.indentation!==void 0){const n=new RegExp(` {${this.indentation.length}}`,"g");t=t.replace(n,"&emsp;")}return t}}};function Bo(e){return e.length===0?e:(e.endsWith(`
`)||(e+=`
`),e+`
`)}function TS(e){let t="JSON Schema";const n=e.url;if(n){const r=mt.parse(n);t=Xn.basename(r.fsPath)}else e.title&&(t=e.title);return t}function Zg(e){return e.indexOf("`")!==-1?"`` "+e+" ``":e}function MS(e,t,n){let r=0;for(const s of t)e===s.node&&s.schema!==n&&n.anyOf.forEach(i=>{s.schema.title===i.title&&s.schema.description===i.description&&s.schema.properties===i.properties&&r++});return r===n.anyOf.length}var OS=class{validate(e,t){const n=[],r=new Set,s=new Set,i=new Map;Fe(t.internalDocument,(o,a,l)=>{ye(a)&&((Re(a)||se(a))&&a.anchor&&(r.add(a),i.set(a,l[l.length-1])),Gt(a)&&s.add(a.resolve(t.internalDocument)))});for(const o of r)if(!s.has(o)){const a=this.getAnchorNode(i.get(o),o);if(a){const l=re.create(e.positionAt(a.offset),e.positionAt(a.offset+a.source.length)),u=gt.create(l,`Unused anchor "${a.source}"`,le.Hint,0);u.tags=[Ga.Unnecessary],n.push(u)}}return n}getAnchorNode(e,t){if(e&&e.srcToken){const n=e.srcToken;if(Hg(n))return e0(n);if(h2(n))for(const r of n.items){if(t.srcToken!==r.value)continue;const s=e0(r);if(s)return s}}}};function e0(e){for(const t of e.start)if(t.type==="anchor")return t;if(e.sep&&Array.isArray(e.sep)){for(const t of e.sep)if(t.type==="anchor")return t}}var RS=class{constructor(e){this.forbidMapping=e.flowMapping==="forbid",this.forbidSequence=e.flowSequence==="forbid"}validate(e,t){const n=[];return Fe(t.internalDocument,(r,s)=>{var i,o;this.forbidMapping&&Pe(s)&&((i=s.srcToken)==null?void 0:i.type)==="flow-collection"&&n.push(gt.create(this.getRangeOf(e,s.srcToken),"Flow style mapping is forbidden",le.Error,"flowMap")),this.forbidSequence&&$e(s)&&((o=s.srcToken)==null?void 0:o.type)==="flow-collection"&&n.push(gt.create(this.getRangeOf(e,s.srcToken),"Flow style sequence is forbidden",le.Error,"flowSeq"))}),n}getRangeOf(e,t){return re.create(e.positionAt(t.start.offset),e.positionAt(t.end.pop().offset))}},PS=class{validate(e,t){const n=[];return Fe(t.internalDocument,(r,s)=>{if(Pe(s)){for(let i=1;i<s.items.length;i++)if(IS(s.items[i-1],s.items[i])>0){const o=$S(e,s.items[i-1]);n.push(gt.create(o,`Wrong ordering of key "${s.items[i-1].key}" in mapping`,le.Error,"mapKeyOrder"))}}}),n}};function $S(e,t){var n,r,s,i,o,a,l,u,f,c,m;const g=(a=(s=(n=t==null?void 0:t.srcToken.start[0])==null?void 0:n.offset)!=null?s:(r=t==null?void 0:t.srcToken)==null?void 0:r.key.offset)!=null?a:(o=(i=t==null?void 0:t.srcToken)==null?void 0:i.sep[0])==null?void 0:o.offset,w=((l=t==null?void 0:t.srcToken)==null?void 0:l.value.offset)||((f=(u=t==null?void 0:t.srcToken)==null?void 0:u.sep[0])==null?void 0:f.offset)||((c=t==null?void 0:t.srcToken)==null?void 0:c.key.offset)||((m=t==null?void 0:t.srcToken.start[t.srcToken.start.length-1])==null?void 0:m.offset);return re.create(e.positionAt(g),e.positionAt(w))}function IS(e,t){const n=String(t.key);return String(e.key).localeCompare(n)}var BS=(e,t)=>{const n=t.positionAt(e.location.start),r={start:n,end:e.location.toLineEnd?qe.create(n.line,new pr(t).getLineLength(n.line)):t.positionAt(e.location.end)};return gt.create(r,e.message,e.severity,e.code,Oo)},VS=class{constructor(e,t){this.telemetry=t,this.validators=[],this.MATCHES_MULTIPLE="Matches multiple schemas when only one must validate.",this.validationEnabled=!0,this.jsonValidation=new I8(e,Promise)}configure(e){this.validators=[],e&&(this.validationEnabled=e.validate,this.customTags=e.customTags,this.disableAdditionalProperties=e.disableAdditionalProperties,this.yamlVersion=e.yamlVersion,(e.flowMapping==="forbid"||e.flowSequence==="forbid")&&this.validators.push(new RS(e)),e.keyOrdering&&this.validators.push(new PS)),this.validators.push(new OS)}async doValidation(e,t=!1){var n;if(!this.validationEnabled)return Promise.resolve([]);const r=[];try{const a=Bt.getYamlDocument(e,{customTags:this.customTags,yamlVersion:this.yamlVersion},!0);let l=0;for(const u of a.documents){u.isKubernetes=t,u.currentDocIndex=l,u.disableAdditionalProperties=this.disableAdditionalProperties,u.uri=e.uri;const f=await this.jsonValidation.doValidation(e,u),c=u;c.errors.length>0&&r.push(...c.errors),c.warnings.length>0&&r.push(...c.warnings),r.push(...f),r.push(...this.runAdditionalValidators(e,u)),l++}}catch(a){(n=this.telemetry)==null||n.sendError("yaml.validation.error",a)}let s;const i=new Set,o=[];for(let a of r){if(t&&a.message===this.MATCHES_MULTIPLE)continue;if(Object.prototype.hasOwnProperty.call(a,"location")&&(a=BS(a,e)),a.source||(a.source=Oo),s&&s.message===a.message&&s.range.end.line===a.range.start.line&&Math.abs(s.range.end.character-a.range.end.character)>=1){s.range.end=a.range.end;continue}else s=a;const l=a.range.start.line+" "+a.range.start.character+" "+a.message;i.has(l)||(o.push(a),i.add(l))}return o}runAdditionalValidators(e,t){const n=[];for(const r of this.validators)n.push(...r.validate(e,t));return n}},jS=class{constructor(){this.formatterEnabled=!0}configure(e){e&&(this.formatterEnabled=e.format)}async format(e,t={}){if(!this.formatterEnabled)return[];try{const n=e.getText(),r={parser:"yaml",plugins:[rw],tabWidth:t.tabWidth||t.tabSize,singleQuote:t.singleQuote,bracketSpacing:t.bracketSpacing,proseWrap:t.proseWrap==="always"?"always":t.proseWrap==="never"?"never":"preserve",printWidth:t.printWidth},s=await ju(n,r);return[ke.replace(re.create(qe.create(0,0),e.positionAt(n.length)),s)]}catch{return[]}}},US=class{constructor(e){this.telemetry=e}findLinks(e){var t;try{const n=Bt.getYamlDocument(e),r=[];for(const s of n.documents)r.push(H8(e,s));return Promise.all(r).then(s=>[].concat(...s))}catch(n){(t=this.telemetry)==null||t.sendError("yaml.documentLink.error",n)}}};function qS(e,t){if(!e)return;const n=[],r=Bt.getYamlDocument(e);for(const i of r.documents)r.documents.length>1&&n.push(Vo(e,i.root)),i.visit(o=>{var a;if(o.type==="object"&&((a=o.parent)==null?void 0:a.type)==="array"&&n.push(Vo(e,o)),o.type==="property"&&o.valueNode)switch(o.valueNode.type){case"array":case"object":n.push(Vo(e,o));break;case"string":{const l=e.positionAt(o.offset),u=e.positionAt(o.valueNode.offset+o.valueNode.length);l.line!==u.line&&n.push(Vo(e,o));break}default:return!0}return!0});const s=t&&t.rangeLimit;return typeof s!="number"||n.length<=s?n:(t&&t.onRangeLimitExceeded&&t.onRangeLimitExceeded(e.uri),n.slice(0,t.rangeLimit))}function Vo(e,t){const n=e.positionAt(t.offset);let r=e.positionAt(t.offset+t.length);const s=e.getText(re.create(n,r)),i=s.length-s.trimRight().length;return i>0&&(r=e.positionAt(t.offset+t.length-i)),Ya.create(n.line,r.line,n.character,r.character)}var jo;(function(e){e.JUMP_TO_SCHEMA="jumpToSchema"})(jo||(jo={}));var WS=class{constructor(e){this.indentation=e}write(e){if(e.internalNode.srcToken.type!=="flow-collection")return null;const t=e.internalNode.srcToken,n=t.start.type==="flow-map-start"?"block-map":"block-seq",r=e.parent.type,s={type:n,offset:t.offset,indent:t.indent,items:[]};for(const i of t.items)Qn(i,({key:o,sep:a,value:l})=>{if(n==="block-map"){const u=[{type:"space",indent:0,offset:o.offset,source:this.indentation}];r==="property"&&u.unshift({type:"newline",indent:0,offset:o.offset,source:`
`}),s.items.push({start:u,key:o,sep:a,value:l})}else n==="block-seq"&&s.items.push({start:[{type:"newline",indent:0,offset:l.offset,source:`
`},{type:"space",indent:0,offset:l.offset,source:this.indentation},{type:"seq-item-ind",indent:0,offset:l.offset,source:"-"},{type:"space",indent:0,offset:l.offset,source:" "}],value:l});if(l.type==="flow-collection")return Fe.SKIP});return t1(s)}},HS=structuredClone,YS=class{constructor(e){this.clientCapabilities=e,this.indentation="  "}configure(e){this.indentation=e.indentation}getCodeAction(e,t){if(!t.context.diagnostics)return;const n=[];return n.push(...this.getConvertToBooleanActions(t.context.diagnostics,e)),n.push(...this.getJumpToSchemaActions(t.context.diagnostics)),n.push(...this.getTabToSpaceConverting(t.context.diagnostics,e)),n.push(...this.getUnusedAnchorsDelete(t.context.diagnostics,e)),n.push(...this.getConvertToBlockStyleActions(t.context.diagnostics,e)),n.push(...this.getKeyOrderActions(t.context.diagnostics,e)),n.push(...this.getQuickFixForPropertyOrValueMismatch(t.context.diagnostics,e)),n}getJumpToSchemaActions(e){var t,n,r,s,i;if(!((s=(r=(n=(t=this.clientCapabilities)==null?void 0:t.window)==null?void 0:n.showDocument)==null?void 0:r.support)!=null?s:!1))return[];const a=new Map;for(const u of e){const f=((i=u.data)==null?void 0:i.schemaUri)||[];for(const c of f)c&&(a.has(c)||a.set(c,[]),a.get(c).push(u))}const l=[];for(const u of a.keys()){const f=Yt.create(`Jump to schema location (${Xn.basename(u)})`,Hn.create("JumpToSchema",jo.JUMP_TO_SCHEMA,u));f.diagnostics=a.get(u),l.push(f)}return l}getTabToSpaceConverting(e,t){const n=[],r=new pr(t),s=[];for(const i of e)if(i.message==="Using tabs can lead to unpredictable results"){if(s.includes(i.range.start.line))continue;const o=r.getLineContent(i.range.start.line);let a=0,l="";for(let f=i.range.start.character;f<=i.range.end.character&&o.charAt(f)==="	";f++)a++,l+=this.indentation;s.push(i.range.start.line);let u=i.range;a!==i.range.end.character-i.range.start.character&&(u=re.create(i.range.start,qe.create(i.range.end.line,i.range.start.character+a))),n.push(Yt.create("Convert Tab to Spaces",br(t.uri,[ke.replace(u,l)]),cn.QuickFix))}if(n.length!==0){const i=[];for(let o=0;o<=r.getLineCount();o++){const a=r.getLineContent(o);let l=0,u="";for(let f=0;f<a.length;f++){const c=a.charAt(f);if(c!==" "&&c!=="	"){l!==0&&(i.push(ke.replace(re.create(o,f-l,o,f),u)),l=0,u="");break}if(c===" "&&l!==0){i.push(ke.replace(re.create(o,f-l,o,f),u)),l=0,u="";continue}c==="	"&&(u+=this.indentation,l++)}l!==0&&i.push(ke.replace(re.create(o,0,o,r.getLineLength(o)),u))}i.length>0&&n.push(Yt.create("Convert all Tabs to Spaces",br(t.uri,i),cn.QuickFix))}return n}getUnusedAnchorsDelete(e,t){const n=[],r=new pr(t);for(const s of e)if(s.message.startsWith("Unused anchor")&&s.source===Oo){const i=re.create(s.range.start,s.range.end),o=r.getText(i),a=r.getLineContent(i.end.line),l=O8(a,i.end.character);i.end.character=l;const u=Yt.create(`Delete unused anchor: ${o}`,br(t.uri,[ke.del(i)]),cn.QuickFix);u.diagnostics=[s],n.push(u)}return n}getConvertToBooleanActions(e,t){const n=[];for(const r of e)if(r.message==='Incorrect type. Expected "boolean".'){const s=t.getText(r.range).toLocaleLowerCase();if(s==='"true"'||s==='"false"'||s==="'true'"||s==="'false'"){const i=s.includes("true")?"true":"false";n.push(Yt.create("Convert to boolean",br(t.uri,[ke.replace(r.range,i)]),cn.QuickFix))}}return n}getConvertToBlockStyleActions(e,t){const n=[];for(const r of e)if(r.code==="flowMap"||r.code==="flowSeq"){const s=t0(t,r);if(Pe(s.internalNode)||$e(s.internalNode)){const i=Pe(s.internalNode)?"map":"sequence",o=new WS(this.indentation);n.push(Yt.create(`Convert to block style ${i}`,br(t.uri,[ke.replace(r.range,o.write(s))]),cn.QuickFix))}}return n}getKeyOrderActions(e,t){var n,r,s,i,o,a,l,u,f,c,m,g,w,A;const E=[];for(const N of e)if((N==null?void 0:N.code)==="mapKeyOrder"){let k=t0(t,N);for(;k&&k.type!=="object";)k=k.parent;if(k&&Pe(k.internalNode)){const b=HS(k.internalNode);if((b.srcToken.type==="block-map"||b.srcToken.type==="flow-collection")&&(k.internalNode.srcToken.type==="block-map"||k.internalNode.srcToken.type==="flow-collection")){b.srcToken.items.sort((h,d)=>{if(h.key&&d.key&&Rl(h.key)&&Rl(d.key))return h.key.source.localeCompare(d.key.source);if(!h.key&&d.key)return-1;if(h.key&&!d.key)return 1;if(!h.key&&!d.key)return 0});for(let h=0;h<b.srcToken.items.length;h++){const d=b.srcToken.items[h],y=k.internalNode.srcToken.items[h];if(d.start=y.start,((n=d.value)==null?void 0:n.type)==="alias"||((r=d.value)==null?void 0:r.type)==="scalar"||((s=d.value)==null?void 0:s.type)==="single-quoted-scalar"||((i=d.value)==null?void 0:i.type)==="double-quoted-scalar"){const S=(l=(a=(o=d.value)==null?void 0:o.end)==null?void 0:a.findIndex(x=>x.type==="newline"))!=null?l:-1;let D=null;((u=y.value)==null?void 0:u.type)==="block-scalar"?D=(c=(f=y.value)==null?void 0:f.props)==null?void 0:c.find(x=>x.type==="newline"):Rl(y.value)&&(D=(g=(m=y.value)==null?void 0:m.end)==null?void 0:g.find(x=>x.type==="newline")),D&&S<0&&(d.value.end=(w=d.value.end)!=null?w:[],d.value.end.push(D)),!D&&S>-1&&d.value.end.splice(S,1)}else((A=d.value)==null?void 0:A.type)==="block-scalar"&&(d.value.props.find(D=>D.type==="newline")||d.value.props.push({type:"newline",indent:0,offset:d.value.offset,source:`
`}))}}const p=re.create(t.positionAt(k.offset),t.positionAt(k.offset+k.length));E.push(Yt.create("Fix key order for this map",br(t.uri,[ke.replace(p,t1(b.srcToken))]),cn.QuickFix))}}return E}getPossibleQuickFixValues(e){if(typeof e.data=="object"){if(e.code===lt.EnumValueMismatch&&"values"in e.data&&Array.isArray(e.data.values))return e.data.values;if(e.code===lt.PropertyExpected&&"properties"in e.data&&Array.isArray(e.data.properties))return e.data.properties}}getQuickFixForPropertyOrValueMismatch(e,t){const n=[];for(const r of e){const s=this.getPossibleQuickFixValues(r);if(s!=null&&s.length)for(const i of s)n.push(Yt.create(i,br(t.uri,[ke.replace(r.range,i)]),cn.QuickFix))}return n}};function t0(e,t){const n=Bt.getYamlDocument(e),r=e.offsetAt(t.range.start);return Mo(r,n).getNodeFromOffset(r)}function br(e,t){const n={};return n[e]=t,{changes:n}}function zS(e,t){const{position:n}=t,r=new pr(e);if(t.ch===`
`){const s=r.getLineContent(n.line-1);if(s.trimRight().endsWith(":")){const i=r.getLineContent(n.line),o=i.substring(n.character,i.length),a=s.indexOf(" - ")!==-1;if(o.trimRight().length===0){const l=n.character-(s.length-s.trimLeft().length);if(l===t.options.tabSize&&!a)return;const u=[];return i.length>0&&u.push(ke.del(re.create(n,qe.create(n.line,i.length-1)))),u.push(ke.insert(n," ".repeat(t.options.tabSize+(a?2-l:0)))),u}if(a)return[ke.insert(n," ".repeat(t.options.tabSize))]}if(s.trimRight().endsWith("|"))return[ke.insert(n," ".repeat(t.options.tabSize))];if(s.includes(" - ")&&!s.includes(": "))return[ke.insert(n,"- ")];if(s.includes(" - ")&&s.includes(": "))return[ke.insert(n,"  ")]}}function GS(e){const t=new Map;return e&&(e.url?e.url.startsWith("schemaservice://combinedSchema/")?n0(e,t):t.set(e.url,e):n0(e,t)),t}function n0(e,t){e.allOf&&Ku(e.allOf,t),e.anyOf&&Ku(e.anyOf,t),e.oneOf&&Ku(e.oneOf,t)}function Ku(e,t){for(const n of e)!fs(n)&&n.url&&!t.has(n.url)&&t.set(n.url,n)}var JS=class{constructor(e,t){this.schemaService=e,this.telemetry=t}async getCodeLens(e){var t;const n=[];try{const r=Bt.getYamlDocument(e);let s=new Map;for(const i of r.documents){const o=await this.schemaService.getSchemaForResource(e.uri,i);o!=null&&o.schema&&(s=new Map([...GS(o==null?void 0:o.schema),...s]))}for(const i of s){const o=il.create(re.create(0,0,0,0));o.command={title:Mg(i[1],i[0]),command:jo.JUMP_TO_SCHEMA,arguments:[i[0]]},n.push(o)}}catch(r){(t=this.telemetry)==null||t.sendError("yaml.codeLens.error",r)}return n}resolveCodeLens(e){return e}},QS=class{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}};function KS(e,t,n,r,s){s.spacesDiff=0,s.looksLikeAlignment=!1;let i;for(i=0;i<t&&i<r;i++){const m=e.charCodeAt(i),g=n.charCodeAt(i);if(m!==g)break}let o=0,a=0;for(let m=i;m<t;m++)e.charCodeAt(m)===32?o++:a++;let l=0,u=0;for(let m=i;m<r;m++)n.charCodeAt(m)===32?l++:u++;if(o>0&&a>0||l>0&&u>0)return;const f=Math.abs(a-u),c=Math.abs(o-l);if(f===0){s.spacesDiff=c,c>0&&0<=l-1&&l-1<e.length&&l<n.length&&n.charCodeAt(l)!==32&&e.charCodeAt(l-1)===32&&e.charCodeAt(e.length-1)===44&&(s.looksLikeAlignment=!0);return}c%f===0&&(s.spacesDiff=c/f)}function XS(e,t,n){const r=Math.min(e.getLineCount(),1e4);let s=0,i=0,o="",a=0;const l=[2,4,6,8,3,5,7],u=8,f=[0,0,0,0,0,0,0,0,0],c=new QS;for(let w=1;w<=r;w++){const A=e.getLineLength(w),E=e.getLineContent(w),N=A<=65536;let k=!1,b=0,p=0,h=0;for(let y=0,S=A;y<S;y++){const D=N?E.charCodeAt(y):e.getLineCharCode(w,y);if(D===9)h++;else if(D===32)p++;else{k=!0,b=y;break}}if(!k||(h>0?s++:p>1&&i++,KS(o,a,E,b,c),c.looksLikeAlignment&&t!==c.spacesDiff))continue;const d=c.spacesDiff;d<=u&&f[d]++,o=E,a=b}let m=n;s!==i&&(m=s<i);let g=t;if(m){let w=m?0:.1*r;l.forEach(A=>{const E=f[A];E>w&&(w=E,g=A)}),g===4&&f[4]>0&&f[2]>0&&f[2]>=f[4]/2&&(g=2)}return{insertSpaces:m,tabSize:g}}function Uo(e,t,n,r,s=0,i=0){if(e!==null&&typeof e=="object"){const o=s===0&&r.shouldIndentWithTab||s>0?t+r.indentation:"";if(Array.isArray(e)){if(i+=1,e.length===0)return"";let a="";for(let l=0;l<e.length;l++){let u=e[l];if(typeof e[l]!="object"){a+=`
`+o+"- "+n(e[l]);continue}Array.isArray(e[l])||(u=ZS(e[l],i)),a+=Uo(u,t,n,r,s+=1,i)}return a}else{const a=Object.keys(e);if(a.length===0)return"";let l=s===0&&r.newLineFirst||s>0?`
`:"",u=!0;for(let f=0;f<a.length;f++){const c=a[f];if(s===0&&r.existingProps.includes(c))continue;const m=typeof e[c]=="object",g=m?":":": ",w=m&&/^\s|-/.test(c)?r.indentation:"",A=o+w,E=u?"":`
`;if(s===0&&u&&!r.indentFirstObject){const N=Uo(e[c],A,n,r,s+1,0);l+=E+t+c+g+N}else{const N=Uo(e[c],A,n,r,s+1,0);l+=E+o+c+g+N}u=!1}return l}}return n(e)}function ZS(e,t){const n={};for(let r=0;r<Object.keys(e).length;r++){const s=Object.keys(e)[r];r===0?n["- ".repeat(t)+s]=e[s]:n["  ".repeat(t)+s]=e[s]}return n}var e6=cs(),r0=/[\\]+"/g,s0=pt.Class,qo="__",t6=class{constructor(e,t={},n,r){this.schemaService=e,this.clientCapabilities=t,this.yamlDocument=n,this.telemetry=r,this.completionEnabled=!0,this.arrayPrefixIndentation="",this.isNumberExp=/^\d+$/}configure(e,t){var n;e&&(this.completionEnabled=e.completion),this.customTags=e.customTags,this.yamlVersion=e.yamlVersion,this.isSingleQuote=((n=t==null?void 0:t.yamlFormatterSettings)==null?void 0:n.singleQuote)||!1,this.configuredIndentation=e.indentation,this.disableDefaultProperties=e.disableDefaultProperties,this.parentSkeletonSelectedFirst=e.parentSkeletonSelectedFirst}async doComplete(e,t,n=!1,r=!0){var s;const i=sl.create([],!1);if(!this.completionEnabled)return i;const o=this.yamlDocument.getYamlDocument(e,{customTags:this.customTags,yamlVersion:this.yamlVersion},!0),a=new pr(e);if(this.configuredIndentation)this.indentation=this.configuredIndentation;else{const h=XS(a,2,!0);this.indentation=h.insertSpaces?" ".repeat(h.tabSize):"	"}Xg(o.documents,n);for(const h of o.documents)h.uri=e.uri;const l=e.offsetAt(t),u=e.getText();if(u.charAt(l-1)===":")return Promise.resolve(i);let f=Mo(l,o);if(f===null)return Promise.resolve(i);f=f.clone();let[c,m]=f.getNodeFromPosition(l,a,this.indentation.length);const g=this.getCurrentWord(e,l);let w=a.getLineContent(t.line);const A=w.substring(t.character),E=/^[ ]+\n?$/.test(A);this.arrayPrefixIndentation="";let N=null;if(E){N=re.create(t,qe.create(t.line,w.length));const h=w.trim().length===0,d=w.match(/^\s*(-)\s*$/);if(c&&se(c)&&!h&&!d){const y=w.substring(0,t.character),S=y.match(/^[\s-]*([^:]+)?$/)||y.match(/:[ \t]((?!:[ \t]).*)$/);S!=null&&S[1]&&(N=re.create(qe.create(t.line,t.character-S[1].length),qe.create(t.line,w.length)))}}else if(c&&se(c)&&c.value==="null"){const h=e.positionAt(c.range[0]);h.character+=1;const d=e.positionAt(c.range[2]);d.character+=1,N=re.create(h,d)}else if(c&&se(c)&&c.value){const h=e.positionAt(c.range[0]);N=re.create(h,e.positionAt(c.range[1]))}else if(c&&se(c)&&c.value===null&&g==="-")N=re.create(t,t),this.arrayPrefixIndentation=" ";else{let h=l-g.length;h>0&&u[h-1]==='"'&&h--,N=re.create(e.positionAt(h),t)}const k={},b={add:(h,d)=>{const y=function(L){var _;if(((_=k[L.label])==null?void 0:_.label)===qo)return;const M=L.parent.schema,P=qu(M),B=M.markdownDescription||M.description;let W=i.items.find(G=>{var J;return((J=G.parent)==null?void 0:J.schema)===M&&G.kind===s0});W&&W.parent.insertTexts.includes(L.insertText)||(W?W.parent.insertTexts.push(L.insertText):(W={...L,label:P,documentation:B,sortText:"_"+P,kind:s0},W.label=W.label||L.label,W.parent.insertTexts=[L.insertText],i.items.push(W)))},S=!!h.parent;let D=h.label;if(!D){console.warn(`Ignoring CompletionItem without label: ${JSON.stringify(h)}`);return}if(Fo(D)||(D=String(D)),D=D.replace(/[\n]/g,"↵"),D.length>60){const L=D.substr(0,57).trim()+"...";k[L]||(D=L)}if(h.label.toLowerCase()==="regular expression"){const _=h.documentation.value.split(":");D=_.length>0?`${this.getQuote()}\\${JSON.parse(_[1])}${this.getQuote()}`:h.label,h.insertText=D,h.textEdit=ke.replace(N,D)}else{let L=h.insertText.replace(/\${[0-9]+[:|](.*)}/g,(M,P)=>P).replace(/\$([0-9]+)/g,"");const _=L.split(":");let T=_.length>1?_[1].trim():L;T&&/^(['\\"\\])$/.test(T)&&(T=`${this.getQuote()}\\${T}${this.getQuote()}`,L=_.length>1?_[0]+": "+T:T,h.insertText=L),h.insertText.endsWith("$1")&&!S&&(h.insertText=h.insertText.substr(0,h.insertText.length-2)),N&&N.start.line===N.end.line&&(h.textEdit=ke.replace(N,h.insertText))}if(h.label=D,S){y(h);return}this.arrayPrefixIndentation&&this.updateCompletionText(h,this.arrayPrefixIndentation+h.insertText);const x=k[D],C=(x==null?void 0:x.label)!==qo&&(x==null?void 0:x.insertText)!==h.insertText;if(!x)k[D]=h,i.items.push(h);else if(C){const L=this.mergeSimpleInsertTexts(D,x.insertText,h.insertText,d);L?this.updateCompletionText(x,L):(k[D]=h,i.items.push(h))}x&&!x.documentation&&h.documentation&&(x.documentation=h.documentation)},error:h=>{var d;(d=this.telemetry)==null||d.sendError("yaml.completion.error",h)},log:h=>{console.log(h)},getNumberOfProposals:()=>i.items.length,result:i,proposed:k};this.customTags&&this.customTags.length>0&&this.getCustomTagValueCompletions(b),w.endsWith(`
`)&&(w=w.substr(0,w.length-1));try{const h=await this.schemaService.getSchemaForResource(e.uri,f);if((!h||h.errors.length)&&t.line===0&&t.character===0&&!Qu(w)){const D={kind:pt.Text,label:"Inline schema",insertText:"# yaml-language-server: $schema=",insertTextFormat:Ge.PlainText};i.items.push(D)}if(Qu(w)||bS(o.tokens,l)){const D=w.indexOf("$schema=");return D!==-1&&D+8<=t.character&&this.schemaService.getAllSchemas().forEach(x=>{var C;const L={kind:pt.Constant,label:(C=x.name)!=null?C:x.uri,detail:x.description,insertText:x.uri,insertTextFormat:Ge.PlainText,insertTextMode:nl.asIs};i.items.push(L)}),i}if(!h||h.errors.length)return i;let d=null;if(!c)if(!f.internalDocument.contents||se(f.internalDocument.contents)){const D=f.internalDocument.createNode({});D.range=[l,l+1,l+1],f.internalDocument.contents=D,f.updateFromInternalDocument(),c=D}else c=f.findClosestNode(l,a),m=!0;const y=c;if(c)if(w.length===0)c=f.internalDocument.contents;else{const D=f.getParent(c);if(D){if(se(c)){if(c.value){if(De(D)){if(D.value===c){if(w.trim().length>0&&w.indexOf(":")<0){const x=this.createTempObjNode(g,c,f),C=f.getParent(D);if($e(f.internalDocument.contents)){const L=pS(f.internalDocument.contents,D);typeof L=="number"&&(f.internalDocument.set(L,x),f.updateFromInternalDocument())}else C&&(Pe(C)||$e(C))?(C.set(D.key,x),f.updateFromInternalDocument()):(f.internalDocument.set(D.key,x),f.updateFromInternalDocument());d=x.items[0],c=x}else if(w.trim().length===0){const x=f.getParent(D);x&&(c=x)}}else if(D.key===c){const x=f.getParent(D);d=D,x&&(c=x)}}else if($e(D))if(w.trim().length>0){const x=this.createTempObjNode(g,c,f);D.delete(c),D.add(x),f.updateFromInternalDocument(),c=x}else c=D}else if(c.value===null){if(De(D)){if(D.key===c)c=D;else if(ye(D.key)&&D.key.range){const x=f.getParent(D);if(m&&x&&Pe(x)&&gS(x))c=x;else{const C=e.positionAt(D.key.range[0]);if(t.character>C.character&&t.line!==C.line){const L=this.createTempObjNode(g,c,f);x&&(Pe(x)||$e(x))?(x.set(D.key,L),f.updateFromInternalDocument()):(f.internalDocument.set(D.key,L),f.updateFromInternalDocument()),d=L.items[0],c=L}else C.character===t.character&&x&&(c=x)}}}else if($e(D))if(w.charAt(t.character-1)!=="-"){const x=this.createTempObjNode(g,c,f);D.delete(c),D.add(x),f.updateFromInternalDocument(),c=x}else if(w.charAt(t.character-1)==="-"){const x=this.createTempObjNode("",c,f);D.delete(c),D.add(x),f.updateFromInternalDocument(),c=x}else c=D}}else if(Pe(c)&&!m&&w.trim().length===0&&$e(D)){const x=a.getLineContent(t.line+1);(a.getLineCount()===t.line+1||x.trim().length===0)&&(c=D)}}else if(se(c)){const x=this.createTempObjNode(g,c,f);f.internalDocument.contents=x,f.updateFromInternalDocument(),d=x.items[0],c=x}else if(Pe(c))for(const x of c.items)ye(x.value)&&x.value.range&&x.value.range[0]===l+1&&(c=x.value);else if($e(c)&&w.charAt(t.character-1)!=="-"){const x=this.createTempObjNode(g,c,f);x.items=[],f.updateFromInternalDocument();for(const C of c.items)Pe(C)&&C.items.forEach(L=>{x.items.push(L)});c=x}}if(c&&Pe(c)){const D=c.items;for(const x of D)(!d||d!==x)&&se(x.key)&&(k[x.key.value+""]=rl.create(qo));this.addPropertyCompletions(h,f,c,y,"",b,a,N,r),!h&&g.length>0&&u.charAt(l-g.length-1)!=='"'&&b.add({kind:pt.Property,label:g,insertText:this.getInsertTextForProperty(g,null,""),insertTextFormat:Ge.Snippet})}const S={};this.getValueCompletions(h,f,c,l,e,b,S,r)}catch(h){(s=this.telemetry)==null||s.sendError("yaml.completion.error",h)}this.finalizeParentCompletion(i);const p=i.items.filter((h,d,y)=>d===y.findIndex(S=>S.label===h.label&&S.insertText===h.insertText&&S.kind===h.kind));return(p==null?void 0:p.length)>0&&(i.items=p),i}updateCompletionText(e,t){e.insertText=t,e.textEdit&&(e.textEdit.newText=t)}mergeSimpleInsertTexts(e,t,n,r){const s=f=>f.includes(`
`),i=f=>f.startsWith(`
`),o=f=>{const c=f.indexOf(`
`);return c>0&&f.substring(c,f.length).trim().length===0};if(s(t)||s(n))return r&&o(t)&&!o(n)&&!i(n)?n:void 0;const a=this.getValuesFromInsertText(t),l=this.getValuesFromInsertText(n),u=Array.prototype.concat(a,l);if(u.length)return u.length===1?`${e}: \${1:${u[0]}}`:`${e}: \${1|${u.join(",")}|}`}getValuesFromInsertText(e){const t=e.substring(e.indexOf(":")+1).trim();if(!t)return[];const n=t.match(/^\${1[|:]([^|]*)+\|?}$/);return n?n[1].split(","):[t]}finalizeParentCompletion(e){const t=n=>{let r=0;return n.map(s=>{const i=s.match(/\$([0-9]+)|\${[0-9]+:/g);if(!i)return s;const o=i.map(l=>+l.replace(/\${([0-9]+)[:|]/g,"$1").replace("$","")).reduce((l,u)=>u>l?u:l,0),a=s.replace(/\$([0-9]+)/g,(l,u)=>"$"+(+u+r)).replace(/\${([0-9]+)[:|]/g,(l,u)=>"${"+(+u+r)+":");return r+=o,a})};e.items.forEach(n=>{if(this.isParentCompletionItem(n)){const r=n.parent.indent||"";let i=t(n.parent.insertTexts).join(`
${r}`);i.endsWith("$1")&&(i=i.substring(0,i.length-2)),n.insertText=this.arrayPrefixIndentation+i,n.textEdit&&(n.textEdit.newText=n.insertText);const o=i.replace(/\${[0-9]+[:|](.*)}/g,(l,u)=>u).replace(/\$([0-9]+)/g,""),a=n.documentation?[n.documentation,"","----",""]:[];n.documentation={kind:un.Markdown,value:[...a,"```yaml",r+o,"```"].join(`
`)},delete n.parent}})}createTempObjNode(e,t,n){const r={};r[e]=null;const s=n.internalDocument.createNode(r);return s.range=t.range,s.items[0].key.range=t.range,s.items[0].value.range=t.range,s}addPropertyCompletions(e,t,n,r,s,i,o,a,l){var u,f,c;const m=t.getMatchingSchemas(e.schema,-1,null,l),g=o.getText(a),w=o.getLineContent(a.start.line),A=w.trim().length===0,E=w.indexOf(":")!==-1,N=w.trimLeft().indexOf("-")===0,k=t.getParent(n),b=m.find(d=>d.node.internalNode===r&&d.schema.properties),p=m.filter(d=>d.schema.oneOf).map(d=>d.schema.oneOf)[0];let h=!1;(p==null?void 0:p.length)<m.length&&(p==null||p.forEach((d,y)=>{var S,D;!((S=m[y])!=null&&S.schema.oneOf)&&((D=m[y])==null?void 0:D.schema.properties)===d.properties&&(h=!0)}));for(const d of m){if((d.node.internalNode===n&&!b||d.node.internalNode===r&&!E||((u=d.node.parent)==null?void 0:u.internalNode)===r&&!E)&&!d.inverted){this.collectDefaultSnippets(d.schema,s,i,{newLineFirst:!1,indentFirstObject:!1,shouldIndentWithTab:N});const y=d.schema.properties;if(y){const S=d.schema.maxProperties;if(S===void 0||n.items===void 0||n.items.length<S||n.items.length===S&&!A){for(const D in y)if(Object.prototype.hasOwnProperty.call(y,D)){const x=y[D];if(typeof x=="object"&&!x.deprecationMessage&&!x.doNotSuggest){let C="";if(k&&$e(k)&&n.items.length<=1&&!A){const P=o.getText(),B=P.lastIndexOf("-",n.range[0]-1);if(B>=0){const W=a.end.character-a.start.character;C=" "+P.slice(B+1,n.range[1]-W)}}C+=this.arrayPrefixIndentation;let L;x.type==="array"&&(L=n.items.find(P=>se(P.key)&&P.key.range&&P.key.value===D&&se(P.value)&&!P.value.value&&o.getPosition(P.key.range[2]).line===a.end.line-1))&&L&&(Array.isArray(x.items)?this.addSchemaValueCompletions(x.items[0],s,i,{},"property"):typeof x.items=="object"&&x.items.type==="object"&&this.addArrayItemValueCompletion(x.items,s,i));let _=D;(!D.startsWith(g)||!E)&&(_=this.getInsertTextForProperty(D,x,s,C+this.indentation));const T=se(r)&&r.value===null||Pe(r)&&r.items.length===0,M=((f=d.schema.required)==null?void 0:f.length)>0;(!this.parentSkeletonSelectedFirst||!T||!M)&&i.add({kind:pt.Property,label:D,insertText:_,insertTextFormat:Ge.Snippet,documentation:this.fromMarkup(x.markdownDescription)||x.description||""},h),(c=d.schema.required)!=null&&c.includes(D)&&i.add({label:D,insertText:this.getInsertTextForProperty(D,x,s,C+this.indentation),insertTextFormat:Ge.Snippet,documentation:this.fromMarkup(x.markdownDescription)||x.description||"",parent:{schema:d.schema,indent:C}})}}}}if(k&&$e(k)&&P8(d.schema)&&this.addSchemaValueCompletions(d.schema,s,i,{},"property",Array.isArray(k.items)),d.schema.propertyNames&&d.schema.additionalProperties&&d.schema.type==="object"){const S=tt(d.schema.propertyNames);if(!S.deprecationMessage&&!S.doNotSuggest){const D=S.title||"property";i.add({kind:pt.Property,label:D,insertText:`\${1:${D}}: `,insertTextFormat:Ge.Snippet,documentation:this.fromMarkup(S.markdownDescription)||S.description||""})}}}k&&d.node.internalNode===k&&d.schema.defaultSnippets&&(n.items.length===1?this.collectDefaultSnippets(d.schema,s,i,{newLineFirst:!1,indentFirstObject:!1,shouldIndentWithTab:!0},1):this.collectDefaultSnippets(d.schema,s,i,{newLineFirst:!1,indentFirstObject:!0,shouldIndentWithTab:!1},1))}}getValueCompletions(e,t,n,r,s,i,o,a){let l=null;if(n&&se(n)&&(n=t.getParent(n)),!n){this.addSchemaValueCompletions(e.schema,"",i,o,"value");return}if(De(n)){const u=n.value;if(u&&u.range&&r>u.range[0]+u.range[2])return;l=se(n.key)?n.key.value+"":null,n=t.getParent(n)}if(n&&(l!==null||$e(n))){const u="",f=t.getMatchingSchemas(e.schema,-1,null,a);for(const c of f)if(c.node.internalNode===n&&!c.inverted&&c.schema){if(c.schema.items&&(this.collectDefaultSnippets(c.schema,u,i,{newLineFirst:!1,indentFirstObject:!1,shouldIndentWithTab:!1}),$e(n)&&n.items))if(Array.isArray(c.schema.items)){const m=this.findItemAtOffset(n,s,r);m<c.schema.items.length&&this.addSchemaValueCompletions(c.schema.items[m],u,i,o,"value")}else typeof c.schema.items=="object"&&(c.schema.items.type==="object"||Wu(c.schema.items))?this.addSchemaValueCompletions(c.schema.items,u,i,o,"value",!0):this.addSchemaValueCompletions(c.schema.items,u,i,o,"value");if(c.schema.properties){const m=c.schema.properties[l];m&&this.addSchemaValueCompletions(m,u,i,o,"value")}c.schema.additionalProperties&&this.addSchemaValueCompletions(c.schema.additionalProperties,u,i,o,"value")}o.boolean&&(this.addBooleanValueCompletion(!0,u,i),this.addBooleanValueCompletion(!1,u,i)),o.null&&this.addNullValueCompletion(u,i)}}addArrayItemValueCompletion(e,t,n,r){const s=qu(e),i=`- ${this.getInsertTextForObject(e,t).insertText.trimLeft()}`,o=s?" type `"+s+"`":"",a=e.description?" ("+e.description+")":"",l=this.getDocumentationWithMarkdownText(`Create an item of an array${o}${a}`,i);n.add({kind:this.getSuggestionKind(e.type),label:"- (array item) "+(s||r),documentation:l,insertText:i,insertTextFormat:Ge.Snippet})}getInsertTextForProperty(e,t,n,r=this.indentation){const s=this.getInsertTextForValue(e,"","string"),i=s+":";let o,a=0;if(t){let l=Array.isArray(t.type)?t.type[0]:t.type;if(l||(t.properties?l="object":t.items?l="array":t.anyOf&&(l="anyOf")),Array.isArray(t.defaultSnippets)){if(t.defaultSnippets.length===1){const u=t.defaultSnippets[0].body;mr(u)&&(o=this.getInsertTextForSnippetValue(u,"",{newLineFirst:!0,indentFirstObject:!1,shouldIndentWithTab:!1},[],1),!o.startsWith(" ")&&!o.startsWith(`
`)&&(o=" "+o))}a+=t.defaultSnippets.length}if(t.enum&&(!o&&t.enum.length===1&&(o=" "+this.getInsertTextForGuessedValue(t.enum[0],"",l)),a+=t.enum.length),t.const&&(o||(o=this.getInsertTextForGuessedValue(t.const,"",l),o=this.evaluateTab1Symbol(o),o=" "+o),a++),mr(t.default)&&(o||(o=" "+this.getInsertTextForGuessedValue(t.default,"",l)),a++),Array.isArray(t.examples)&&t.examples.length&&(o||(o=" "+this.getInsertTextForGuessedValue(t.examples[0],"",l)),a+=t.examples.length),t.properties)return`${i}
${this.getInsertTextForObject(t,n,r).insertText}`;if(t.items)return`${i}
${r}- ${this.getInsertTextForArray(t.items,n,1,r).insertText}`;if(a===0)switch(l){case"boolean":o=" $1";break;case"string":o=" $1";break;case"object":o=`
${r}`;break;case"array":o=`
${r}- `;break;case"number":case"integer":o=" ${1:0}";break;case"null":o=" ${1:null}";break;case"anyOf":o=" $1";break;default:return s}}return(!o||a>1)&&(o=" $1"),i+o+n}getInsertTextForObject(e,t,n=this.indentation,r=1){let s="";return e.properties?(Object.keys(e.properties).forEach(i=>{const o=e.properties[i];let a=Array.isArray(o.type)?o.type[0]:o.type;if(a||(o.anyOf&&(a="anyOf"),o.properties&&(a="object"),o.items&&(a="array")),e.required&&e.required.indexOf(i)>-1)switch(a){case"boolean":case"string":case"number":case"integer":case"anyOf":{let l=o.default||o.const;l?(a==="string"&&(l=this.convertToStringValue(l)),s+=`${n}${i}: \${${r++}:${l}}
`):s+=`${n}${i}: $${r++}
`;break}case"array":{const l=this.getInsertTextForArray(o.items,t,r++,n),u=l.insertText.split(`
`);let f=l.insertText;if(u.length>1){for(let c=1;c<u.length;c++){const m=u[c];u[c]=`  ${m}`}f=u.join(`
`)}r=l.insertIndex,s+=`${n}${i}:
${n}${this.indentation}- ${f}
`}break;case"object":{const l=this.getInsertTextForObject(o,t,`${n}${this.indentation}`,r++);r=l.insertIndex,s+=`${n}${i}:
${l.insertText}
`}break}else if(!this.disableDefaultProperties&&o.default!==void 0)switch(a){case"boolean":case"number":case"integer":s+=`${n}${i==="null"?this.getInsertTextForValue(i,"","string"):i}: \${${r++}:${o.default}}
`;break;case"string":s+=`${n}${i}: \${${r++}:${this.convertToStringValue(o.default)}}
`;break}}),s.trim().length===0&&(s=`${n}$${r++}
`),s=s.trimRight()+t,{insertText:s,insertIndex:r}):(s=`${n}$${r++}
`,{insertText:s,insertIndex:r})}getInsertTextForArray(e,t,n=1,r=this.indentation){let s="";if(!e)return s=`$${n++}`,{insertText:s,insertIndex:n};let i=Array.isArray(e.type)?e.type[0]:e.type;switch(i||(e.properties&&(i="object"),e.items&&(i="array")),e.type){case"boolean":s=`\${${n++}:false}`;break;case"number":case"integer":s=`\${${n++}:0}`;break;case"string":s=`\${${n++}}`;break;case"object":{const o=this.getInsertTextForObject(e,t,`${r}  `,n++);s=o.insertText.trimLeft(),n=o.insertIndex}break}return{insertText:s,insertIndex:n}}getInsertTextForGuessedValue(e,t,n){switch(typeof e){case"object":return e===null?"${1:null}"+t:this.getInsertTextForValue(e,t,n);case"string":{let r=JSON.stringify(e);return r=r.substr(1,r.length-2),r=this.getInsertTextForPlainText(r),n==="string"&&(r=this.convertToStringValue(r)),"${1:"+r+"}"+t}case"number":case"boolean":return"${1:"+e+"}"+t}return this.getInsertTextForValue(e,t,n)}getInsertTextForPlainText(e){return e.replace(/[\\$}]/g,"\\$&")}getInsertTextForValue(e,t,n){if(e===null)return"null";switch(typeof e){case"object":{const r=this.indentation;return this.getInsertTemplateForValue(e,r,{index:1},t)}case"number":case"boolean":return this.getInsertTextForPlainText(e+t)}return n=Array.isArray(n)?n[0]:n,n==="string"&&(e=this.convertToStringValue(e)),this.getInsertTextForPlainText(e+t)}getInsertTemplateForValue(e,t,n,r){if(Array.isArray(e)){let s=`
`;for(const i of e)s+=`${t}- \${${n.index++}:${i}}
`;return s}else if(typeof e=="object"){let s=`
`;for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];s+=`${t}\${${n.index++}:${i}}:`;let a;typeof o=="object"?a=`${this.getInsertTemplateForValue(o,t+this.indentation,n,r)}`:a=` \${${n.index++}:${this.getInsertTextForPlainText(o+r)}}
`,s+=`${a}`}return s}return this.getInsertTextForPlainText(e+r)}addSchemaValueCompletions(e,t,n,r,s,i){typeof e=="object"&&(this.addEnumValueCompletions(e,t,n,i),this.addDefaultValueCompletions(e,t,n),this.collectTypes(e,r),i&&s==="value"&&!Wu(e)&&this.addArrayItemValueCompletion(e,t,n),Array.isArray(e.allOf)&&e.allOf.forEach(o=>this.addSchemaValueCompletions(o,t,n,r,s,i)),Array.isArray(e.anyOf)&&e.anyOf.forEach(o=>this.addSchemaValueCompletions(o,t,n,r,s,i)),Array.isArray(e.oneOf)&&e.oneOf.forEach(o=>this.addSchemaValueCompletions(o,t,n,r,s,i)))}collectTypes(e,t){if(Array.isArray(e.enum)||mr(e.const))return;const n=e.type;Array.isArray(n)?n.forEach(function(r){return t[r]=!0}):n&&(t[n]=!0)}addDefaultValueCompletions(e,t,n,r=0){let s=!1;if(mr(e.default)){let i=e.type,o=e.default;for(let l=r;l>0;l--)o=[o],i="array";let a;typeof o=="object"?a="Default value":a=o.toString().replace(r0,'"'),n.add({kind:this.getSuggestionKind(i),label:a,insertText:this.getInsertTextForValue(o,t,i),insertTextFormat:Ge.Snippet,detail:e6("json.suggest.default","Default value")}),s=!0}Array.isArray(e.examples)&&e.examples.forEach(i=>{let o=e.type,a=i;for(let l=r;l>0;l--)a=[a],o="array";n.add({kind:this.getSuggestionKind(o),label:this.getLabelForValue(a),insertText:this.getInsertTextForValue(a,t,o),insertTextFormat:Ge.Snippet}),s=!0}),this.collectDefaultSnippets(e,t,n,{newLineFirst:!0,indentFirstObject:!0,shouldIndentWithTab:!0}),!s&&typeof e.items=="object"&&!Array.isArray(e.items)&&this.addDefaultValueCompletions(e.items,t,n,r+1)}addEnumValueCompletions(e,t,n,r){if(mr(e.const)&&!r&&n.add({kind:this.getSuggestionKind(e.type),label:this.getLabelForValue(e.const),insertText:this.getInsertTextForValue(e.const,t,e.type),insertTextFormat:Ge.Snippet,documentation:this.fromMarkup(e.markdownDescription)||e.description}),Array.isArray(e.enum))for(let s=0,i=e.enum.length;s<i;s++){const o=e.enum[s];let a=this.fromMarkup(e.markdownDescription)||e.description;e.markdownEnumDescriptions&&s<e.markdownEnumDescriptions.length&&this.doesSupportMarkdown()?a=this.fromMarkup(e.markdownEnumDescriptions[s]):e.enumDescriptions&&s<e.enumDescriptions.length&&(a=e.enumDescriptions[s]),n.add({kind:this.getSuggestionKind(e.type),label:this.getLabelForValue(o),insertText:this.getInsertTextForValue(o,t,e.type),insertTextFormat:Ge.Snippet,documentation:a})}}getLabelForValue(e){return e===null?"null":Array.isArray(e)?JSON.stringify(e):""+e}collectDefaultSnippets(e,t,n,r,s=0){if(Array.isArray(e.defaultSnippets))for(const i of e.defaultSnippets){let o=e.type,a=i.body,l=i.label,u,f;if(mr(a)){const c=i.type||e.type;if(s===0&&c==="array"){const g={};Object.keys(a).forEach((w,A)=>{A===0&&!w.startsWith("-")?g[`- ${w}`]=a[w]:g[`  ${w}`]=a[w]}),a=g}const m=Object.keys(n.proposed).filter(g=>n.proposed[g].label===qo);if(u=this.getInsertTextForSnippetValue(a,t,r,m),u===""&&a)continue;l=l||this.getLabelForSnippetValue(a)}else if(typeof i.bodyText=="string"){let c="",m="",g="";for(let w=s;w>0;w--)c=c+g+`[
`,m=m+`
`+g+"]",g+=this.indentation,o="array";u=c+g+i.bodyText.split(`
`).join(`
`+g)+m+t,l=l||u,f=u.replace(/[\n]/g,"")}n.add({kind:i.suggestionKind||this.getSuggestionKind(o),label:l,sortText:i.sortText||i.label,documentation:this.fromMarkup(i.markdownDescription)||i.description,insertText:u,insertTextFormat:Ge.Snippet,filterText:f})}}getInsertTextForSnippetValue(e,t,n,r,s){return Uo(e,"",o=>{if(typeof o=="string"){if(o[0]==="^")return o.substr(1);if(o==="true"||o==="false")return`"${o}"`}return o},{...n,indentation:this.indentation,existingProps:r},s)+t}addBooleanValueCompletion(e,t,n){n.add({kind:this.getSuggestionKind("boolean"),label:e?"true":"false",insertText:this.getInsertTextForValue(e,t,"boolean"),insertTextFormat:Ge.Snippet,documentation:""})}addNullValueCompletion(e,t){t.add({kind:this.getSuggestionKind("null"),label:"null",insertText:"null"+e,insertTextFormat:Ge.Snippet,documentation:""})}getLabelForSnippetValue(e){return JSON.stringify(e).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")}getCustomTagValueCompletions(e){$g(this.customTags).forEach(n=>{const r=n.split(" ")[0];this.addCustomTagValueCompletion(e," ",r)})}addCustomTagValueCompletion(e,t,n){e.add({kind:this.getSuggestionKind("string"),label:n,insertText:n+t,insertTextFormat:Ge.Snippet,documentation:""})}getDocumentationWithMarkdownText(e,t){let n=e;return this.doesSupportMarkdown()&&(t=t.replace(/\${[0-9]+[:|](.*)}/g,(r,s)=>s).replace(/\$([0-9]+)/g,""),n=this.fromMarkup(`${e}
 \`\`\`
${t}
\`\`\``)),n}getSuggestionKind(e){if(Array.isArray(e)){const t=e;e=t.length>0?t[0]:null}if(!e)return pt.Value;switch(e){case"string":return pt.Value;case"object":return pt.Module;case"property":return pt.Property;default:return pt.Value}}getCurrentWord(e,t){let n=t-1;const r=e.getText();for(;n>=0&&` 	
\r\v":{[,]}`.indexOf(r.charAt(n))===-1;)n--;return r.substring(n+1,t)}fromMarkup(e){if(e&&this.doesSupportMarkdown())return{kind:un.Markdown,value:e}}doesSupportMarkdown(){if(this.supportsMarkdown===void 0){const e=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.completion;this.supportsMarkdown=e&&e.completionItem&&Array.isArray(e.completionItem.documentationFormat)&&e.completionItem.documentationFormat.indexOf(un.Markdown)!==-1}return this.supportsMarkdown}findItemAtOffset(e,t,n){for(let r=e.items.length-1;r>=0;r--){const s=e.items[r];if(ye(s)&&s.range){if(n>s.range[1])return r;if(n>=s.range[0])return r}}return 0}convertToStringValue(e){let t;if(typeof e=="string"?t=["on","off","true","false","yes","no"].includes(e.toLowerCase())?`${this.getQuote()}${e}${this.getQuote()}`:e:t=""+e,t.length===0)return t;if(t==="true"||t==="false"||t==="null"||this.isNumberExp.test(t))return`"${t}"`;t.indexOf('"')!==-1&&(t=t.replace(r0,'"'));let n=!isNaN(parseInt(t))||t.charAt(0)==="@";if(!n){let r=t.indexOf(":",0);for(;r>0&&r<t.length;r=t.indexOf(":",r+1)){if(r===t.length-1){n=!0;break}const s=t.charAt(r+1);if(s==="	"||s===" "){n=!0;break}}}return n&&(t=`"${t}"`),t}getQuote(){return this.isSingleQuote?"'":'"'}evaluateTab1Symbol(e){return e.replace(/\$\{1:(.*)\}/,"$1")}isParentCompletionItem(e){return"parent"in e}},n6=class{constructor(e){this.telemetry=e}getDefinition(e,t){var n;try{const r=Bt.getYamlDocument(e),s=e.offsetAt(t.position),i=Mo(s,r);if(i){const[o]=i.getNodeFromPosition(s,new pr(e));if(o&&Gt(o)){const a=o.resolve(i.internalDocument);if(a&&a.range){const l=re.create(e.positionAt(a.range[0]),e.positionAt(a.range[2])),u=re.create(e.positionAt(a.range[0]),e.positionAt(a.range[1]));return[Wa.create(e.uri,l,u)]}}}}catch(r){(n=this.telemetry)==null||n.sendError("yaml.definition.error",r)}}};function r6(e,t){const n=Bt.getYamlDocument(e);return t.map(o=>{const a=r(o);let l;for(const u of a)l=Ti.create(u,l);return l??Ti.create({start:o,end:o})});function r(o){const a=e.offsetAt(o),l=[];for(const u of n.documents){let f,c;for(u.visit(m=>{const g=m.offset+m.length;if(g<a||i(g-1,g)===`
`&&g-1<a)return!0;let w=m.offset;if(w>a){const A=s(m,o);if(!A||A>a)return!0;w=A}return(!f||w>=f.offset)&&(f=m,c=w),!0});f;){const m=c??f.offset,g=f.offset+f.length,w={start:e.positionAt(m),end:e.positionAt(g)},A=e.getText(w),E=s6(A),N=m+E.length;N>=a&&(w.end=e.positionAt(N));const k=(b,p)=>E.startsWith(b)&&E.endsWith(p||b);(f.type==="string"&&(k("'")||k('"'))||f.type==="object"&&k("{","}")||f.type==="array"&&k("[","]"))&&l.push({start:e.positionAt(m+1),end:e.positionAt(g-1)}),l.push(w),f=f.parent,c=void 0}if(l.length>0)break}return l.reverse()}function s(o,a){var l;const u=e.positionAt(o.offset);if(u.line===a.line){if(((l=o.parent)==null?void 0:l.type)==="array"&&i(o.offset-2,o.offset)==="- ")return o.offset-2;if(o.type==="array"||o.type==="object"){const f={line:u.line,character:0};if(e.getText({start:f,end:u}).trim().length===0)return e.offsetAt(f)}}}function i(o,a){return e.getText({start:e.positionAt(o),end:e.positionAt(a)})}}function s6(e){return e.endsWith(`\r
`)?e.substring(0,e.length-2):e.endsWith(`
`)?e.substring(0,e.length-1):e}var Xu;(function(e){e[e.SchemaStore=1]="SchemaStore",e[e.SchemaAssociation=2]="SchemaAssociation",e[e.Settings=3]="Settings"})(Xu||(Xu={}));function i6(e){const t=new kS(e.schemaRequestService,e.workspaceContext),n=new t6(t,e.clientCapabilities,Bt,e.telemetry),r=new _S(t,e.telemetry),s=new FS(t,e.telemetry),i=new VS(t,e.telemetry),o=new jS,a=new YS(e.clientCapabilities),l=new JS(t,e.telemetry),u=new US(e.telemetry),f=new n6(e.telemetry);return{configure:c=>{t.clearExternalSchemas(),c.schemas&&(t.schemaPriorityMapping=new Map,c.schemas.forEach(m=>{const g=m.priority?m.priority:0;t.addSchemaPriority(m.uri,g),t.registerExternalSchema(m.uri,m.fileMatch,m.schema,m.name,m.description,m.versions)})),i.configure(c),r.configure(c),n.configure(c,e.yamlSettings),o.configure(c),a.configure(c)},registerCustomSchemaProvider:c=>{t.registerCustomSchemaProvider(c)},findLinks:u.findLinks.bind(u),doComplete:n.doComplete.bind(n),doValidation:i.doValidation.bind(i),doHover:r.doHover.bind(r),findDocumentSymbols:s.findDocumentSymbols.bind(s),findDocumentSymbols2:s.findHierarchicalDocumentSymbols.bind(s),doDefinition:f.getDefinition.bind(f),resetSchema:c=>t.onResourceChange(c),doFormat:o.format.bind(o),doDocumentOnTypeFormatting:zS,addSchema:(c,m)=>t.saveSchema(c,m),deleteSchema:c=>t.deleteSchema(c),modifySchemaContent:c=>t.addContent(c),deleteSchemaContent:c=>t.deleteContent(c),deleteSchemasWhole:c=>t.deleteSchemas(c),getFoldingRanges:qS,getSelectionRanges:r6,getCodeAction:(c,m)=>a.getCodeAction(c,m),getCodeLens:c=>l.getCodeLens(c),resolveCodeLens:c=>l.resolveCodeLens(c)}}async function o6(e){const t=await fetch(e);if(t.ok)return t.text();throw new Error(`Schema request failed for ${e}`)}var a6={send(){},sendError(e,t){console.error("monaco-yaml",e,t)},sendTrack(){}},l6={resolveRelativePath(e,t){return String(new URL(e,t))}};ny((e,{enableSchemaRequest:t,...n})=>{const r=i6({schemaRequestService:t?o6:null,telemetry:a6,workspaceContext:l6,clientCapabilities:{textDocument:{completion:{completionItem:{commitCharactersSupport:!0,documentationFormat:["markdown","plaintext"]}},moniker:{}}}}),s=i=>(o,...a)=>{const l=e.getMirrorModels();for(const u of l)if(String(u.uri)===o)return i(Ba.create(o,"yaml",u.version,u.getValue()),...a)};return r.configure(n),{doValidation:s(i=>r.doValidation(i,!!n.isKubernetes)),doComplete:s((i,o)=>r.doComplete(i,o,!!n.isKubernetes)),doDefinition:s((i,o)=>r.doDefinition(i,{position:o,textDocument:i})),doDocumentOnTypeFormatting:s((i,o,a,l)=>r.doDocumentOnTypeFormatting(i,{ch:a,options:l,position:o,textDocument:i})),doHover:s(r.doHover),format:s(r.doFormat),resetSchema:r.resetSchema,findDocumentSymbols:s(r.findDocumentSymbols2),findLinks:s(r.findLinks),getCodeAction:s((i,o,a)=>r.getCodeAction(i,{range:o,textDocument:i,context:a})),getFoldingRanges:s(i=>r.getFoldingRanges(i,{lineFoldingOnly:!0})),getSelectionRanges:s(r.getSelectionRanges)}})})();
