(function(){"use strict";/*! js-yaml 4.1.1 https://github.com/nodeca/js-yaml @license MIT */function Fn(e){return typeof e>"u"||e===null}function aa(e){return typeof e=="object"&&e!==null}function sa(e){return Array.isArray(e)?e:Fn(e)?[]:[e]}function ua(e,r){var t,n,i,o;if(r)for(o=Object.keys(r),t=0,n=o.length;t<n;t+=1)i=o[t],e[i]=r[i];return e}function ca(e,r){var t="",n;for(n=0;n<r;n+=1)t+=e;return t}function la(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var fa=Fn,da=aa,ha=sa,pa=ca,ma=la,ya=ua,ue={isNothing:fa,isObject:da,toArray:ha,repeat:pa,isNegativeZero:ma,extend:ya};function Vn(e,r){var t="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(t+='in "'+e.mark.name+'" '),t+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!r&&e.mark.snippet&&(t+=`

`+e.mark.snippet),n+" "+t):n}function or(e,r){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=r,this.message=Vn(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}or.prototype=Object.create(Error.prototype),or.prototype.constructor=or,or.prototype.toString=function(r){return this.name+": "+Vn(this,r)};var we=or;function Jr(e,r,t,n,i){var o="",a="",s=Math.floor(i/2)-1;return n-r>s&&(o=" ... ",r=n-s+o.length),t-n>s&&(a=" ...",t=n+s-a.length),{str:o+e.slice(r,t).replace(/\t/g,"→")+a,pos:n-r+o.length}}function Wr(e,r){return ue.repeat(" ",r-e.length)+e}function ga(e,r){if(r=Object.create(r||null),!e.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var t=/\r?\n|\r|\0/g,n=[0],i=[],o,a=-1;o=t.exec(e.buffer);)i.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&a<0&&(a=n.length-2);a<0&&(a=n.length-1);var s="",u,l,f=Math.min(e.line+r.linesAfter,i.length).toString().length,h=r.maxLength-(r.indent+f+3);for(u=1;u<=r.linesBefore&&!(a-u<0);u++)l=Jr(e.buffer,n[a-u],i[a-u],e.position-(n[a]-n[a-u]),h),s=ue.repeat(" ",r.indent)+Wr((e.line-u+1).toString(),f)+" | "+l.str+`
`+s;for(l=Jr(e.buffer,n[a],i[a],e.position,h),s+=ue.repeat(" ",r.indent)+Wr((e.line+1).toString(),f)+" | "+l.str+`
`,s+=ue.repeat("-",r.indent+f+3+l.pos)+`^
`,u=1;u<=r.linesAfter&&!(a+u>=i.length);u++)l=Jr(e.buffer,n[a+u],i[a+u],e.position-(n[a]-n[a+u]),h),s+=ue.repeat(" ",r.indent)+Wr((e.line+u+1).toString(),f)+" | "+l.str+`
`;return s.replace(/\n$/,"")}var va=ga,_a=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],$a=["scalar","sequence","mapping"];function ba(e){var r={};return e!==null&&Object.keys(e).forEach(function(t){e[t].forEach(function(n){r[String(n)]=t})}),r}function wa(e,r){if(r=r||{},Object.keys(r).forEach(function(t){if(_a.indexOf(t)===-1)throw new we('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.options=r,this.tag=e,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(t){return t},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=ba(r.styleAliases||null),$a.indexOf(this.kind)===-1)throw new we('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var se=wa;function Ln(e,r){var t=[];return e[r].forEach(function(n){var i=t.length;t.forEach(function(o,a){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=a)}),t[i]=n}),t}function Sa(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},r,t;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(r=0,t=arguments.length;r<t;r+=1)arguments[r].forEach(n);return e}function Xr(e){return this.extend(e)}Xr.prototype.extend=function(r){var t=[],n=[];if(r instanceof se)n.push(r);else if(Array.isArray(r))n=n.concat(r);else if(r&&(Array.isArray(r.implicit)||Array.isArray(r.explicit)))r.implicit&&(t=t.concat(r.implicit)),r.explicit&&(n=n.concat(r.explicit));else throw new we("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(o){if(!(o instanceof se))throw new we("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new we("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new we("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof se))throw new we("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Xr.prototype);return i.implicit=(this.implicit||[]).concat(t),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Ln(i,"implicit"),i.compiledExplicit=Ln(i,"explicit"),i.compiledTypeMap=Sa(i.compiledImplicit,i.compiledExplicit),i};var Ea=Xr,Pa=new se("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Oa=new se("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Na=new se("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Ia=new Ea({explicit:[Pa,Oa,Na]});function ka(e){if(e===null)return!0;var r=e.length;return r===1&&e==="~"||r===4&&(e==="null"||e==="Null"||e==="NULL")}function ja(){return null}function Aa(e){return e===null}var Ta=new se("tag:yaml.org,2002:null",{kind:"scalar",resolve:ka,construct:ja,predicate:Aa,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Ca(e){if(e===null)return!1;var r=e.length;return r===4&&(e==="true"||e==="True"||e==="TRUE")||r===5&&(e==="false"||e==="False"||e==="FALSE")}function Ra(e){return e==="true"||e==="True"||e==="TRUE"}function Ma(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var xa=new se("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Ca,construct:Ra,predicate:Ma,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function qa(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Da(e){return 48<=e&&e<=55}function Fa(e){return 48<=e&&e<=57}function Va(e){if(e===null)return!1;var r=e.length,t=0,n=!1,i;if(!r)return!1;if(i=e[t],(i==="-"||i==="+")&&(i=e[++t]),i==="0"){if(t+1===r)return!0;if(i=e[++t],i==="b"){for(t++;t<r;t++)if(i=e[t],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(t++;t<r;t++)if(i=e[t],i!=="_"){if(!qa(e.charCodeAt(t)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(t++;t<r;t++)if(i=e[t],i!=="_"){if(!Da(e.charCodeAt(t)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;t<r;t++)if(i=e[t],i!=="_"){if(!Fa(e.charCodeAt(t)))return!1;n=!0}return!(!n||i==="_")}function La(e){var r=e,t=1,n;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),n=r[0],(n==="-"||n==="+")&&(n==="-"&&(t=-1),r=r.slice(1),n=r[0]),r==="0")return 0;if(n==="0"){if(r[1]==="b")return t*parseInt(r.slice(2),2);if(r[1]==="x")return t*parseInt(r.slice(2),16);if(r[1]==="o")return t*parseInt(r.slice(2),8)}return t*parseInt(r,10)}function za(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ue.isNegativeZero(e)}var Ua=new se("tag:yaml.org,2002:int",{kind:"scalar",resolve:Va,construct:La,predicate:za,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Ka=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Ha(e){return!(e===null||!Ka.test(e)||e[e.length-1]==="_")}function Ga(e){var r,t;return r=e.replace(/_/g,"").toLowerCase(),t=r[0]==="-"?-1:1,"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:t*parseFloat(r,10)}var Ba=/^[-+]?[0-9]+e/;function Ya(e,r){var t;if(isNaN(e))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ue.isNegativeZero(e))return"-0.0";return t=e.toString(10),Ba.test(t)?t.replace("e",".e"):t}function Ja(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ue.isNegativeZero(e))}var Wa=new se("tag:yaml.org,2002:float",{kind:"scalar",resolve:Ha,construct:Ga,predicate:Ja,represent:Ya,defaultStyle:"lowercase"}),Xa=Ia.extend({implicit:[Ta,xa,Ua,Wa]}),Za=Xa,zn=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Un=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Qa(e){return e===null?!1:zn.exec(e)!==null||Un.exec(e)!==null}function es(e){var r,t,n,i,o,a,s,u=0,l=null,f,h,_;if(r=zn.exec(e),r===null&&(r=Un.exec(e)),r===null)throw new Error("Date resolve error");if(t=+r[1],n=+r[2]-1,i=+r[3],!r[4])return new Date(Date.UTC(t,n,i));if(o=+r[4],a=+r[5],s=+r[6],r[7]){for(u=r[7].slice(0,3);u.length<3;)u+="0";u=+u}return r[9]&&(f=+r[10],h=+(r[11]||0),l=(f*60+h)*6e4,r[9]==="-"&&(l=-l)),_=new Date(Date.UTC(t,n,i,o,a,s,u)),l&&_.setTime(_.getTime()-l),_}function rs(e){return e.toISOString()}var ts=new se("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Qa,construct:es,instanceOf:Date,represent:rs});function ns(e){return e==="<<"||e===null}var is=new se("tag:yaml.org,2002:merge",{kind:"scalar",resolve:ns}),Zr=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function os(e){if(e===null)return!1;var r,t,n=0,i=e.length,o=Zr;for(t=0;t<i;t++)if(r=o.indexOf(e.charAt(t)),!(r>64)){if(r<0)return!1;n+=6}return n%8===0}function as(e){var r,t,n=e.replace(/[\r\n=]/g,""),i=n.length,o=Zr,a=0,s=[];for(r=0;r<i;r++)r%4===0&&r&&(s.push(a>>16&255),s.push(a>>8&255),s.push(a&255)),a=a<<6|o.indexOf(n.charAt(r));return t=i%4*6,t===0?(s.push(a>>16&255),s.push(a>>8&255),s.push(a&255)):t===18?(s.push(a>>10&255),s.push(a>>2&255)):t===12&&s.push(a>>4&255),new Uint8Array(s)}function ss(e){var r="",t=0,n,i,o=e.length,a=Zr;for(n=0;n<o;n++)n%3===0&&n&&(r+=a[t>>18&63],r+=a[t>>12&63],r+=a[t>>6&63],r+=a[t&63]),t=(t<<8)+e[n];return i=o%3,i===0?(r+=a[t>>18&63],r+=a[t>>12&63],r+=a[t>>6&63],r+=a[t&63]):i===2?(r+=a[t>>10&63],r+=a[t>>4&63],r+=a[t<<2&63],r+=a[64]):i===1&&(r+=a[t>>2&63],r+=a[t<<4&63],r+=a[64],r+=a[64]),r}function us(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var cs=new se("tag:yaml.org,2002:binary",{kind:"scalar",resolve:os,construct:as,predicate:us,represent:ss}),ls=Object.prototype.hasOwnProperty,fs=Object.prototype.toString;function ds(e){if(e===null)return!0;var r=[],t,n,i,o,a,s=e;for(t=0,n=s.length;t<n;t+=1){if(i=s[t],a=!1,fs.call(i)!=="[object Object]")return!1;for(o in i)if(ls.call(i,o))if(!a)a=!0;else return!1;if(!a)return!1;if(r.indexOf(o)===-1)r.push(o);else return!1}return!0}function hs(e){return e!==null?e:[]}var ps=new se("tag:yaml.org,2002:omap",{kind:"sequence",resolve:ds,construct:hs}),ms=Object.prototype.toString;function ys(e){if(e===null)return!0;var r,t,n,i,o,a=e;for(o=new Array(a.length),r=0,t=a.length;r<t;r+=1){if(n=a[r],ms.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[r]=[i[0],n[i[0]]]}return!0}function gs(e){if(e===null)return[];var r,t,n,i,o,a=e;for(o=new Array(a.length),r=0,t=a.length;r<t;r+=1)n=a[r],i=Object.keys(n),o[r]=[i[0],n[i[0]]];return o}var vs=new se("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:ys,construct:gs}),_s=Object.prototype.hasOwnProperty;function $s(e){if(e===null)return!0;var r,t=e;for(r in t)if(_s.call(t,r)&&t[r]!==null)return!1;return!0}function bs(e){return e!==null?e:{}}var ws=new se("tag:yaml.org,2002:set",{kind:"mapping",resolve:$s,construct:bs}),Ss=Za.extend({implicit:[ts,is],explicit:[cs,ps,vs,ws]}),je=Object.prototype.hasOwnProperty,_r=1,Kn=2,Hn=3,$r=4,Qr=1,Es=2,Gn=3,Ps=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Os=/[\x85\u2028\u2029]/,Ns=/[,\[\]\{\}]/,Bn=/^(?:!|!!|![a-z\-]+!)$/i,Yn=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Jn(e){return Object.prototype.toString.call(e)}function Se(e){return e===10||e===13}function Me(e){return e===9||e===32}function ce(e){return e===9||e===32||e===10||e===13}function Ue(e){return e===44||e===91||e===93||e===123||e===125}function Is(e){var r;return 48<=e&&e<=57?e-48:(r=e|32,97<=r&&r<=102?r-97+10:-1)}function ks(e){return e===120?2:e===117?4:e===85?8:0}function js(e){return 48<=e&&e<=57?e-48:-1}function Wn(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function As(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function Xn(e,r,t){r==="__proto__"?Object.defineProperty(e,r,{configurable:!0,enumerable:!0,writable:!0,value:t}):e[r]=t}for(var Zn=new Array(256),Qn=new Array(256),Ke=0;Ke<256;Ke++)Zn[Ke]=Wn(Ke)?1:0,Qn[Ke]=Wn(Ke);function Ts(e,r){this.input=e,this.filename=r.filename||null,this.schema=r.schema||Ss,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function ei(e,r){var t={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return t.snippet=va(t),new we(r,t)}function D(e,r){throw ei(e,r)}function br(e,r){e.onWarning&&e.onWarning.call(null,ei(e,r))}var ri={YAML:function(r,t,n){var i,o,a;r.version!==null&&D(r,"duplication of %YAML directive"),n.length!==1&&D(r,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&D(r,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),a=parseInt(i[2],10),o!==1&&D(r,"unacceptable YAML version of the document"),r.version=n[0],r.checkLineBreaks=a<2,a!==1&&a!==2&&br(r,"unsupported YAML version of the document")},TAG:function(r,t,n){var i,o;n.length!==2&&D(r,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],Bn.test(i)||D(r,"ill-formed tag handle (first argument) of the TAG directive"),je.call(r.tagMap,i)&&D(r,'there is a previously declared suffix for "'+i+'" tag handle'),Yn.test(o)||D(r,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{D(r,"tag prefix is malformed: "+o)}r.tagMap[i]=o}};function Ae(e,r,t,n){var i,o,a,s;if(r<t){if(s=e.input.slice(r,t),n)for(i=0,o=s.length;i<o;i+=1)a=s.charCodeAt(i),a===9||32<=a&&a<=1114111||D(e,"expected valid JSON character");else Ps.test(s)&&D(e,"the stream contains non-printable characters");e.result+=s}}function ti(e,r,t,n){var i,o,a,s;for(ue.isObject(t)||D(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(t),a=0,s=i.length;a<s;a+=1)o=i[a],je.call(r,o)||(Xn(r,o,t[o]),n[o]=!0)}function He(e,r,t,n,i,o,a,s,u){var l,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,f=i.length;l<f;l+=1)Array.isArray(i[l])&&D(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Jn(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&Jn(i)==="[object Object]"&&(i="[object Object]"),i=String(i),r===null&&(r={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(l=0,f=o.length;l<f;l+=1)ti(e,r,o[l],t);else ti(e,r,o,t);else!e.json&&!je.call(t,i)&&je.call(r,i)&&(e.line=a||e.line,e.lineStart=s||e.lineStart,e.position=u||e.position,D(e,"duplicated mapping key")),Xn(r,i,o),delete t[i];return r}function et(e){var r;r=e.input.charCodeAt(e.position),r===10?e.position++:r===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):D(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Z(e,r,t){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Me(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(r&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Se(i))for(et(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return t!==-1&&n!==0&&e.lineIndent<t&&br(e,"deficient indentation"),n}function wr(e){var r=e.position,t;return t=e.input.charCodeAt(r),!!((t===45||t===46)&&t===e.input.charCodeAt(r+1)&&t===e.input.charCodeAt(r+2)&&(r+=3,t=e.input.charCodeAt(r),t===0||ce(t)))}function rt(e,r){r===1?e.result+=" ":r>1&&(e.result+=ue.repeat(`
`,r-1))}function Cs(e,r,t){var n,i,o,a,s,u,l,f,h=e.kind,_=e.result,p;if(p=e.input.charCodeAt(e.position),ce(p)||Ue(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),ce(i)||t&&Ue(i)))return!1;for(e.kind="scalar",e.result="",o=a=e.position,s=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),ce(i)||t&&Ue(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),ce(n))break}else{if(e.position===e.lineStart&&wr(e)||t&&Ue(p))break;if(Se(p))if(u=e.line,l=e.lineStart,f=e.lineIndent,Z(e,!1,-1),e.lineIndent>=r){s=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=u,e.lineStart=l,e.lineIndent=f;break}}s&&(Ae(e,o,a,!1),rt(e,e.line-u),o=a=e.position,s=!1),Me(p)||(a=e.position+1),p=e.input.charCodeAt(++e.position)}return Ae(e,o,a,!1),e.result?!0:(e.kind=h,e.result=_,!1)}function Rs(e,r){var t,n,i;if(t=e.input.charCodeAt(e.position),t!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(t=e.input.charCodeAt(e.position))!==0;)if(t===39)if(Ae(e,n,e.position,!0),t=e.input.charCodeAt(++e.position),t===39)n=e.position,e.position++,i=e.position;else return!0;else Se(t)?(Ae(e,n,i,!0),rt(e,Z(e,!1,r)),n=i=e.position):e.position===e.lineStart&&wr(e)?D(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);D(e,"unexpected end of the stream within a single quoted scalar")}function Ms(e,r){var t,n,i,o,a,s;if(s=e.input.charCodeAt(e.position),s!==34)return!1;for(e.kind="scalar",e.result="",e.position++,t=n=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return Ae(e,t,e.position,!0),e.position++,!0;if(s===92){if(Ae(e,t,e.position,!0),s=e.input.charCodeAt(++e.position),Se(s))Z(e,!1,r);else if(s<256&&Zn[s])e.result+=Qn[s],e.position++;else if((a=ks(s))>0){for(i=a,o=0;i>0;i--)s=e.input.charCodeAt(++e.position),(a=Is(s))>=0?o=(o<<4)+a:D(e,"expected hexadecimal character");e.result+=As(o),e.position++}else D(e,"unknown escape sequence");t=n=e.position}else Se(s)?(Ae(e,t,n,!0),rt(e,Z(e,!1,r)),t=n=e.position):e.position===e.lineStart&&wr(e)?D(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}D(e,"unexpected end of the stream within a double quoted scalar")}function xs(e,r){var t=!0,n,i,o,a=e.tag,s,u=e.anchor,l,f,h,_,p,v=Object.create(null),$,m,y,d;if(d=e.input.charCodeAt(e.position),d===91)f=93,p=!1,s=[];else if(d===123)f=125,p=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),d=e.input.charCodeAt(++e.position);d!==0;){if(Z(e,!0,r),d=e.input.charCodeAt(e.position),d===f)return e.position++,e.tag=a,e.anchor=u,e.kind=p?"mapping":"sequence",e.result=s,!0;t?d===44&&D(e,"expected the node content, but found ','"):D(e,"missed comma between flow collection entries"),m=$=y=null,h=_=!1,d===63&&(l=e.input.charCodeAt(e.position+1),ce(l)&&(h=_=!0,e.position++,Z(e,!0,r))),n=e.line,i=e.lineStart,o=e.position,Ge(e,r,_r,!1,!0),m=e.tag,$=e.result,Z(e,!0,r),d=e.input.charCodeAt(e.position),(_||e.line===n)&&d===58&&(h=!0,d=e.input.charCodeAt(++e.position),Z(e,!0,r),Ge(e,r,_r,!1,!0),y=e.result),p?He(e,s,v,m,$,y,n,i,o):h?s.push(He(e,null,v,m,$,y,n,i,o)):s.push($),Z(e,!0,r),d=e.input.charCodeAt(e.position),d===44?(t=!0,d=e.input.charCodeAt(++e.position)):t=!1}D(e,"unexpected end of the stream within a flow collection")}function qs(e,r){var t,n,i=Qr,o=!1,a=!1,s=r,u=0,l=!1,f,h;if(h=e.input.charCodeAt(e.position),h===124)n=!1;else if(h===62)n=!0;else return!1;for(e.kind="scalar",e.result="";h!==0;)if(h=e.input.charCodeAt(++e.position),h===43||h===45)Qr===i?i=h===43?Gn:Es:D(e,"repeat of a chomping mode identifier");else if((f=js(h))>=0)f===0?D(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?D(e,"repeat of an indentation width identifier"):(s=r+f-1,a=!0);else break;if(Me(h)){do h=e.input.charCodeAt(++e.position);while(Me(h));if(h===35)do h=e.input.charCodeAt(++e.position);while(!Se(h)&&h!==0)}for(;h!==0;){for(et(e),e.lineIndent=0,h=e.input.charCodeAt(e.position);(!a||e.lineIndent<s)&&h===32;)e.lineIndent++,h=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>s&&(s=e.lineIndent),Se(h)){u++;continue}if(e.lineIndent<s){i===Gn?e.result+=ue.repeat(`
`,o?1+u:u):i===Qr&&o&&(e.result+=`
`);break}for(n?Me(h)?(l=!0,e.result+=ue.repeat(`
`,o?1+u:u)):l?(l=!1,e.result+=ue.repeat(`
`,u+1)):u===0?o&&(e.result+=" "):e.result+=ue.repeat(`
`,u):e.result+=ue.repeat(`
`,o?1+u:u),o=!0,a=!0,u=0,t=e.position;!Se(h)&&h!==0;)h=e.input.charCodeAt(++e.position);Ae(e,t,e.position,!1)}return!0}function ni(e,r){var t,n=e.tag,i=e.anchor,o=[],a,s=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,D(e,"tab characters must not be used in indentation")),!(u!==45||(a=e.input.charCodeAt(e.position+1),!ce(a))));){if(s=!0,e.position++,Z(e,!0,-1)&&e.lineIndent<=r){o.push(null),u=e.input.charCodeAt(e.position);continue}if(t=e.line,Ge(e,r,Hn,!1,!0),o.push(e.result),Z(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===t||e.lineIndent>r)&&u!==0)D(e,"bad indentation of a sequence entry");else if(e.lineIndent<r)break}return s?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}function Ds(e,r,t){var n,i,o,a,s,u,l=e.tag,f=e.anchor,h={},_=Object.create(null),p=null,v=null,$=null,m=!1,y=!1,d;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=h),d=e.input.charCodeAt(e.position);d!==0;){if(!m&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,D(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(d===63||d===58)&&ce(n))d===63?(m&&(He(e,h,_,p,v,null,a,s,u),p=v=$=null),y=!0,m=!0,i=!0):m?(m=!1,i=!0):D(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,d=n;else{if(a=e.line,s=e.lineStart,u=e.position,!Ge(e,t,Kn,!1,!0))break;if(e.line===o){for(d=e.input.charCodeAt(e.position);Me(d);)d=e.input.charCodeAt(++e.position);if(d===58)d=e.input.charCodeAt(++e.position),ce(d)||D(e,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(He(e,h,_,p,v,null,a,s,u),p=v=$=null),y=!0,m=!1,i=!1,p=e.tag,v=e.result;else if(y)D(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=f,!0}else if(y)D(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=f,!0}if((e.line===o||e.lineIndent>r)&&(m&&(a=e.line,s=e.lineStart,u=e.position),Ge(e,r,$r,!0,i)&&(m?v=e.result:$=e.result),m||(He(e,h,_,p,v,$,a,s,u),p=v=$=null),Z(e,!0,-1),d=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>r)&&d!==0)D(e,"bad indentation of a mapping entry");else if(e.lineIndent<r)break}return m&&He(e,h,_,p,v,null,a,s,u),y&&(e.tag=l,e.anchor=f,e.kind="mapping",e.result=h),y}function Fs(e){var r,t=!1,n=!1,i,o,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&D(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(t=!0,a=e.input.charCodeAt(++e.position)):a===33?(n=!0,i="!!",a=e.input.charCodeAt(++e.position)):i="!",r=e.position,t){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(o=e.input.slice(r,e.position),a=e.input.charCodeAt(++e.position)):D(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!ce(a);)a===33&&(n?D(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(r-1,e.position+1),Bn.test(i)||D(e,"named tag handle cannot contain such characters"),n=!0,r=e.position+1)),a=e.input.charCodeAt(++e.position);o=e.input.slice(r,e.position),Ns.test(o)&&D(e,"tag suffix cannot contain flow indicator characters")}o&&!Yn.test(o)&&D(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{D(e,"tag name is malformed: "+o)}return t?e.tag=o:je.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:D(e,'undeclared tag handle "'+i+'"'),!0}function Vs(e){var r,t;if(t=e.input.charCodeAt(e.position),t!==38)return!1;for(e.anchor!==null&&D(e,"duplication of an anchor property"),t=e.input.charCodeAt(++e.position),r=e.position;t!==0&&!ce(t)&&!Ue(t);)t=e.input.charCodeAt(++e.position);return e.position===r&&D(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(r,e.position),!0}function Ls(e){var r,t,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),r=e.position;n!==0&&!ce(n)&&!Ue(n);)n=e.input.charCodeAt(++e.position);return e.position===r&&D(e,"name of an alias node must contain at least one character"),t=e.input.slice(r,e.position),je.call(e.anchorMap,t)||D(e,'unidentified alias "'+t+'"'),e.result=e.anchorMap[t],Z(e,!0,-1),!0}function Ge(e,r,t,n,i){var o,a,s,u=1,l=!1,f=!1,h,_,p,v,$,m;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=a=s=$r===t||Hn===t,n&&Z(e,!0,-1)&&(l=!0,e.lineIndent>r?u=1:e.lineIndent===r?u=0:e.lineIndent<r&&(u=-1)),u===1)for(;Fs(e)||Vs(e);)Z(e,!0,-1)?(l=!0,s=o,e.lineIndent>r?u=1:e.lineIndent===r?u=0:e.lineIndent<r&&(u=-1)):s=!1;if(s&&(s=l||i),(u===1||$r===t)&&(_r===t||Kn===t?$=r:$=r+1,m=e.position-e.lineStart,u===1?s&&(ni(e,m)||Ds(e,m,$))||xs(e,$)?f=!0:(a&&qs(e,$)||Rs(e,$)||Ms(e,$)?f=!0:Ls(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&D(e,"alias node should not have any properties")):Cs(e,$,_r===t)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(f=s&&ni(e,m))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&D(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),h=0,_=e.implicitTypes.length;h<_;h+=1)if(v=e.implicitTypes[h],v.resolve(e.result)){e.result=v.construct(e.result),e.tag=v.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(je.call(e.typeMap[e.kind||"fallback"],e.tag))v=e.typeMap[e.kind||"fallback"][e.tag];else for(v=null,p=e.typeMap.multi[e.kind||"fallback"],h=0,_=p.length;h<_;h+=1)if(e.tag.slice(0,p[h].tag.length)===p[h].tag){v=p[h];break}v||D(e,"unknown tag !<"+e.tag+">"),e.result!==null&&v.kind!==e.kind&&D(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+v.kind+'", not "'+e.kind+'"'),v.resolve(e.result,e.tag)?(e.result=v.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):D(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function zs(e){var r=e.position,t,n,i,o=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(Z(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(o=!0,a=e.input.charCodeAt(++e.position),t=e.position;a!==0&&!ce(a);)a=e.input.charCodeAt(++e.position);for(n=e.input.slice(t,e.position),i=[],n.length<1&&D(e,"directive name must not be less than one character in length");a!==0;){for(;Me(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!Se(a));break}if(Se(a))break;for(t=e.position;a!==0&&!ce(a);)a=e.input.charCodeAt(++e.position);i.push(e.input.slice(t,e.position))}a!==0&&et(e),je.call(ri,n)?ri[n](e,n,i):br(e,'unknown document directive "'+n+'"')}if(Z(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Z(e,!0,-1)):o&&D(e,"directives end mark is expected"),Ge(e,e.lineIndent-1,$r,!1,!0),Z(e,!0,-1),e.checkLineBreaks&&Os.test(e.input.slice(r,e.position))&&br(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&wr(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Z(e,!0,-1));return}if(e.position<e.length-1)D(e,"end of the stream or a document separator is expected");else return}function Us(e,r){e=String(e),r=r||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var t=new Ts(e,r),n=e.indexOf("\0");for(n!==-1&&(t.position=n,D(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)zs(t);return t.documents}function Ks(e,r){var t=Us(e,r);if(t.length!==0){if(t.length===1)return t[0];throw new we("expected a single document in the stream, but found more")}}var Hs=Ks,Gs={load:Hs},Bs=Gs.load,Ys=we;function Js(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ws=function(){},Xs=Ws(),Be=function(e){return e!==Xs&&e!==null},Zs=Be,Qs=Array.prototype.forEach,eu=Object.create,ru=function(e,r){var t;for(t in e)r[t]=e[t]},tu=function(e){var r=eu(null);return Qs.call(arguments,function(t){Zs(t)&&ru(Object(t),r)}),r},nu=function(){var e=Math.sign;return typeof e!="function"?!1:e(10)===1&&e(-20)===-1},tt,ii;function iu(){return ii||(ii=1,tt=function(e){return e=Number(e),isNaN(e)||e===0?e:e>0?1:-1}),tt}var ou=nu()?Math.sign:iu(),au=ou,su=Math.abs,uu=Math.floor,cu=function(e){return isNaN(e)?0:(e=Number(e),e===0||!isFinite(e)?e:au(e)*uu(su(e)))},lu=cu,fu=Math.max,du=function(e){return fu(0,lu(e))},oi=function(e){if(typeof e!="function")throw new TypeError(e+" is not a function");return e},hu=Be,ai=function(e){if(!hu(e))throw new TypeError("Cannot use null or undefined");return e},pu={exports:{}},nt,si;function mu(){return si||(si=1,nt=function(){var e=Object.assign,r;return typeof e!="function"?!1:(r={foo:"raz"},e(r,{bar:"dwa"},{trzy:"trzy"}),r.foo+r.bar+r.trzy==="razdwatrzy")}),nt}var it,ui;function yu(){return ui||(ui=1,it=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),it}var ot,ci;function gu(){if(ci)return ot;ci=1;var e=Be,r=Object.keys;return ot=function(t){return r(e(t)?Object(t):t)},ot}var at,li;function vu(){return li||(li=1,at=yu()()?Object.keys:gu()),at}var st,fi;function _u(){if(fi)return st;fi=1;var e=vu(),r=ai,t=Math.max;return st=function(n,i){var o,a,s=t(arguments.length,2),u;for(n=Object(r(n)),u=function(l){try{n[l]=i[l]}catch(f){o||(o=f)}},a=1;a<s;++a)i=arguments[a],e(i).forEach(u);if(o!==void 0)throw o;return n},st}var ut,di;function hi(){return di||(di=1,ut=mu()()?Object.assign:_u()),ut}var $u=Be,bu={function:!0,object:!0},wu=function(e){return $u(e)&&bu[typeof e]||!1};(function(e){var r=hi(),t=wu,n=Be,i=Error.captureStackTrace;e.exports=function(o){var a=new Error(o),s=arguments[1],u=arguments[2];return n(u)||t(s)&&(u=s,s=null),n(u)&&r(a,u),n(s)&&(a.code=s),i&&i(a,e.exports),a}})(pu);var pi=function(e,r){return r};try{Object.defineProperty(pi,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch{}pi.length;var ct={exports:{}},lt,mi;function yi(){if(mi)return lt;mi=1;var e=void 0;return lt=function(r){return r!==e&&r!==null},lt}var ft,gi;function Su(){if(gi)return ft;gi=1;var e=yi(),r={object:!0,function:!0,undefined:!0};return ft=function(t){return e(t)?hasOwnProperty.call(r,typeof t):!1},ft}var dt,vi;function Eu(){if(vi)return dt;vi=1;var e=Su();return dt=function(r){if(!e(r))return!1;try{return r.constructor?r.constructor.prototype===r:!1}catch{return!1}},dt}var ht,_i;function Pu(){if(_i)return ht;_i=1;var e=Eu();return ht=function(r){if(typeof r!="function"||!hasOwnProperty.call(r,"length"))return!1;try{if(typeof r.length!="number"||typeof r.call!="function"||typeof r.apply!="function")return!1}catch{return!1}return!e(r)},ht}var pt,$i;function Ou(){if($i)return pt;$i=1;var e=Pu(),r=/^\s*class[\s{/}]/,t=Function.prototype.toString;return pt=function(n){return!(!e(n)||r.test(t.call(n)))},pt}var mt,bi;function Nu(){if(bi)return mt;bi=1;var e="razdwatrzy";return mt=function(){return typeof e.contains!="function"?!1:e.contains("dwa")===!0&&e.contains("foo")===!1},mt}var yt,wi;function Iu(){if(wi)return yt;wi=1;var e=String.prototype.indexOf;return yt=function(r){return e.call(this,r,arguments[1])>-1},yt}var gt,Si;function ku(){return Si||(Si=1,gt=Nu()()?String.prototype.contains:Iu()),gt}var Ei;function Ye(){if(Ei)return ct.exports;Ei=1;var e=yi(),r=Ou(),t=hi(),n=tu,i=ku(),o=ct.exports=function(a,s){var u,l,f,h,_;return arguments.length<2||typeof a!="string"?(h=s,s=a,a=null):h=arguments[2],e(a)?(u=i.call(a,"c"),l=i.call(a,"e"),f=i.call(a,"w")):(u=f=!0,l=!1),_={value:s,configurable:u,enumerable:l,writable:f},h?t(n(h),_):_};return o.gs=function(a,s,u){var l,f,h,_;return typeof a!="string"?(h=u,u=s,s=a,a=null):h=arguments[3],e(s)?r(s)?e(u)?r(u)||(h=u,u=void 0):u=void 0:(h=s,s=u=void 0):s=void 0,e(a)?(l=i.call(a,"c"),f=i.call(a,"e")):(l=!0,f=!1),_={get:s,set:u,configurable:l,enumerable:f},h?t(n(h),_):_},ct.exports}var vt={exports:{}};(function(e,r){var t=Ye(),n=oi,i=Function.prototype.apply,o=Function.prototype.call,a=Object.create,s=Object.defineProperty,u=Object.defineProperties,l=Object.prototype.hasOwnProperty,f={configurable:!0,enumerable:!1,writable:!0},h,_,p,v,$,m,y;h=function(d,b){var O;return n(b),l.call(this,"__ee__")?O=this.__ee__:(O=f.value=a(null),s(this,"__ee__",f),f.value=null),O[d]?typeof O[d]=="object"?O[d].push(b):O[d]=[O[d],b]:O[d]=b,this},_=function(d,b){var O,k;return n(b),k=this,h.call(this,d,O=function(){p.call(k,d,O),i.call(b,this,arguments)}),O.__eeOnceListener__=b,this},p=function(d,b){var O,k,C,x;if(n(b),!l.call(this,"__ee__"))return this;if(O=this.__ee__,!O[d])return this;if(k=O[d],typeof k=="object")for(x=0;C=k[x];++x)(C===b||C.__eeOnceListener__===b)&&(k.length===2?O[d]=k[x?0:1]:k.splice(x,1));else(k===b||k.__eeOnceListener__===b)&&delete O[d];return this},v=function(d){var b,O,k,C,x;if(l.call(this,"__ee__")&&(C=this.__ee__[d],!!C))if(typeof C=="object"){for(O=arguments.length,x=new Array(O-1),b=1;b<O;++b)x[b-1]=arguments[b];for(C=C.slice(),b=0;k=C[b];++b)i.call(k,this,x)}else switch(arguments.length){case 1:o.call(C,this);break;case 2:o.call(C,this,arguments[1]);break;case 3:o.call(C,this,arguments[1],arguments[2]);break;default:for(O=arguments.length,x=new Array(O-1),b=1;b<O;++b)x[b-1]=arguments[b];i.call(C,this,x)}},$={on:h,once:_,off:p,emit:v},m={on:t(h),once:t(_),off:t(p),emit:t(v)},y=u({},m),e.exports=r=function(d){return d==null?a(y):u(Object(d),m)},r.methods=$})(vt,vt.exports);var ju=vt.exports,_t,Pi;function Au(){return Pi||(Pi=1,_t=function(){var e=Array.from,r,t;return typeof e!="function"?!1:(r=["raz","dwa"],t=e(r),!!(t&&t!==r&&t[1]==="dwa"))}),_t}var $t,Oi;function Tu(){return Oi||(Oi=1,$t=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}),$t}var bt,Ni;function Cu(){if(Ni)return bt;Ni=1;var e=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return bt=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}(),bt}var wt,Ii;function Sr(){return Ii||(Ii=1,wt=Tu()()?globalThis:Cu()),wt}var St,ki;function Ru(){if(ki)return St;ki=1;var e=Sr(),r={object:!0,symbol:!0};return St=function(){var t=e.Symbol,n;if(typeof t!="function")return!1;n=t("test symbol");try{String(n)}catch{return!1}return!(!r[typeof t.iterator]||!r[typeof t.toPrimitive]||!r[typeof t.toStringTag])},St}var Et,ji;function Mu(){return ji||(ji=1,Et=function(e){return e?typeof e=="symbol"?!0:!e.constructor||e.constructor.name!=="Symbol"?!1:e[e.constructor.toStringTag]==="Symbol":!1}),Et}var Pt,Ai;function Ti(){if(Ai)return Pt;Ai=1;var e=Mu();return Pt=function(r){if(!e(r))throw new TypeError(r+" is not a symbol");return r},Pt}var Ot,Ci;function xu(){if(Ci)return Ot;Ci=1;var e=Ye(),r=Object.create,t=Object.defineProperty,n=Object.prototype,i=r(null);return Ot=function(o){for(var a=0,s,u;i[o+(a||"")];)++a;return o+=a||"",i[o]=!0,s="@@"+o,t(n,s,e.gs(null,function(l){u||(u=!0,t(this,s,e(l)),u=!1)})),s},Ot}var Nt,Ri;function qu(){if(Ri)return Nt;Ri=1;var e=Ye(),r=Sr().Symbol;return Nt=function(t){return Object.defineProperties(t,{hasInstance:e("",r&&r.hasInstance||t("hasInstance")),isConcatSpreadable:e("",r&&r.isConcatSpreadable||t("isConcatSpreadable")),iterator:e("",r&&r.iterator||t("iterator")),match:e("",r&&r.match||t("match")),replace:e("",r&&r.replace||t("replace")),search:e("",r&&r.search||t("search")),species:e("",r&&r.species||t("species")),split:e("",r&&r.split||t("split")),toPrimitive:e("",r&&r.toPrimitive||t("toPrimitive")),toStringTag:e("",r&&r.toStringTag||t("toStringTag")),unscopables:e("",r&&r.unscopables||t("unscopables"))})},Nt}var It,Mi;function Du(){if(Mi)return It;Mi=1;var e=Ye(),r=Ti(),t=Object.create(null);return It=function(n){return Object.defineProperties(n,{for:e(function(i){return t[i]?t[i]:t[i]=n(String(i))}),keyFor:e(function(i){var o;r(i);for(o in t)if(t[o]===i)return o})})},It}var kt,xi;function Fu(){if(xi)return kt;xi=1;var e=Ye(),r=Ti(),t=Sr().Symbol,n=xu(),i=qu(),o=Du(),a=Object.create,s=Object.defineProperties,u=Object.defineProperty,l,f,h;if(typeof t=="function")try{String(t()),h=!0}catch{}else t=null;return f=function(p){if(this instanceof f)throw new TypeError("Symbol is not a constructor");return l(p)},kt=l=function _(p){var v;if(this instanceof _)throw new TypeError("Symbol is not a constructor");return h?t(p):(v=a(f.prototype),p=p===void 0?"":String(p),s(v,{__description__:e("",p),__name__:e("",n(p))}))},i(l),o(l),s(f.prototype,{constructor:e(l),toString:e("",function(){return this.__name__})}),s(l.prototype,{toString:e(function(){return"Symbol ("+r(this).__description__+")"}),valueOf:e(function(){return r(this)})}),u(l.prototype,l.toPrimitive,e("",function(){var _=r(this);return typeof _=="symbol"?_:_.toString()})),u(l.prototype,l.toStringTag,e("c","Symbol")),u(f.prototype,l.toStringTag,e("c",l.prototype[l.toStringTag])),u(f.prototype,l.toPrimitive,e("c",l.prototype[l.toPrimitive])),kt}var jt,qi;function Vu(){return qi||(qi=1,jt=Ru()()?Sr().Symbol:Fu()),jt}var At,Di;function Lu(){if(Di)return At;Di=1;var e=Object.prototype.toString,r=e.call(function(){return arguments}());return At=function(t){return e.call(t)===r},At}var Tt,Fi;function zu(){if(Fi)return Tt;Fi=1;var e=Object.prototype.toString,r=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);return Tt=function(t){return typeof t=="function"&&r(e.call(t))},Tt}var Ct,Vi;function Uu(){if(Vi)return Ct;Vi=1;var e=Object.prototype.toString,r=e.call("");return Ct=function(t){return typeof t=="string"||t&&typeof t=="object"&&(t instanceof String||e.call(t)===r)||!1},Ct}var Rt,Li;function Ku(){if(Li)return Rt;Li=1;var e=Vu().iterator,r=Lu(),t=zu(),n=du,i=oi,o=ai,a=Be,s=Uu(),u=Array.isArray,l=Function.prototype.call,f={configurable:!0,enumerable:!0,writable:!0,value:null},h=Object.defineProperty;return Rt=function(_){var p=arguments[1],v=arguments[2],$,m,y,d,b,O,k,C,x,L;if(_=Object(o(_)),a(p)&&i(p),!this||this===Array||!t(this)){if(!p){if(r(_))return b=_.length,b!==1?Array.apply(null,_):(d=new Array(1),d[0]=_[0],d);if(u(_)){for(d=new Array(b=_.length),m=0;m<b;++m)d[m]=_[m];return d}}d=[]}else $=this;if(!u(_)){if((x=_[e])!==void 0){for(k=i(x).call(_),$&&(d=new $),C=k.next(),m=0;!C.done;)L=p?l.call(p,v,C.value,m):C.value,$?(f.value=L,h(d,m,f)):d[m]=L,C=k.next(),++m;b=m}else if(s(_)){for(b=_.length,$&&(d=new $),m=0,y=0;m<b;++m)L=_[m],m+1<b&&(O=L.charCodeAt(0),O>=55296&&O<=56319&&(L+=_[++m])),L=p?l.call(p,v,L,y):L,$?(f.value=L,h(d,y,f)):d[y]=L,++y;b=y}}if(b===void 0)for(b=n(_.length),$&&(d=new $(b)),m=0;m<b;++m)L=p?l.call(p,v,_[m],m):_[m],$?(f.value=L,h(d,m,f)):d[m]=L;return $&&(f.value=null,d.length=b),d},Rt}var Mt,zi;function Hu(){return zi||(zi=1,Mt=Au()()?Array.from:Ku()),Mt}Hu(),Ye();var Ui=ju.methods;Ui.on,Ui.emit;const Gu=e=>async r=>{try{const t=await e(r);postMessage({result:t})}catch(t){postMessage({error:t})}};var xt={exports:{}},Ki={},Pe={},xe={},ar={},qt={},sr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class r{}e._CodeOrName=r,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class t extends r{constructor(d){if(super(),!e.IDENTIFIER.test(d))throw new Error("CodeGen: name must be a valid identifier");this.str=d}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=t;class n extends r{constructor(d){super(),this._items=typeof d=="string"?[d]:d}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const d=this._items[0];return d===""||d==='""'}get str(){var d;return(d=this._str)!==null&&d!==void 0?d:this._str=this._items.reduce((b,O)=>`${b}${O}`,"")}get names(){var d;return(d=this._names)!==null&&d!==void 0?d:this._names=this._items.reduce((b,O)=>(O instanceof t&&(b[O.str]=(b[O.str]||0)+1),b),{})}}e._Code=n,e.nil=new n("");function i(y,...d){const b=[y[0]];let O=0;for(;O<d.length;)s(b,d[O]),b.push(y[++O]);return new n(b)}e._=i;const o=new n("+");function a(y,...d){const b=[p(y[0])];let O=0;for(;O<d.length;)b.push(o),s(b,d[O]),b.push(o,p(y[++O]));return u(b),new n(b)}e.str=a;function s(y,d){d instanceof n?y.push(...d._items):d instanceof t?y.push(d):y.push(h(d))}e.addCodeArg=s;function u(y){let d=1;for(;d<y.length-1;){if(y[d]===o){const b=l(y[d-1],y[d+1]);if(b!==void 0){y.splice(d-1,3,b);continue}y[d++]="+"}d++}}function l(y,d){if(d==='""')return y;if(y==='""')return d;if(typeof y=="string")return d instanceof t||y[y.length-1]!=='"'?void 0:typeof d!="string"?`${y.slice(0,-1)}${d}"`:d[0]==='"'?y.slice(0,-1)+d.slice(1):void 0;if(typeof d=="string"&&d[0]==='"'&&!(y instanceof t))return`"${y}${d.slice(1)}`}function f(y,d){return d.emptyStr()?y:y.emptyStr()?d:a`${y}${d}`}e.strConcat=f;function h(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:p(Array.isArray(y)?y.join(","):y)}function _(y){return new n(p(y))}e.stringify=_;function p(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=p;function v(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new n(`.${y}`):i`[${y}]`}e.getProperty=v;function $(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new n(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=$;function m(y){return new n(y.toString())}e.regexpCode=m})(sr);var Dt={},Hi;function Gi(){return Hi||(Hi=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const r=sr;class t extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var n;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class i{constructor({prefixes:l,parent:f}={}){this._names={},this._prefixes=l,this._parent=f}toName(l){return l instanceof r.Name?l:this.name(l)}name(l){return new r.Name(this._newName(l))}_newName(l){const f=this._names[l]||this._nameGroup(l);return`${l}${f.index++}`}_nameGroup(l){var f,h;if(!((h=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||h===void 0)&&h.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class o extends r.Name{constructor(l,f){super(f),this.prefix=l}setValue(l,{property:f,itemIndex:h}){this.value=l,this.scopePath=(0,r._)`.${new r.Name(f)}[${h}]`}}e.ValueScopeName=o;const a=(0,r._)`\n`;class s extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?a:r.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,f){var h;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const _=this.toName(l),{prefix:p}=_,v=(h=f.key)!==null&&h!==void 0?h:f.ref;let $=this._values[p];if($){const d=$.get(v);if(d)return d}else $=this._values[p]=new Map;$.set(v,_);const m=this._scope[p]||(this._scope[p]=[]),y=m.length;return m[y]=f.ref,_.setValue(f,{property:p,itemIndex:y}),_}getValue(l,f){const h=this._values[l];if(h)return h.get(f)}scopeRefs(l,f=this._values){return this._reduceValues(f,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,r._)`${l}${h.scopePath}`})}scopeCode(l=this._values,f,h){return this._reduceValues(l,_=>{if(_.value===void 0)throw new Error(`CodeGen: name "${_}" has no value`);return _.value.code},f,h)}_reduceValues(l,f,h={},_){let p=r.nil;for(const v in l){const $=l[v];if(!$)continue;const m=h[v]=h[v]||new Map;$.forEach(y=>{if(m.has(y))return;m.set(y,n.Started);let d=f(y);if(d){const b=this.opts.es5?e.varKinds.var:e.varKinds.const;p=(0,r._)`${p}${b} ${y} = ${d};${this.opts._n}`}else if(d=_==null?void 0:_(y))p=(0,r._)`${p}${d}${this.opts._n}`;else throw new t(y);m.set(y,n.Completed)})}return p}}e.ValueScope=s}(Dt)),Dt}var Bi;function U(){return Bi||(Bi=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const r=sr,t=Gi();var n=sr;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=Gi();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class o{optimizeNodes(){return this}optimizeNames(c,g){return this}}class a extends o{constructor(c,g,N){super(),this.varKind=c,this.name=g,this.rhs=N}render({es5:c,_n:g}){const N=c?t.varKinds.var:this.varKind,M=this.rhs===void 0?"":` = ${this.rhs}`;return`${N} ${this.name}${M};`+g}optimizeNames(c,g){if(c[this.name.str])return this.rhs&&(this.rhs=W(this.rhs,c,g)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class s extends o{constructor(c,g,N){super(),this.lhs=c,this.rhs=g,this.sideEffects=N}render({_n:c}){return`${this.lhs} = ${this.rhs};`+c}optimizeNames(c,g){if(!(this.lhs instanceof r.Name&&!c[this.lhs.str]&&!this.sideEffects))return this.rhs=W(this.rhs,c,g),this}get names(){const c=this.lhs instanceof r.Name?{}:{...this.lhs.names};return Y(c,this.rhs)}}class u extends s{constructor(c,g,N,M){super(c,N,M),this.op=g}render({_n:c}){return`${this.lhs} ${this.op}= ${this.rhs};`+c}}class l extends o{constructor(c){super(),this.label=c,this.names={}}render({_n:c}){return`${this.label}:`+c}}class f extends o{constructor(c){super(),this.label=c,this.names={}}render({_n:c}){return`break${this.label?` ${this.label}`:""};`+c}}class h extends o{constructor(c){super(),this.error=c}render({_n:c}){return`throw ${this.error};`+c}get names(){return this.error.names}}class _ extends o{constructor(c){super(),this.code=c}render({_n:c}){return`${this.code};`+c}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(c,g){return this.code=W(this.code,c,g),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class p extends o{constructor(c=[]){super(),this.nodes=c}render(c){return this.nodes.reduce((g,N)=>g+N.render(c),"")}optimizeNodes(){const{nodes:c}=this;let g=c.length;for(;g--;){const N=c[g].optimizeNodes();Array.isArray(N)?c.splice(g,1,...N):N?c[g]=N:c.splice(g,1)}return c.length>0?this:void 0}optimizeNames(c,g){const{nodes:N}=this;let M=N.length;for(;M--;){const F=N[M];F.optimizeNames(c,g)||(ke(c,F.names),N.splice(M,1))}return N.length>0?this:void 0}get names(){return this.nodes.reduce((c,g)=>re(c,g.names),{})}}class v extends p{render(c){return"{"+c._n+super.render(c)+"}"+c._n}}class $ extends p{}class m extends v{}m.kind="else";class y extends v{constructor(c,g){super(g),this.condition=c}render(c){let g=`if(${this.condition})`+super.render(c);return this.else&&(g+="else "+this.else.render(c)),g}optimizeNodes(){super.optimizeNodes();const c=this.condition;if(c===!0)return this.nodes;let g=this.else;if(g){const N=g.optimizeNodes();g=this.else=Array.isArray(N)?new m(N):N}if(g)return c===!1?g instanceof y?g:g.nodes:this.nodes.length?this:new y(ze(c),g instanceof y?[g]:g.nodes);if(!(c===!1||!this.nodes.length))return this}optimizeNames(c,g){var N;if(this.else=(N=this.else)===null||N===void 0?void 0:N.optimizeNames(c,g),!!(super.optimizeNames(c,g)||this.else))return this.condition=W(this.condition,c,g),this}get names(){const c=super.names;return Y(c,this.condition),this.else&&re(c,this.else.names),c}}y.kind="if";class d extends v{}d.kind="for";class b extends d{constructor(c){super(),this.iteration=c}render(c){return`for(${this.iteration})`+super.render(c)}optimizeNames(c,g){if(super.optimizeNames(c,g))return this.iteration=W(this.iteration,c,g),this}get names(){return re(super.names,this.iteration.names)}}class O extends d{constructor(c,g,N,M){super(),this.varKind=c,this.name=g,this.from=N,this.to=M}render(c){const g=c.es5?t.varKinds.var:this.varKind,{name:N,from:M,to:F}=this;return`for(${g} ${N}=${M}; ${N}<${F}; ${N}++)`+super.render(c)}get names(){const c=Y(super.names,this.from);return Y(c,this.to)}}class k extends d{constructor(c,g,N,M){super(),this.loop=c,this.varKind=g,this.name=N,this.iterable=M}render(c){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(c)}optimizeNames(c,g){if(super.optimizeNames(c,g))return this.iterable=W(this.iterable,c,g),this}get names(){return re(super.names,this.iterable.names)}}class C extends v{constructor(c,g,N){super(),this.name=c,this.args=g,this.async=N}render(c){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(c)}}C.kind="func";class x extends p{render(c){return"return "+super.render(c)}}x.kind="return";class L extends v{render(c){let g="try"+super.render(c);return this.catch&&(g+=this.catch.render(c)),this.finally&&(g+=this.finally.render(c)),g}optimizeNodes(){var c,g;return super.optimizeNodes(),(c=this.catch)===null||c===void 0||c.optimizeNodes(),(g=this.finally)===null||g===void 0||g.optimizeNodes(),this}optimizeNames(c,g){var N,M;return super.optimizeNames(c,g),(N=this.catch)===null||N===void 0||N.optimizeNames(c,g),(M=this.finally)===null||M===void 0||M.optimizeNames(c,g),this}get names(){const c=super.names;return this.catch&&re(c,this.catch.names),this.finally&&re(c,this.finally.names),c}}class J extends v{constructor(c){super(),this.error=c}render(c){return`catch(${this.error})`+super.render(c)}}J.kind="catch";class ee extends v{render(c){return"finally"+super.render(c)}}ee.kind="finally";class ie{constructor(c,g={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...g,_n:g.lines?`
`:""},this._extScope=c,this._scope=new t.Scope({parent:c}),this._nodes=[new $]}toString(){return this._root.render(this.opts)}name(c){return this._scope.name(c)}scopeName(c){return this._extScope.name(c)}scopeValue(c,g){const N=this._extScope.value(c,g);return(this._values[N.prefix]||(this._values[N.prefix]=new Set)).add(N),N}getScopeValue(c,g){return this._extScope.getValue(c,g)}scopeRefs(c){return this._extScope.scopeRefs(c,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(c,g,N,M){const F=this._scope.toName(g);return N!==void 0&&M&&(this._constants[F.str]=N),this._leafNode(new a(c,F,N)),F}const(c,g,N){return this._def(t.varKinds.const,c,g,N)}let(c,g,N){return this._def(t.varKinds.let,c,g,N)}var(c,g,N){return this._def(t.varKinds.var,c,g,N)}assign(c,g,N){return this._leafNode(new s(c,g,N))}add(c,g){return this._leafNode(new u(c,e.operators.ADD,g))}code(c){return typeof c=="function"?c():c!==r.nil&&this._leafNode(new _(c)),this}object(...c){const g=["{"];for(const[N,M]of c)g.length>1&&g.push(","),g.push(N),(N!==M||this.opts.es5)&&(g.push(":"),(0,r.addCodeArg)(g,M));return g.push("}"),new r._Code(g)}if(c,g,N){if(this._blockNode(new y(c)),g&&N)this.code(g).else().code(N).endIf();else if(g)this.code(g).endIf();else if(N)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(c){return this._elseNode(new y(c))}else(){return this._elseNode(new m)}endIf(){return this._endBlockNode(y,m)}_for(c,g){return this._blockNode(c),g&&this.code(g).endFor(),this}for(c,g){return this._for(new b(c),g)}forRange(c,g,N,M,F=this.opts.es5?t.varKinds.var:t.varKinds.let){const H=this._scope.toName(c);return this._for(new O(F,H,g,N),()=>M(H))}forOf(c,g,N,M=t.varKinds.const){const F=this._scope.toName(c);if(this.opts.es5){const H=g instanceof r.Name?g:this.var("_arr",g);return this.forRange("_i",0,(0,r._)`${H}.length`,K=>{this.var(F,(0,r._)`${H}[${K}]`),N(F)})}return this._for(new k("of",M,F,g),()=>N(F))}forIn(c,g,N,M=this.opts.es5?t.varKinds.var:t.varKinds.const){if(this.opts.ownProperties)return this.forOf(c,(0,r._)`Object.keys(${g})`,N);const F=this._scope.toName(c);return this._for(new k("in",M,F,g),()=>N(F))}endFor(){return this._endBlockNode(d)}label(c){return this._leafNode(new l(c))}break(c){return this._leafNode(new f(c))}return(c){const g=new x;if(this._blockNode(g),this.code(c),g.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(x)}try(c,g,N){if(!g&&!N)throw new Error('CodeGen: "try" without "catch" and "finally"');const M=new L;if(this._blockNode(M),this.code(c),g){const F=this.name("e");this._currNode=M.catch=new J(F),g(F)}return N&&(this._currNode=M.finally=new ee,this.code(N)),this._endBlockNode(J,ee)}throw(c){return this._leafNode(new h(c))}block(c,g){return this._blockStarts.push(this._nodes.length),c&&this.code(c).endBlock(g),this}endBlock(c){const g=this._blockStarts.pop();if(g===void 0)throw new Error("CodeGen: not in self-balancing block");const N=this._nodes.length-g;if(N<0||c!==void 0&&N!==c)throw new Error(`CodeGen: wrong number of nodes: ${N} vs ${c} expected`);return this._nodes.length=g,this}func(c,g=r.nil,N,M){return this._blockNode(new C(c,g,N)),M&&this.code(M).endFunc(),this}endFunc(){return this._endBlockNode(C)}optimize(c=1){for(;c-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(c){return this._currNode.nodes.push(c),this}_blockNode(c){this._currNode.nodes.push(c),this._nodes.push(c)}_endBlockNode(c,g){const N=this._currNode;if(N instanceof c||g&&N instanceof g)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${g?`${c.kind}/${g.kind}`:c.kind}"`)}_elseNode(c){const g=this._currNode;if(!(g instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=g.else=c,this}get _root(){return this._nodes[0]}get _currNode(){const c=this._nodes;return c[c.length-1]}set _currNode(c){const g=this._nodes;g[g.length-1]=c}}e.CodeGen=ie;function re(P,c){for(const g in c)P[g]=(P[g]||0)+(c[g]||0);return P}function Y(P,c){return c instanceof r._CodeOrName?re(P,c.names):P}function W(P,c,g){if(P instanceof r.Name)return N(P);if(!M(P))return P;return new r._Code(P._items.reduce((F,H)=>(H instanceof r.Name&&(H=N(H)),H instanceof r._Code?F.push(...H._items):F.push(H),F),[]));function N(F){const H=g[F.str];return H===void 0||c[F.str]!==1?F:(delete c[F.str],H)}function M(F){return F instanceof r._Code&&F._items.some(H=>H instanceof r.Name&&c[H.str]===1&&g[H.str]!==void 0)}}function ke(P,c){for(const g in c)P[g]=(P[g]||0)-(c[g]||0)}function ze(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,r._)`!${j(P)}`}e.not=ze;const tr=S(e.operators.AND);function gr(...P){return P.reduce(tr)}e.and=gr;const nr=S(e.operators.OR);function T(...P){return P.reduce(nr)}e.or=T;function S(P){return(c,g)=>c===r.nil?g:g===r.nil?c:(0,r._)`${j(c)} ${P} ${j(g)}`}function j(P){return P instanceof r.Name?P:(0,r._)`(${P})`}}(qt)),qt}var R={};Object.defineProperty(R,"__esModule",{value:!0}),R.checkStrictMode=R.getErrorPath=R.Type=R.useFunc=R.setEvaluated=R.evaluatedPropsToName=R.mergeEvaluated=R.eachItem=R.unescapeJsonPointer=R.escapeJsonPointer=R.escapeFragment=R.unescapeFragment=R.schemaRefOrVal=R.schemaHasRulesButRef=R.schemaHasRules=R.checkUnknownRules=R.alwaysValidSchema=R.toHash=void 0;const B=U(),Bu=sr;function Yu(e){const r={};for(const t of e)r[t]=!0;return r}R.toHash=Yu;function Ju(e,r){return typeof r=="boolean"?r:Object.keys(r).length===0?!0:(Yi(e,r),!Ji(r,e.self.RULES.all))}R.alwaysValidSchema=Ju;function Yi(e,r=e.schema){const{opts:t,self:n}=e;if(!t.strictSchema||typeof r=="boolean")return;const i=n.RULES.keywords;for(const o in r)i[o]||eo(e,`unknown keyword: "${o}"`)}R.checkUnknownRules=Yi;function Ji(e,r){if(typeof e=="boolean")return!e;for(const t in e)if(r[t])return!0;return!1}R.schemaHasRules=Ji;function Wu(e,r){if(typeof e=="boolean")return!e;for(const t in e)if(t!=="$ref"&&r.all[t])return!0;return!1}R.schemaHasRulesButRef=Wu;function Xu({topSchemaRef:e,schemaPath:r},t,n,i){if(!i){if(typeof t=="number"||typeof t=="boolean")return t;if(typeof t=="string")return(0,B._)`${t}`}return(0,B._)`${e}${r}${(0,B.getProperty)(n)}`}R.schemaRefOrVal=Xu;function Zu(e){return Wi(decodeURIComponent(e))}R.unescapeFragment=Zu;function Qu(e){return encodeURIComponent(Ft(e))}R.escapeFragment=Qu;function Ft(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}R.escapeJsonPointer=Ft;function Wi(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}R.unescapeJsonPointer=Wi;function ec(e,r){if(Array.isArray(e))for(const t of e)r(t);else r(e)}R.eachItem=ec;function Xi({mergeNames:e,mergeToName:r,mergeValues:t,resultToName:n}){return(i,o,a,s)=>{const u=a===void 0?o:a instanceof B.Name?(o instanceof B.Name?e(i,o,a):r(i,o,a),a):o instanceof B.Name?(r(i,a,o),o):t(o,a);return s===B.Name&&!(u instanceof B.Name)?n(i,u):u}}R.mergeEvaluated={props:Xi({mergeNames:(e,r,t)=>e.if((0,B._)`${t} !== true && ${r} !== undefined`,()=>{e.if((0,B._)`${r} === true`,()=>e.assign(t,!0),()=>e.assign(t,(0,B._)`${t} || {}`).code((0,B._)`Object.assign(${t}, ${r})`))}),mergeToName:(e,r,t)=>e.if((0,B._)`${t} !== true`,()=>{r===!0?e.assign(t,!0):(e.assign(t,(0,B._)`${t} || {}`),Vt(e,t,r))}),mergeValues:(e,r)=>e===!0?!0:{...e,...r},resultToName:Zi}),items:Xi({mergeNames:(e,r,t)=>e.if((0,B._)`${t} !== true && ${r} !== undefined`,()=>e.assign(t,(0,B._)`${r} === true ? true : ${t} > ${r} ? ${t} : ${r}`)),mergeToName:(e,r,t)=>e.if((0,B._)`${t} !== true`,()=>e.assign(t,r===!0?!0:(0,B._)`${t} > ${r} ? ${t} : ${r}`)),mergeValues:(e,r)=>e===!0?!0:Math.max(e,r),resultToName:(e,r)=>e.var("items",r)})};function Zi(e,r){if(r===!0)return e.var("props",!0);const t=e.var("props",(0,B._)`{}`);return r!==void 0&&Vt(e,t,r),t}R.evaluatedPropsToName=Zi;function Vt(e,r,t){Object.keys(t).forEach(n=>e.assign((0,B._)`${r}${(0,B.getProperty)(n)}`,!0))}R.setEvaluated=Vt;const Qi={};function rc(e,r){return e.scopeValue("func",{ref:r,code:Qi[r.code]||(Qi[r.code]=new Bu._Code(r.code))})}R.useFunc=rc;var Lt;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Lt||(R.Type=Lt={}));function tc(e,r,t){if(e instanceof B.Name){const n=r===Lt.Num;return t?n?(0,B._)`"[" + ${e} + "]"`:(0,B._)`"['" + ${e} + "']"`:n?(0,B._)`"/" + ${e}`:(0,B._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return t?(0,B.getProperty)(e).toString():"/"+Ft(e)}R.getErrorPath=tc;function eo(e,r,t=e.opts.strictSchema){if(t){if(r=`strict mode: ${r}`,t===!0)throw new Error(r);e.self.logger.warn(r)}}R.checkStrictMode=eo;var Er={},ro;function Te(){if(ro)return Er;ro=1,Object.defineProperty(Er,"__esModule",{value:!0});const e=U(),r={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return Er.default=r,Er}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const r=U(),t=R,n=Te();e.keywordError={message:({keyword:m})=>(0,r.str)`must pass "${m}" keyword validation`},e.keyword$DataError={message:({keyword:m,schemaType:y})=>y?(0,r.str)`"${m}" keyword must be ${y} ($data)`:(0,r.str)`"${m}" keyword is invalid ($data)`};function i(m,y=e.keywordError,d,b){const{it:O}=m,{gen:k,compositeRule:C,allErrors:x}=O,L=h(m,y,d);b??(C||x)?u(k,L):l(O,(0,r._)`[${L}]`)}e.reportError=i;function o(m,y=e.keywordError,d){const{it:b}=m,{gen:O,compositeRule:k,allErrors:C}=b,x=h(m,y,d);u(O,x),k||C||l(b,n.default.vErrors)}e.reportExtraError=o;function a(m,y){m.assign(n.default.errors,y),m.if((0,r._)`${n.default.vErrors} !== null`,()=>m.if(y,()=>m.assign((0,r._)`${n.default.vErrors}.length`,y),()=>m.assign(n.default.vErrors,null)))}e.resetErrorsCount=a;function s({gen:m,keyword:y,schemaValue:d,data:b,errsCount:O,it:k}){if(O===void 0)throw new Error("ajv implementation error");const C=m.name("err");m.forRange("i",O,n.default.errors,x=>{m.const(C,(0,r._)`${n.default.vErrors}[${x}]`),m.if((0,r._)`${C}.instancePath === undefined`,()=>m.assign((0,r._)`${C}.instancePath`,(0,r.strConcat)(n.default.instancePath,k.errorPath))),m.assign((0,r._)`${C}.schemaPath`,(0,r.str)`${k.errSchemaPath}/${y}`),k.opts.verbose&&(m.assign((0,r._)`${C}.schema`,d),m.assign((0,r._)`${C}.data`,b))})}e.extendErrors=s;function u(m,y){const d=m.const("err",y);m.if((0,r._)`${n.default.vErrors} === null`,()=>m.assign(n.default.vErrors,(0,r._)`[${d}]`),(0,r._)`${n.default.vErrors}.push(${d})`),m.code((0,r._)`${n.default.errors}++`)}function l(m,y){const{gen:d,validateName:b,schemaEnv:O}=m;O.$async?d.throw((0,r._)`new ${m.ValidationError}(${y})`):(d.assign((0,r._)`${b}.errors`,y),d.return(!1))}const f={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function h(m,y,d){const{createErrors:b}=m.it;return b===!1?(0,r._)`{}`:_(m,y,d)}function _(m,y,d={}){const{gen:b,it:O}=m,k=[p(O,d),v(m,d)];return $(m,y,k),b.object(...k)}function p({errorPath:m},{instancePath:y}){const d=y?(0,r.str)`${m}${(0,t.getErrorPath)(y,t.Type.Str)}`:m;return[n.default.instancePath,(0,r.strConcat)(n.default.instancePath,d)]}function v({keyword:m,it:{errSchemaPath:y}},{schemaPath:d,parentSchema:b}){let O=b?y:(0,r.str)`${y}/${m}`;return d&&(O=(0,r.str)`${O}${(0,t.getErrorPath)(d,t.Type.Str)}`),[f.schemaPath,O]}function $(m,{params:y,message:d},b){const{keyword:O,data:k,schemaValue:C,it:x}=m,{opts:L,propertyName:J,topSchemaRef:ee,schemaPath:ie}=x;b.push([f.keyword,O],[f.params,typeof y=="function"?y(m):y||(0,r._)`{}`]),L.messages&&b.push([f.message,typeof d=="function"?d(m):d]),L.verbose&&b.push([f.schema,C],[f.parentSchema,(0,r._)`${ee}${ie}`],[n.default.data,k]),J&&b.push([f.propertyName,J])}})(ar);var to;function nc(){if(to)return xe;to=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.boolOrEmptySchema=xe.topBoolOrEmptySchema=void 0;const e=ar,r=U(),t=Te(),n={message:"boolean schema is false"};function i(s){const{gen:u,schema:l,validateName:f}=s;l===!1?a(s,!1):typeof l=="object"&&l.$async===!0?u.return(t.default.data):(u.assign((0,r._)`${f}.errors`,null),u.return(!0))}xe.topBoolOrEmptySchema=i;function o(s,u){const{gen:l,schema:f}=s;f===!1?(l.var(u,!1),a(s)):l.var(u,!0)}xe.boolOrEmptySchema=o;function a(s,u){const{gen:l,data:f}=s,h={gen:l,keyword:"false schema",data:f,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:s};(0,e.reportError)(h,n,void 0,u)}return xe}var Q={},qe={};Object.defineProperty(qe,"__esModule",{value:!0}),qe.getRules=qe.isJSONType=void 0;const ic=["string","number","integer","boolean","null","object","array"],oc=new Set(ic);function ac(e){return typeof e=="string"&&oc.has(e)}qe.isJSONType=ac;function sc(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}qe.getRules=sc;var Oe={},no;function io(){if(no)return Oe;no=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.shouldUseRule=Oe.shouldUseGroup=Oe.schemaHasRulesForType=void 0;function e({schema:n,self:i},o){const a=i.RULES.types[o];return a&&a!==!0&&r(n,a)}Oe.schemaHasRulesForType=e;function r(n,i){return i.rules.some(o=>t(n,o))}Oe.shouldUseGroup=r;function t(n,i){var o;return n[i.keyword]!==void 0||((o=i.definition.implements)===null||o===void 0?void 0:o.some(a=>n[a]!==void 0))}return Oe.shouldUseRule=t,Oe}Object.defineProperty(Q,"__esModule",{value:!0}),Q.reportTypeError=Q.checkDataTypes=Q.checkDataType=Q.coerceAndCheckDataType=Q.getJSONTypes=Q.getSchemaTypes=Q.DataType=void 0;const uc=qe,cc=io(),lc=ar,V=U(),oo=R;var Je;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Je||(Q.DataType=Je={}));function fc(e){const r=ao(e.type);if(r.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!r.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&r.push("null")}return r}Q.getSchemaTypes=fc;function ao(e){const r=Array.isArray(e)?e:e?[e]:[];if(r.every(uc.isJSONType))return r;throw new Error("type must be JSONType or JSONType[]: "+r.join(","))}Q.getJSONTypes=ao;function dc(e,r){const{gen:t,data:n,opts:i}=e,o=hc(r,i.coerceTypes),a=r.length>0&&!(o.length===0&&r.length===1&&(0,cc.schemaHasRulesForType)(e,r[0]));if(a){const s=Ut(r,n,i.strictNumbers,Je.Wrong);t.if(s,()=>{o.length?pc(e,r,o):Kt(e)})}return a}Q.coerceAndCheckDataType=dc;const so=new Set(["string","number","integer","boolean","null"]);function hc(e,r){return r?e.filter(t=>so.has(t)||r==="array"&&t==="array"):[]}function pc(e,r,t){const{gen:n,data:i,opts:o}=e,a=n.let("dataType",(0,V._)`typeof ${i}`),s=n.let("coerced",(0,V._)`undefined`);o.coerceTypes==="array"&&n.if((0,V._)`${a} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,V._)`${i}[0]`).assign(a,(0,V._)`typeof ${i}`).if(Ut(r,i,o.strictNumbers),()=>n.assign(s,i))),n.if((0,V._)`${s} !== undefined`);for(const l of t)(so.has(l)||l==="array"&&o.coerceTypes==="array")&&u(l);n.else(),Kt(e),n.endIf(),n.if((0,V._)`${s} !== undefined`,()=>{n.assign(i,s),mc(e,s)});function u(l){switch(l){case"string":n.elseIf((0,V._)`${a} == "number" || ${a} == "boolean"`).assign(s,(0,V._)`"" + ${i}`).elseIf((0,V._)`${i} === null`).assign(s,(0,V._)`""`);return;case"number":n.elseIf((0,V._)`${a} == "boolean" || ${i} === null
              || (${a} == "string" && ${i} && ${i} == +${i})`).assign(s,(0,V._)`+${i}`);return;case"integer":n.elseIf((0,V._)`${a} === "boolean" || ${i} === null
              || (${a} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(s,(0,V._)`+${i}`);return;case"boolean":n.elseIf((0,V._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(s,!1).elseIf((0,V._)`${i} === "true" || ${i} === 1`).assign(s,!0);return;case"null":n.elseIf((0,V._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(s,null);return;case"array":n.elseIf((0,V._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${i} === null`).assign(s,(0,V._)`[${i}]`)}}}function mc({gen:e,parentData:r,parentDataProperty:t},n){e.if((0,V._)`${r} !== undefined`,()=>e.assign((0,V._)`${r}[${t}]`,n))}function zt(e,r,t,n=Je.Correct){const i=n===Je.Correct?V.operators.EQ:V.operators.NEQ;let o;switch(e){case"null":return(0,V._)`${r} ${i} null`;case"array":o=(0,V._)`Array.isArray(${r})`;break;case"object":o=(0,V._)`${r} && typeof ${r} == "object" && !Array.isArray(${r})`;break;case"integer":o=a((0,V._)`!(${r} % 1) && !isNaN(${r})`);break;case"number":o=a();break;default:return(0,V._)`typeof ${r} ${i} ${e}`}return n===Je.Correct?o:(0,V.not)(o);function a(s=V.nil){return(0,V.and)((0,V._)`typeof ${r} == "number"`,s,t?(0,V._)`isFinite(${r})`:V.nil)}}Q.checkDataType=zt;function Ut(e,r,t,n){if(e.length===1)return zt(e[0],r,t,n);let i;const o=(0,oo.toHash)(e);if(o.array&&o.object){const a=(0,V._)`typeof ${r} != "object"`;i=o.null?a:(0,V._)`!${r} || ${a}`,delete o.null,delete o.array,delete o.object}else i=V.nil;o.number&&delete o.integer;for(const a in o)i=(0,V.and)(i,zt(a,r,t,n));return i}Q.checkDataTypes=Ut;const yc={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:r})=>typeof e=="string"?(0,V._)`{type: ${e}}`:(0,V._)`{type: ${r}}`};function Kt(e){const r=gc(e);(0,lc.reportError)(r,yc)}Q.reportTypeError=Kt;function gc(e){const{gen:r,data:t,schema:n}=e,i=(0,oo.schemaRefOrVal)(e,n,"type");return{gen:r,keyword:"type",data:t,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:e}}var ur={},uo;function vc(){if(uo)return ur;uo=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.assignDefaults=void 0;const e=U(),r=R;function t(i,o){const{properties:a,items:s}=i.schema;if(o==="object"&&a)for(const u in a)n(i,u,a[u].default);else o==="array"&&Array.isArray(s)&&s.forEach((u,l)=>n(i,l,u.default))}ur.assignDefaults=t;function n(i,o,a){const{gen:s,compositeRule:u,data:l,opts:f}=i;if(a===void 0)return;const h=(0,e._)`${l}${(0,e.getProperty)(o)}`;if(u){(0,r.checkStrictMode)(i,`default is ignored for: ${h}`);return}let _=(0,e._)`${h} === undefined`;f.useDefaults==="empty"&&(_=(0,e._)`${_} || ${h} === null || ${h} === ""`),s.if(_,(0,e._)`${h} = ${(0,e.stringify)(a)}`)}return ur}var ye={},G={},co;function ge(){if(co)return G;co=1,Object.defineProperty(G,"__esModule",{value:!0}),G.validateUnion=G.validateArray=G.usePattern=G.callValidateCode=G.schemaProperties=G.allSchemaProperties=G.noPropertyInData=G.propertyInData=G.isOwnProperty=G.hasPropFunc=G.reportMissingProp=G.checkMissingProp=G.checkReportMissingProp=void 0;const e=U(),r=R,t=Te(),n=R;function i(d,b){const{gen:O,data:k,it:C}=d;O.if(f(O,k,b,C.opts.ownProperties),()=>{d.setParams({missingProperty:(0,e._)`${b}`},!0),d.error()})}G.checkReportMissingProp=i;function o({gen:d,data:b,it:{opts:O}},k,C){return(0,e.or)(...k.map(x=>(0,e.and)(f(d,b,x,O.ownProperties),(0,e._)`${C} = ${x}`)))}G.checkMissingProp=o;function a(d,b){d.setParams({missingProperty:b},!0),d.error()}G.reportMissingProp=a;function s(d){return d.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}G.hasPropFunc=s;function u(d,b,O){return(0,e._)`${s(d)}.call(${b}, ${O})`}G.isOwnProperty=u;function l(d,b,O,k){const C=(0,e._)`${b}${(0,e.getProperty)(O)} !== undefined`;return k?(0,e._)`${C} && ${u(d,b,O)}`:C}G.propertyInData=l;function f(d,b,O,k){const C=(0,e._)`${b}${(0,e.getProperty)(O)} === undefined`;return k?(0,e.or)(C,(0,e.not)(u(d,b,O))):C}G.noPropertyInData=f;function h(d){return d?Object.keys(d).filter(b=>b!=="__proto__"):[]}G.allSchemaProperties=h;function _(d,b){return h(b).filter(O=>!(0,r.alwaysValidSchema)(d,b[O]))}G.schemaProperties=_;function p({schemaCode:d,data:b,it:{gen:O,topSchemaRef:k,schemaPath:C,errorPath:x},it:L},J,ee,ie){const re=ie?(0,e._)`${d}, ${b}, ${k}${C}`:b,Y=[[t.default.instancePath,(0,e.strConcat)(t.default.instancePath,x)],[t.default.parentData,L.parentData],[t.default.parentDataProperty,L.parentDataProperty],[t.default.rootData,t.default.rootData]];L.opts.dynamicRef&&Y.push([t.default.dynamicAnchors,t.default.dynamicAnchors]);const W=(0,e._)`${re}, ${O.object(...Y)}`;return ee!==e.nil?(0,e._)`${J}.call(${ee}, ${W})`:(0,e._)`${J}(${W})`}G.callValidateCode=p;const v=(0,e._)`new RegExp`;function $({gen:d,it:{opts:b}},O){const k=b.unicodeRegExp?"u":"",{regExp:C}=b.code,x=C(O,k);return d.scopeValue("pattern",{key:x.toString(),ref:x,code:(0,e._)`${C.code==="new RegExp"?v:(0,n.useFunc)(d,C)}(${O}, ${k})`})}G.usePattern=$;function m(d){const{gen:b,data:O,keyword:k,it:C}=d,x=b.name("valid");if(C.allErrors){const J=b.let("valid",!0);return L(()=>b.assign(J,!1)),J}return b.var(x,!0),L(()=>b.break()),x;function L(J){const ee=b.const("len",(0,e._)`${O}.length`);b.forRange("i",0,ee,ie=>{d.subschema({keyword:k,dataProp:ie,dataPropType:r.Type.Num},x),b.if((0,e.not)(x),J)})}}G.validateArray=m;function y(d){const{gen:b,schema:O,keyword:k,it:C}=d;if(!Array.isArray(O))throw new Error("ajv implementation error");if(O.some(ee=>(0,r.alwaysValidSchema)(C,ee))&&!C.opts.unevaluated)return;const L=b.let("valid",!1),J=b.name("_valid");b.block(()=>O.forEach((ee,ie)=>{const re=d.subschema({keyword:k,schemaProp:ie,compositeRule:!0},J);b.assign(L,(0,e._)`${L} || ${J}`),d.mergeValidEvaluated(re,J)||b.if((0,e.not)(L))})),d.result(L,()=>d.reset(),()=>d.error(!0))}return G.validateUnion=y,G}var lo;function _c(){if(lo)return ye;lo=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.validateKeywordUsage=ye.validSchemaType=ye.funcKeywordCode=ye.macroKeywordCode=void 0;const e=U(),r=Te(),t=ge(),n=ar;function i(_,p){const{gen:v,keyword:$,schema:m,parentSchema:y,it:d}=_,b=p.macro.call(d.self,m,y,d),O=l(v,$,b);d.opts.validateSchema!==!1&&d.self.validateSchema(b,!0);const k=v.name("valid");_.subschema({schema:b,schemaPath:e.nil,errSchemaPath:`${d.errSchemaPath}/${$}`,topSchemaRef:O,compositeRule:!0},k),_.pass(k,()=>_.error(!0))}ye.macroKeywordCode=i;function o(_,p){var v;const{gen:$,keyword:m,schema:y,parentSchema:d,$data:b,it:O}=_;u(O,p);const k=!b&&p.compile?p.compile.call(O.self,y,d,O):p.validate,C=l($,m,k),x=$.let("valid");_.block$data(x,L),_.ok((v=p.valid)!==null&&v!==void 0?v:x);function L(){if(p.errors===!1)ie(),p.modifying&&a(_),re(()=>_.error());else{const Y=p.async?J():ee();p.modifying&&a(_),re(()=>s(_,Y))}}function J(){const Y=$.let("ruleErrs",null);return $.try(()=>ie((0,e._)`await `),W=>$.assign(x,!1).if((0,e._)`${W} instanceof ${O.ValidationError}`,()=>$.assign(Y,(0,e._)`${W}.errors`),()=>$.throw(W))),Y}function ee(){const Y=(0,e._)`${C}.errors`;return $.assign(Y,null),ie(e.nil),Y}function ie(Y=p.async?(0,e._)`await `:e.nil){const W=O.opts.passContext?r.default.this:r.default.self,ke=!("compile"in p&&!b||p.schema===!1);$.assign(x,(0,e._)`${Y}${(0,t.callValidateCode)(_,C,W,ke)}`,p.modifying)}function re(Y){var W;$.if((0,e.not)((W=p.valid)!==null&&W!==void 0?W:x),Y)}}ye.funcKeywordCode=o;function a(_){const{gen:p,data:v,it:$}=_;p.if($.parentData,()=>p.assign(v,(0,e._)`${$.parentData}[${$.parentDataProperty}]`))}function s(_,p){const{gen:v}=_;v.if((0,e._)`Array.isArray(${p})`,()=>{v.assign(r.default.vErrors,(0,e._)`${r.default.vErrors} === null ? ${p} : ${r.default.vErrors}.concat(${p})`).assign(r.default.errors,(0,e._)`${r.default.vErrors}.length`),(0,n.extendErrors)(_)},()=>_.error())}function u({schemaEnv:_},p){if(p.async&&!_.$async)throw new Error("async keyword in sync schema")}function l(_,p,v){if(v===void 0)throw new Error(`keyword "${p}" failed to compile`);return _.scopeValue("keyword",typeof v=="function"?{ref:v}:{ref:v,code:(0,e.stringify)(v)})}function f(_,p,v=!1){return!p.length||p.some($=>$==="array"?Array.isArray(_):$==="object"?_&&typeof _=="object"&&!Array.isArray(_):typeof _==$||v&&typeof _>"u")}ye.validSchemaType=f;function h({schema:_,opts:p,self:v,errSchemaPath:$},m,y){if(Array.isArray(m.keyword)?!m.keyword.includes(y):m.keyword!==y)throw new Error("ajv implementation error");const d=m.dependencies;if(d!=null&&d.some(b=>!Object.prototype.hasOwnProperty.call(_,b)))throw new Error(`parent schema must have dependencies of ${y}: ${d.join(",")}`);if(m.validateSchema&&!m.validateSchema(_[y])){const O=`keyword "${y}" value is invalid at path "${$}": `+v.errorsText(m.validateSchema.errors);if(p.validateSchema==="log")v.logger.error(O);else throw new Error(O)}}return ye.validateKeywordUsage=h,ye}var Ne={},fo;function $c(){if(fo)return Ne;fo=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.extendSubschemaMode=Ne.extendSubschemaData=Ne.getSubschema=void 0;const e=U(),r=R;function t(o,{keyword:a,schemaProp:s,schema:u,schemaPath:l,errSchemaPath:f,topSchemaRef:h}){if(a!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const _=o.schema[a];return s===void 0?{schema:_,schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(a)}`,errSchemaPath:`${o.errSchemaPath}/${a}`}:{schema:_[s],schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(a)}${(0,e.getProperty)(s)}`,errSchemaPath:`${o.errSchemaPath}/${a}/${(0,r.escapeFragment)(s)}`}}if(u!==void 0){if(l===void 0||f===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:l,topSchemaRef:h,errSchemaPath:f}}throw new Error('either "keyword" or "schema" must be passed')}Ne.getSubschema=t;function n(o,a,{dataProp:s,dataPropType:u,data:l,dataTypes:f,propertyName:h}){if(l!==void 0&&s!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:_}=a;if(s!==void 0){const{errorPath:v,dataPathArr:$,opts:m}=a,y=_.let("data",(0,e._)`${a.data}${(0,e.getProperty)(s)}`,!0);p(y),o.errorPath=(0,e.str)`${v}${(0,r.getErrorPath)(s,u,m.jsPropertySyntax)}`,o.parentDataProperty=(0,e._)`${s}`,o.dataPathArr=[...$,o.parentDataProperty]}if(l!==void 0){const v=l instanceof e.Name?l:_.let("data",l,!0);p(v),h!==void 0&&(o.propertyName=h)}f&&(o.dataTypes=f);function p(v){o.data=v,o.dataLevel=a.dataLevel+1,o.dataTypes=[],a.definedProperties=new Set,o.parentData=a.data,o.dataNames=[...a.dataNames,v]}}Ne.extendSubschemaData=n;function i(o,{jtdDiscriminator:a,jtdMetadata:s,compositeRule:u,createErrors:l,allErrors:f}){u!==void 0&&(o.compositeRule=u),l!==void 0&&(o.createErrors=l),f!==void 0&&(o.allErrors=f),o.jtdDiscriminator=a,o.jtdMetadata=s}return Ne.extendSubschemaMode=i,Ne}var te={},ho=function e(r,t){if(r===t)return!0;if(r&&t&&typeof r=="object"&&typeof t=="object"){if(r.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(r)){if(n=r.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!e(r[i],t[i]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if(o=Object.keys(r),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){var a=o[i];if(!e(r[a],t[a]))return!1}return!0}return r!==r&&t!==t},po={exports:{}},Ce=po.exports=function(e,r,t){typeof r=="function"&&(t=r,r={}),t=r.cb||t;var n=typeof t=="function"?t:t.pre||function(){},i=t.post||function(){};Pr(r,n,i,e,"",e)};Ce.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},Ce.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},Ce.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},Ce.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Pr(e,r,t,n,i,o,a,s,u,l){if(n&&typeof n=="object"&&!Array.isArray(n)){r(n,i,o,a,s,u,l);for(var f in n){var h=n[f];if(Array.isArray(h)){if(f in Ce.arrayKeywords)for(var _=0;_<h.length;_++)Pr(e,r,t,h[_],i+"/"+f+"/"+_,o,i,f,n,_)}else if(f in Ce.propsKeywords){if(h&&typeof h=="object")for(var p in h)Pr(e,r,t,h[p],i+"/"+f+"/"+bc(p),o,i,f,n,p)}else(f in Ce.keywords||e.allKeys&&!(f in Ce.skipKeywords))&&Pr(e,r,t,h,i+"/"+f,o,i,f,n)}t(n,i,o,a,s,u,l)}}function bc(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var wc=po.exports;Object.defineProperty(te,"__esModule",{value:!0}),te.getSchemaRefs=te.resolveUrl=te.normalizeId=te._getFullPath=te.getFullPath=te.inlineRef=void 0;const Sc=R,Ec=ho,Pc=wc,Oc=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Nc(e,r=!0){return typeof e=="boolean"?!0:r===!0?!Ht(e):r?mo(e)<=r:!1}te.inlineRef=Nc;const Ic=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Ht(e){for(const r in e){if(Ic.has(r))return!0;const t=e[r];if(Array.isArray(t)&&t.some(Ht)||typeof t=="object"&&Ht(t))return!0}return!1}function mo(e){let r=0;for(const t in e){if(t==="$ref")return 1/0;if(r++,!Oc.has(t)&&(typeof e[t]=="object"&&(0,Sc.eachItem)(e[t],n=>r+=mo(n)),r===1/0))return 1/0}return r}function yo(e,r="",t){t!==!1&&(r=We(r));const n=e.parse(r);return go(e,n)}te.getFullPath=yo;function go(e,r){return e.serialize(r).split("#")[0]+"#"}te._getFullPath=go;const kc=/#\/?$/;function We(e){return e?e.replace(kc,""):""}te.normalizeId=We;function jc(e,r,t){return t=We(t),e.resolve(r,t)}te.resolveUrl=jc;const Ac=/^[a-z_][-a-z0-9._]*$/i;function Tc(e,r){if(typeof e=="boolean")return{};const{schemaId:t,uriResolver:n}=this.opts,i=We(e[t]||r),o={"":i},a=yo(n,i,!1),s={},u=new Set;return Pc(e,{allKeys:!0},(h,_,p,v)=>{if(v===void 0)return;const $=a+_;let m=o[v];typeof h[t]=="string"&&(m=y.call(this,h[t])),d.call(this,h.$anchor),d.call(this,h.$dynamicAnchor),o[_]=m;function y(b){const O=this.opts.uriResolver.resolve;if(b=We(m?O(m,b):b),u.has(b))throw f(b);u.add(b);let k=this.refs[b];return typeof k=="string"&&(k=this.refs[k]),typeof k=="object"?l(h,k.schema,b):b!==We($)&&(b[0]==="#"?(l(h,s[b],b),s[b]=h):this.refs[b]=$),b}function d(b){if(typeof b=="string"){if(!Ac.test(b))throw new Error(`invalid anchor "${b}"`);y.call(this,`#${b}`)}}}),s;function l(h,_,p){if(_!==void 0&&!Ec(h,_))throw f(p)}function f(h){return new Error(`reference "${h}" resolves to more than one schema`)}}te.getSchemaRefs=Tc;var vo;function Or(){if(vo)return Pe;vo=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.getData=Pe.KeywordCxt=Pe.validateFunctionCode=void 0;const e=nc(),r=Q,t=io(),n=Q,i=vc(),o=_c(),a=$c(),s=U(),u=Te(),l=te,f=R,h=ar;function _(w){if(k(w)&&(x(w),O(w))){m(w);return}p(w,()=>(0,e.topBoolOrEmptySchema)(w))}Pe.validateFunctionCode=_;function p({gen:w,validateName:E,schema:I,schemaEnv:A,opts:q},z){q.code.es5?w.func(E,(0,s._)`${u.default.data}, ${u.default.valCxt}`,A.$async,()=>{w.code((0,s._)`"use strict"; ${d(I,q)}`),$(w,q),w.code(z)}):w.func(E,(0,s._)`${u.default.data}, ${v(q)}`,A.$async,()=>w.code(d(I,q)).code(z))}function v(w){return(0,s._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${w.dynamicRef?(0,s._)`, ${u.default.dynamicAnchors}={}`:s.nil}}={}`}function $(w,E){w.if(u.default.valCxt,()=>{w.var(u.default.instancePath,(0,s._)`${u.default.valCxt}.${u.default.instancePath}`),w.var(u.default.parentData,(0,s._)`${u.default.valCxt}.${u.default.parentData}`),w.var(u.default.parentDataProperty,(0,s._)`${u.default.valCxt}.${u.default.parentDataProperty}`),w.var(u.default.rootData,(0,s._)`${u.default.valCxt}.${u.default.rootData}`),E.dynamicRef&&w.var(u.default.dynamicAnchors,(0,s._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{w.var(u.default.instancePath,(0,s._)`""`),w.var(u.default.parentData,(0,s._)`undefined`),w.var(u.default.parentDataProperty,(0,s._)`undefined`),w.var(u.default.rootData,u.default.data),E.dynamicRef&&w.var(u.default.dynamicAnchors,(0,s._)`{}`)})}function m(w){const{schema:E,opts:I,gen:A}=w;p(w,()=>{I.$comment&&E.$comment&&Y(w),ee(w),A.let(u.default.vErrors,null),A.let(u.default.errors,0),I.unevaluated&&y(w),L(w),W(w)})}function y(w){const{gen:E,validateName:I}=w;w.evaluated=E.const("evaluated",(0,s._)`${I}.evaluated`),E.if((0,s._)`${w.evaluated}.dynamicProps`,()=>E.assign((0,s._)`${w.evaluated}.props`,(0,s._)`undefined`)),E.if((0,s._)`${w.evaluated}.dynamicItems`,()=>E.assign((0,s._)`${w.evaluated}.items`,(0,s._)`undefined`))}function d(w,E){const I=typeof w=="object"&&w[E.schemaId];return I&&(E.code.source||E.code.process)?(0,s._)`/*# sourceURL=${I} */`:s.nil}function b(w,E){if(k(w)&&(x(w),O(w))){C(w,E);return}(0,e.boolOrEmptySchema)(w,E)}function O({schema:w,self:E}){if(typeof w=="boolean")return!w;for(const I in w)if(E.RULES.all[I])return!0;return!1}function k(w){return typeof w.schema!="boolean"}function C(w,E){const{schema:I,gen:A,opts:q}=w;q.$comment&&I.$comment&&Y(w),ie(w),re(w);const z=A.const("_errs",u.default.errors);L(w,z),A.var(E,(0,s._)`${z} === ${u.default.errors}`)}function x(w){(0,f.checkUnknownRules)(w),J(w)}function L(w,E){if(w.opts.jtd)return ze(w,[],!1,E);const I=(0,r.getSchemaTypes)(w.schema),A=(0,r.coerceAndCheckDataType)(w,I);ze(w,I,!A,E)}function J(w){const{schema:E,errSchemaPath:I,opts:A,self:q}=w;E.$ref&&A.ignoreKeywordsWithRef&&(0,f.schemaHasRulesButRef)(E,q.RULES)&&q.logger.warn(`$ref: keywords ignored in schema at path "${I}"`)}function ee(w){const{schema:E,opts:I}=w;E.default!==void 0&&I.useDefaults&&I.strictSchema&&(0,f.checkStrictMode)(w,"default is ignored in the schema root")}function ie(w){const E=w.schema[w.opts.schemaId];E&&(w.baseId=(0,l.resolveUrl)(w.opts.uriResolver,w.baseId,E))}function re(w){if(w.schema.$async&&!w.schemaEnv.$async)throw new Error("async schema in sync schema")}function Y({gen:w,schemaEnv:E,schema:I,errSchemaPath:A,opts:q}){const z=I.$comment;if(q.$comment===!0)w.code((0,s._)`${u.default.self}.logger.log(${z})`);else if(typeof q.$comment=="function"){const oe=(0,s.str)`${A}/$comment`,be=w.scopeValue("root",{ref:E.root});w.code((0,s._)`${u.default.self}.opts.$comment(${z}, ${oe}, ${be}.schema)`)}}function W(w){const{gen:E,schemaEnv:I,validateName:A,ValidationError:q,opts:z}=w;I.$async?E.if((0,s._)`${u.default.errors} === 0`,()=>E.return(u.default.data),()=>E.throw((0,s._)`new ${q}(${u.default.vErrors})`)):(E.assign((0,s._)`${A}.errors`,u.default.vErrors),z.unevaluated&&ke(w),E.return((0,s._)`${u.default.errors} === 0`))}function ke({gen:w,evaluated:E,props:I,items:A}){I instanceof s.Name&&w.assign((0,s._)`${E}.props`,I),A instanceof s.Name&&w.assign((0,s._)`${E}.items`,A)}function ze(w,E,I,A){const{gen:q,schema:z,data:oe,allErrors:be,opts:de,self:he}=w,{RULES:ae}=he;if(z.$ref&&(de.ignoreKeywordsWithRef||!(0,f.schemaHasRulesButRef)(z,ae))){q.block(()=>M(w,"$ref",ae.all.$ref.definition));return}de.jtd||gr(w,E),q.block(()=>{for(const me of ae.rules)ir(me);ir(ae.post)});function ir(me){(0,t.shouldUseGroup)(z,me)&&(me.type?(q.if((0,n.checkDataType)(me.type,oe,de.strictNumbers)),tr(w,me),E.length===1&&E[0]===me.type&&I&&(q.else(),(0,n.reportTypeError)(w)),q.endIf()):tr(w,me),be||q.if((0,s._)`${u.default.errors} === ${A||0}`))}}function tr(w,E){const{gen:I,schema:A,opts:{useDefaults:q}}=w;q&&(0,i.assignDefaults)(w,E.type),I.block(()=>{for(const z of E.rules)(0,t.shouldUseRule)(A,z)&&M(w,z.keyword,z.definition,E.type)})}function gr(w,E){w.schemaEnv.meta||!w.opts.strictTypes||(nr(w,E),w.opts.allowUnionTypes||T(w,E),S(w,w.dataTypes))}function nr(w,E){if(E.length){if(!w.dataTypes.length){w.dataTypes=E;return}E.forEach(I=>{P(w.dataTypes,I)||g(w,`type "${I}" not allowed by context "${w.dataTypes.join(",")}"`)}),c(w,E)}}function T(w,E){E.length>1&&!(E.length===2&&E.includes("null"))&&g(w,"use allowUnionTypes to allow union type keyword")}function S(w,E){const I=w.self.RULES.all;for(const A in I){const q=I[A];if(typeof q=="object"&&(0,t.shouldUseRule)(w.schema,q)){const{type:z}=q.definition;z.length&&!z.some(oe=>j(E,oe))&&g(w,`missing type "${z.join(",")}" for keyword "${A}"`)}}}function j(w,E){return w.includes(E)||E==="number"&&w.includes("integer")}function P(w,E){return w.includes(E)||E==="integer"&&w.includes("number")}function c(w,E){const I=[];for(const A of w.dataTypes)P(E,A)?I.push(A):E.includes("integer")&&A==="number"&&I.push("integer");w.dataTypes=I}function g(w,E){const I=w.schemaEnv.baseId+w.errSchemaPath;E+=` at "${I}" (strictTypes)`,(0,f.checkStrictMode)(w,E,w.opts.strictTypes)}class N{constructor(E,I,A){if((0,o.validateKeywordUsage)(E,I,A),this.gen=E.gen,this.allErrors=E.allErrors,this.keyword=A,this.data=E.data,this.schema=E.schema[A],this.$data=I.$data&&E.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,f.schemaRefOrVal)(E,this.schema,A,this.$data),this.schemaType=I.schemaType,this.parentSchema=E.schema,this.params={},this.it=E,this.def=I,this.$data)this.schemaCode=E.gen.const("vSchema",K(this.$data,E));else if(this.schemaCode=this.schemaValue,!(0,o.validSchemaType)(this.schema,I.schemaType,I.allowUndefined))throw new Error(`${A} value must be ${JSON.stringify(I.schemaType)}`);("code"in I?I.trackErrors:I.errors!==!1)&&(this.errsCount=E.gen.const("_errs",u.default.errors))}result(E,I,A){this.failResult((0,s.not)(E),I,A)}failResult(E,I,A){this.gen.if(E),A?A():this.error(),I?(this.gen.else(),I(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(E,I){this.failResult((0,s.not)(E),void 0,I)}fail(E){if(E===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(E),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(E){if(!this.$data)return this.fail(E);const{schemaCode:I}=this;this.fail((0,s._)`${I} !== undefined && (${(0,s.or)(this.invalid$data(),E)})`)}error(E,I,A){if(I){this.setParams(I),this._error(E,A),this.setParams({});return}this._error(E,A)}_error(E,I){(E?h.reportExtraError:h.reportError)(this,this.def.error,I)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(E){this.allErrors||this.gen.if(E)}setParams(E,I){I?Object.assign(this.params,E):this.params=E}block$data(E,I,A=s.nil){this.gen.block(()=>{this.check$data(E,A),I()})}check$data(E=s.nil,I=s.nil){if(!this.$data)return;const{gen:A,schemaCode:q,schemaType:z,def:oe}=this;A.if((0,s.or)((0,s._)`${q} === undefined`,I)),E!==s.nil&&A.assign(E,!0),(z.length||oe.validateSchema)&&(A.elseIf(this.invalid$data()),this.$dataError(),E!==s.nil&&A.assign(E,!1)),A.else()}invalid$data(){const{gen:E,schemaCode:I,schemaType:A,def:q,it:z}=this;return(0,s.or)(oe(),be());function oe(){if(A.length){if(!(I instanceof s.Name))throw new Error("ajv implementation error");const de=Array.isArray(A)?A:[A];return(0,s._)`${(0,n.checkDataTypes)(de,I,z.opts.strictNumbers,n.DataType.Wrong)}`}return s.nil}function be(){if(q.validateSchema){const de=E.scopeValue("validate$data",{ref:q.validateSchema});return(0,s._)`!${de}(${I})`}return s.nil}}subschema(E,I){const A=(0,a.getSubschema)(this.it,E);(0,a.extendSubschemaData)(A,this.it,E),(0,a.extendSubschemaMode)(A,E);const q={...this.it,...A,items:void 0,props:void 0};return b(q,I),q}mergeEvaluated(E,I){const{it:A,gen:q}=this;A.opts.unevaluated&&(A.props!==!0&&E.props!==void 0&&(A.props=f.mergeEvaluated.props(q,E.props,A.props,I)),A.items!==!0&&E.items!==void 0&&(A.items=f.mergeEvaluated.items(q,E.items,A.items,I)))}mergeValidEvaluated(E,I){const{it:A,gen:q}=this;if(A.opts.unevaluated&&(A.props!==!0||A.items!==!0))return q.if(I,()=>this.mergeEvaluated(E,s.Name)),!0}}Pe.KeywordCxt=N;function M(w,E,I,A){const q=new N(w,I,E);"code"in I?I.code(q,A):q.$data&&I.validate?(0,o.funcKeywordCode)(q,I):"macro"in I?(0,o.macroKeywordCode)(q,I):(I.compile||I.validate)&&(0,o.funcKeywordCode)(q,I)}const F=/^\/(?:[^~]|~0|~1)*$/,H=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function K(w,{dataLevel:E,dataNames:I,dataPathArr:A}){let q,z;if(w==="")return u.default.rootData;if(w[0]==="/"){if(!F.test(w))throw new Error(`Invalid JSON-pointer: ${w}`);q=w,z=u.default.rootData}else{const he=H.exec(w);if(!he)throw new Error(`Invalid JSON-pointer: ${w}`);const ae=+he[1];if(q=he[2],q==="#"){if(ae>=E)throw new Error(de("property/index",ae));return A[E-ae]}if(ae>E)throw new Error(de("data",ae));if(z=I[E-ae],!q)return z}let oe=z;const be=q.split("/");for(const he of be)he&&(z=(0,s._)`${z}${(0,s.getProperty)((0,f.unescapeJsonPointer)(he))}`,oe=(0,s._)`${oe} && ${z}`);return oe;function de(he,ae){return`Cannot access ${he} ${ae} levels up, current level is ${E}`}}return Pe.getData=K,Pe}var Nr={},_o;function Gt(){if(_o)return Nr;_o=1,Object.defineProperty(Nr,"__esModule",{value:!0});class e extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}return Nr.default=e,Nr}var Ir={},$o;function kr(){if($o)return Ir;$o=1,Object.defineProperty(Ir,"__esModule",{value:!0});const e=te;class r extends Error{constructor(n,i,o,a){super(a||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,e.resolveUrl)(n,i,o),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(n,this.missingRef))}}return Ir.default=r,Ir}var le={};Object.defineProperty(le,"__esModule",{value:!0}),le.resolveSchema=le.getCompilingSchema=le.resolveRef=le.compileSchema=le.SchemaEnv=void 0;const ve=U(),Cc=Gt(),De=Te(),_e=te,bo=R,Rc=Or();class jr{constructor(r){var t;this.refs={},this.dynamicAnchors={};let n;typeof r.schema=="object"&&(n=r.schema),this.schema=r.schema,this.schemaId=r.schemaId,this.root=r.root||this,this.baseId=(t=r.baseId)!==null&&t!==void 0?t:(0,_e.normalizeId)(n==null?void 0:n[r.schemaId||"$id"]),this.schemaPath=r.schemaPath,this.localRefs=r.localRefs,this.meta=r.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}le.SchemaEnv=jr;function Bt(e){const r=wo.call(this,e);if(r)return r;const t=(0,_e.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:o}=this.opts,a=new ve.CodeGen(this.scope,{es5:n,lines:i,ownProperties:o});let s;e.$async&&(s=a.scopeValue("Error",{ref:Cc.default,code:(0,ve._)`require("ajv/dist/runtime/validation_error").default`}));const u=a.scopeName("validate");e.validateName=u;const l={gen:a,allErrors:this.opts.allErrors,data:De.default.data,parentData:De.default.parentData,parentDataProperty:De.default.parentDataProperty,dataNames:[De.default.data],dataPathArr:[ve.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,ve.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:s,schema:e.schema,schemaEnv:e,rootId:t,baseId:e.baseId||t,schemaPath:ve.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ve._)`""`,opts:this.opts,self:this};let f;try{this._compilations.add(e),(0,Rc.validateFunctionCode)(l),a.optimize(this.opts.code.optimize);const h=a.toString();f=`${a.scopeRefs(De.default.scope)}return ${h}`,this.opts.code.process&&(f=this.opts.code.process(f,e));const p=new Function(`${De.default.self}`,`${De.default.scope}`,f)(this,this.scope.get());if(this.scope.value(u,{ref:p}),p.errors=null,p.schema=e.schema,p.schemaEnv=e,e.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:u,validateCode:h,scopeValues:a._values}),this.opts.unevaluated){const{props:v,items:$}=l;p.evaluated={props:v instanceof ve.Name?void 0:v,items:$ instanceof ve.Name?void 0:$,dynamicProps:v instanceof ve.Name,dynamicItems:$ instanceof ve.Name},p.source&&(p.source.evaluated=(0,ve.stringify)(p.evaluated))}return e.validate=p,e}catch(h){throw delete e.validate,delete e.validateName,f&&this.logger.error("Error compiling schema, function code:",f),h}finally{this._compilations.delete(e)}}le.compileSchema=Bt;function Mc(e,r,t){var n;t=(0,_e.resolveUrl)(this.opts.uriResolver,r,t);const i=e.refs[t];if(i)return i;let o=Dc.call(this,e,t);if(o===void 0){const a=(n=e.localRefs)===null||n===void 0?void 0:n[t],{schemaId:s}=this.opts;a&&(o=new jr({schema:a,schemaId:s,root:e,baseId:r}))}if(o!==void 0)return e.refs[t]=xc.call(this,o)}le.resolveRef=Mc;function xc(e){return(0,_e.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Bt.call(this,e)}function wo(e){for(const r of this._compilations)if(qc(r,e))return r}le.getCompilingSchema=wo;function qc(e,r){return e.schema===r.schema&&e.root===r.root&&e.baseId===r.baseId}function Dc(e,r){let t;for(;typeof(t=this.refs[r])=="string";)r=t;return t||this.schemas[r]||Ar.call(this,e,r)}function Ar(e,r){const t=this.opts.uriResolver.parse(r),n=(0,_e._getFullPath)(this.opts.uriResolver,t);let i=(0,_e.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return Yt.call(this,t,e);const o=(0,_e.normalizeId)(n),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){const s=Ar.call(this,e,a);return typeof(s==null?void 0:s.schema)!="object"?void 0:Yt.call(this,t,s)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||Bt.call(this,a),o===(0,_e.normalizeId)(r)){const{schema:s}=a,{schemaId:u}=this.opts,l=s[u];return l&&(i=(0,_e.resolveUrl)(this.opts.uriResolver,i,l)),new jr({schema:s,schemaId:u,root:e,baseId:i})}return Yt.call(this,t,a)}}le.resolveSchema=Ar;const Fc=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Yt(e,{baseId:r,schema:t,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const s of e.fragment.slice(1).split("/")){if(typeof t=="boolean")return;const u=t[(0,bo.unescapeFragment)(s)];if(u===void 0)return;t=u;const l=typeof t=="object"&&t[this.opts.schemaId];!Fc.has(s)&&l&&(r=(0,_e.resolveUrl)(this.opts.uriResolver,r,l))}let o;if(typeof t!="boolean"&&t.$ref&&!(0,bo.schemaHasRulesButRef)(t,this.RULES)){const s=(0,_e.resolveUrl)(this.opts.uriResolver,r,t.$ref);o=Ar.call(this,n,s)}const{schemaId:a}=this.opts;if(o=o||new jr({schema:t,schemaId:a,root:n,baseId:r}),o.schema!==o.root.schema)return o}var Vc={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},Jt={},Tr={exports:{}},Lc={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}};const{HEX:zc}=Lc,Uc=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function So(e){if(Oo(e,".")<3)return{host:e,isIPV4:!1};const r=e.match(Uc)||[],[t]=r;return t?{host:Hc(t,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function Eo(e,r=!1){let t="",n=!0;for(const i of e){if(zc[i]===void 0)return;i!=="0"&&n===!0&&(n=!1),n||(t+=i)}return r&&t.length===0&&(t="0"),t}function Kc(e){let r=0;const t={error:!1,address:"",zone:""},n=[],i=[];let o=!1,a=!1,s=!1;function u(){if(i.length){if(o===!1){const l=Eo(i);if(l!==void 0)n.push(l);else return t.error=!0,!1}i.length=0}return!0}for(let l=0;l<e.length;l++){const f=e[l];if(!(f==="["||f==="]"))if(f===":"){if(a===!0&&(s=!0),!u())break;if(r++,n.push(":"),r>7){t.error=!0;break}l-1>=0&&e[l-1]===":"&&(a=!0);continue}else if(f==="%"){if(!u())break;o=!0}else{i.push(f);continue}}return i.length&&(o?t.zone=i.join(""):s?n.push(i.join("")):n.push(Eo(i))),t.address=n.join(""),t}function Po(e){if(Oo(e,":")<2)return{host:e,isIPV6:!1};const r=Kc(e);if(r.error)return{host:e,isIPV6:!1};{let t=r.address,n=r.address;return r.zone&&(t+="%"+r.zone,n+="%25"+r.zone),{host:t,escapedHost:n,isIPV6:!0}}}function Hc(e,r){let t="",n=!0;const i=e.length;for(let o=0;o<i;o++){const a=e[o];a==="0"&&n?(o+1<=i&&e[o+1]===r||o+1===i)&&(t+=a,n=!1):(a===r?n=!0:n=!1,t+=a)}return t}function Oo(e,r){let t=0;for(let n=0;n<e.length;n++)e[n]===r&&t++;return t}const No=/^\.\.?\//u,Io=/^\/\.(?:\/|$)/u,ko=/^\/\.\.(?:\/|$)/u,Gc=/^\/?(?:.|\n)*?(?=\/|$)/u;function Bc(e){const r=[];for(;e.length;)if(e.match(No))e=e.replace(No,"");else if(e.match(Io))e=e.replace(Io,"/");else if(e.match(ko))e=e.replace(ko,"/"),r.pop();else if(e==="."||e==="..")e="";else{const t=e.match(Gc);if(t){const n=t[0];e=e.slice(n.length),r.push(n)}else throw new Error("Unexpected dot segment condition")}return r.join("")}function Yc(e,r){const t=r!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=t(e.scheme)),e.userinfo!==void 0&&(e.userinfo=t(e.userinfo)),e.host!==void 0&&(e.host=t(e.host)),e.path!==void 0&&(e.path=t(e.path)),e.query!==void 0&&(e.query=t(e.query)),e.fragment!==void 0&&(e.fragment=t(e.fragment)),e}function Jc(e){const r=[];if(e.userinfo!==void 0&&(r.push(e.userinfo),r.push("@")),e.host!==void 0){let t=unescape(e.host);const n=So(t);if(n.isIPV4)t=n.host;else{const i=Po(n.host);i.isIPV6===!0?t=`[${i.escapedHost}]`:t=e.host}r.push(t)}return(typeof e.port=="number"||typeof e.port=="string")&&(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}var Wc={recomposeAuthority:Jc,normalizeComponentEncoding:Yc,removeDotSegments:Bc,normalizeIPv4:So,normalizeIPv6:Po};const Xc=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,Zc=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function jo(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function Ao(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function To(e){const r=String(e.scheme).toLowerCase()==="https";return(e.port===(r?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function Qc(e){return e.secure=jo(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function el(e){if((e.port===(jo(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[r,t]=e.resourceName.split("?");e.path=r&&r!=="/"?r:void 0,e.query=t,e.resourceName=void 0}return e.fragment=void 0,e}function rl(e,r){if(!e.path)return e.error="URN can not be parsed",e;const t=e.path.match(Zc);if(t){const n=r.scheme||e.scheme||"urn";e.nid=t[1].toLowerCase(),e.nss=t[2];const i=`${n}:${r.nid||e.nid}`,o=Wt[i];e.path=void 0,o&&(e=o.parse(e,r))}else e.error=e.error||"URN can not be parsed.";return e}function tl(e,r){const t=r.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),i=`${t}:${r.nid||n}`,o=Wt[i];o&&(e=o.serialize(e,r));const a=e,s=e.nss;return a.path=`${n||r.nid}:${s}`,r.skipEscape=!0,a}function nl(e,r){const t=e;return t.uuid=t.nss,t.nss=void 0,!r.tolerant&&(!t.uuid||!Xc.test(t.uuid))&&(t.error=t.error||"UUID is not valid."),t}function il(e){const r=e;return r.nss=(e.uuid||"").toLowerCase(),r}const Co={scheme:"http",domainHost:!0,parse:Ao,serialize:To},ol={scheme:"https",domainHost:Co.domainHost,parse:Ao,serialize:To},Cr={scheme:"ws",domainHost:!0,parse:Qc,serialize:el},al={scheme:"wss",domainHost:Cr.domainHost,parse:Cr.parse,serialize:Cr.serialize},Wt={http:Co,https:ol,ws:Cr,wss:al,urn:{scheme:"urn",parse:rl,serialize:tl,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:nl,serialize:il,skipNormalize:!0}};var sl=Wt;const{normalizeIPv6:ul,normalizeIPv4:cl,removeDotSegments:cr,recomposeAuthority:ll,normalizeComponentEncoding:Rr}=Wc,Xt=sl;function fl(e,r){return typeof e=="string"?e=Ee(Ie(e,r),r):typeof e=="object"&&(e=Ie(Ee(e,r),r)),e}function dl(e,r,t){const n=Object.assign({scheme:"null"},t),i=Ro(Ie(e,n),Ie(r,n),n,!0);return Ee(i,{...n,skipEscape:!0})}function Ro(e,r,t,n){const i={};return n||(e=Ie(Ee(e,t),t),r=Ie(Ee(r,t),t)),t=t||{},!t.tolerant&&r.scheme?(i.scheme=r.scheme,i.userinfo=r.userinfo,i.host=r.host,i.port=r.port,i.path=cr(r.path||""),i.query=r.query):(r.userinfo!==void 0||r.host!==void 0||r.port!==void 0?(i.userinfo=r.userinfo,i.host=r.host,i.port=r.port,i.path=cr(r.path||""),i.query=r.query):(r.path?(r.path.charAt(0)==="/"?i.path=cr(r.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?i.path="/"+r.path:e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+r.path:i.path=r.path,i.path=cr(i.path)),i.query=r.query):(i.path=e.path,r.query!==void 0?i.query=r.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=r.fragment,i}function hl(e,r,t){return typeof e=="string"?(e=unescape(e),e=Ee(Rr(Ie(e,t),!0),{...t,skipEscape:!0})):typeof e=="object"&&(e=Ee(Rr(e,!0),{...t,skipEscape:!0})),typeof r=="string"?(r=unescape(r),r=Ee(Rr(Ie(r,t),!0),{...t,skipEscape:!0})):typeof r=="object"&&(r=Ee(Rr(r,!0),{...t,skipEscape:!0})),e.toLowerCase()===r.toLowerCase()}function Ee(e,r){const t={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},r),i=[],o=Xt[(n.scheme||t.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(t,n),t.path!==void 0&&(n.skipEscape?t.path=unescape(t.path):(t.path=escape(t.path),t.scheme!==void 0&&(t.path=t.path.split("%3A").join(":")))),n.reference!=="suffix"&&t.scheme&&i.push(t.scheme,":");const a=ll(t);if(a!==void 0&&(n.reference!=="suffix"&&i.push("//"),i.push(a),t.path&&t.path.charAt(0)!=="/"&&i.push("/")),t.path!==void 0){let s=t.path;!n.absolutePath&&(!o||!o.absolutePath)&&(s=cr(s)),a===void 0&&(s=s.replace(/^\/\//u,"/%2F")),i.push(s)}return t.query!==void 0&&i.push("?",t.query),t.fragment!==void 0&&i.push("#",t.fragment),i.join("")}const pl=Array.from({length:127},(e,r)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(r)));function ml(e){let r=0;for(let t=0,n=e.length;t<n;++t)if(r=e.charCodeAt(t),r>126||pl[r])return!0;return!1}const yl=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Ie(e,r){const t=Object.assign({},r),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},i=e.indexOf("%")!==-1;let o=!1;t.reference==="suffix"&&(e=(t.scheme?t.scheme+":":"")+"//"+e);const a=e.match(yl);if(a){if(n.scheme=a[1],n.userinfo=a[3],n.host=a[4],n.port=parseInt(a[5],10),n.path=a[6]||"",n.query=a[7],n.fragment=a[8],isNaN(n.port)&&(n.port=a[5]),n.host){const u=cl(n.host);if(u.isIPV4===!1){const l=ul(u.host);n.host=l.host.toLowerCase(),o=l.isIPV6}else n.host=u.host,o=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",t.reference&&t.reference!=="suffix"&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");const s=Xt[(t.scheme||n.scheme||"").toLowerCase()];if(!t.unicodeSupport&&(!s||!s.unicodeSupport)&&n.host&&(t.domainHost||s&&s.domainHost)&&o===!1&&ml(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(u){n.error=n.error||"Host's domain name can not be converted to ASCII: "+u}(!s||s&&!s.skipNormalize)&&(i&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),i&&n.host!==void 0&&(n.host=unescape(n.host)),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),s&&s.parse&&s.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}const Zt={SCHEMES:Xt,normalize:fl,resolve:dl,resolveComponents:Ro,equal:hl,serialize:Ee,parse:Ie};Tr.exports=Zt,Tr.exports.default=Zt,Tr.exports.fastUri=Zt;var gl=Tr.exports;Object.defineProperty(Jt,"__esModule",{value:!0});const Mo=gl;Mo.code='require("ajv/dist/runtime/uri").default',Jt.default=Mo,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=Or();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var t=U();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return t._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return t.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return t.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return t.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return t.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return t.CodeGen}});const n=Gt(),i=kr(),o=qe,a=le,s=U(),u=te,l=Q,f=R,h=Vc,_=Jt,p=(T,S)=>new RegExp(T,S);p.code="new RegExp";const v=["removeAdditional","useDefaults","coerceTypes"],$=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),m={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},d=200;function b(T){var S,j,P,c,g,N,M,F,H,K,w,E,I,A,q,z,oe,be,de,he,ae,ir,me,xn,qn;const vr=T.strict,Dn=(S=T.code)===null||S===void 0?void 0:S.optimize,ia=Dn===!0||Dn===void 0?1:Dn||0,oa=(P=(j=T.code)===null||j===void 0?void 0:j.regExp)!==null&&P!==void 0?P:p,od=(c=T.uriResolver)!==null&&c!==void 0?c:_.default;return{strictSchema:(N=(g=T.strictSchema)!==null&&g!==void 0?g:vr)!==null&&N!==void 0?N:!0,strictNumbers:(F=(M=T.strictNumbers)!==null&&M!==void 0?M:vr)!==null&&F!==void 0?F:!0,strictTypes:(K=(H=T.strictTypes)!==null&&H!==void 0?H:vr)!==null&&K!==void 0?K:"log",strictTuples:(E=(w=T.strictTuples)!==null&&w!==void 0?w:vr)!==null&&E!==void 0?E:"log",strictRequired:(A=(I=T.strictRequired)!==null&&I!==void 0?I:vr)!==null&&A!==void 0?A:!1,code:T.code?{...T.code,optimize:ia,regExp:oa}:{optimize:ia,regExp:oa},loopRequired:(q=T.loopRequired)!==null&&q!==void 0?q:d,loopEnum:(z=T.loopEnum)!==null&&z!==void 0?z:d,meta:(oe=T.meta)!==null&&oe!==void 0?oe:!0,messages:(be=T.messages)!==null&&be!==void 0?be:!0,inlineRefs:(de=T.inlineRefs)!==null&&de!==void 0?de:!0,schemaId:(he=T.schemaId)!==null&&he!==void 0?he:"$id",addUsedSchema:(ae=T.addUsedSchema)!==null&&ae!==void 0?ae:!0,validateSchema:(ir=T.validateSchema)!==null&&ir!==void 0?ir:!0,validateFormats:(me=T.validateFormats)!==null&&me!==void 0?me:!0,unicodeRegExp:(xn=T.unicodeRegExp)!==null&&xn!==void 0?xn:!0,int32range:(qn=T.int32range)!==null&&qn!==void 0?qn:!0,uriResolver:od}}class O{constructor(S={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,S=this.opts={...S,...b(S)};const{es5:j,lines:P}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:$,es5:j,lines:P}),this.logger=re(S.logger);const c=S.validateFormats;S.validateFormats=!1,this.RULES=(0,o.getRules)(),k.call(this,m,S,"NOT SUPPORTED"),k.call(this,y,S,"DEPRECATED","warn"),this._metaOpts=ee.call(this),S.formats&&L.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),S.keywords&&J.call(this,S.keywords),typeof S.meta=="object"&&this.addMetaSchema(S.meta),x.call(this),S.validateFormats=c}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:S,meta:j,schemaId:P}=this.opts;let c=h;P==="id"&&(c={...h},c.id=c.$id,delete c.$id),j&&S&&this.addMetaSchema(c,c[P],!1)}defaultMeta(){const{meta:S,schemaId:j}=this.opts;return this.opts.defaultMeta=typeof S=="object"?S[j]||S:void 0}validate(S,j){let P;if(typeof S=="string"){if(P=this.getSchema(S),!P)throw new Error(`no schema with key or ref "${S}"`)}else P=this.compile(S);const c=P(j);return"$async"in P||(this.errors=P.errors),c}compile(S,j){const P=this._addSchema(S,j);return P.validate||this._compileSchemaEnv(P)}compileAsync(S,j){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:P}=this.opts;return c.call(this,S,j);async function c(K,w){await g.call(this,K.$schema);const E=this._addSchema(K,w);return E.validate||N.call(this,E)}async function g(K){K&&!this.getSchema(K)&&await c.call(this,{$ref:K},!0)}async function N(K){try{return this._compileSchemaEnv(K)}catch(w){if(!(w instanceof i.default))throw w;return M.call(this,w),await F.call(this,w.missingSchema),N.call(this,K)}}function M({missingSchema:K,missingRef:w}){if(this.refs[K])throw new Error(`AnySchema ${K} is loaded but ${w} cannot be resolved`)}async function F(K){const w=await H.call(this,K);this.refs[K]||await g.call(this,w.$schema),this.refs[K]||this.addSchema(w,K,j)}async function H(K){const w=this._loading[K];if(w)return w;try{return await(this._loading[K]=P(K))}finally{delete this._loading[K]}}}addSchema(S,j,P,c=this.opts.validateSchema){if(Array.isArray(S)){for(const N of S)this.addSchema(N,void 0,P,c);return this}let g;if(typeof S=="object"){const{schemaId:N}=this.opts;if(g=S[N],g!==void 0&&typeof g!="string")throw new Error(`schema ${N} must be string`)}return j=(0,u.normalizeId)(j||g),this._checkUnique(j),this.schemas[j]=this._addSchema(S,P,j,c,!0),this}addMetaSchema(S,j,P=this.opts.validateSchema){return this.addSchema(S,j,!0,P),this}validateSchema(S,j){if(typeof S=="boolean")return!0;let P;if(P=S.$schema,P!==void 0&&typeof P!="string")throw new Error("$schema must be a string");if(P=P||this.opts.defaultMeta||this.defaultMeta(),!P)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const c=this.validate(P,S);if(!c&&j){const g="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(g);else throw new Error(g)}return c}getSchema(S){let j;for(;typeof(j=C.call(this,S))=="string";)S=j;if(j===void 0){const{schemaId:P}=this.opts,c=new a.SchemaEnv({schema:{},schemaId:P});if(j=a.resolveSchema.call(this,c,S),!j)return;this.refs[S]=j}return j.validate||this._compileSchemaEnv(j)}removeSchema(S){if(S instanceof RegExp)return this._removeAllSchemas(this.schemas,S),this._removeAllSchemas(this.refs,S),this;switch(typeof S){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const j=C.call(this,S);return typeof j=="object"&&this._cache.delete(j.schema),delete this.schemas[S],delete this.refs[S],this}case"object":{const j=S;this._cache.delete(j);let P=S[this.opts.schemaId];return P&&(P=(0,u.normalizeId)(P),delete this.schemas[P],delete this.refs[P]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(S){for(const j of S)this.addKeyword(j);return this}addKeyword(S,j){let P;if(typeof S=="string")P=S,typeof j=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),j.keyword=P);else if(typeof S=="object"&&j===void 0){if(j=S,P=j.keyword,Array.isArray(P)&&!P.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(W.call(this,P,j),!j)return(0,f.eachItem)(P,g=>ke.call(this,g)),this;tr.call(this,j);const c={...j,type:(0,l.getJSONTypes)(j.type),schemaType:(0,l.getJSONTypes)(j.schemaType)};return(0,f.eachItem)(P,c.type.length===0?g=>ke.call(this,g,c):g=>c.type.forEach(N=>ke.call(this,g,c,N))),this}getKeyword(S){const j=this.RULES.all[S];return typeof j=="object"?j.definition:!!j}removeKeyword(S){const{RULES:j}=this;delete j.keywords[S],delete j.all[S];for(const P of j.rules){const c=P.rules.findIndex(g=>g.keyword===S);c>=0&&P.rules.splice(c,1)}return this}addFormat(S,j){return typeof j=="string"&&(j=new RegExp(j)),this.formats[S]=j,this}errorsText(S=this.errors,{separator:j=", ",dataVar:P="data"}={}){return!S||S.length===0?"No errors":S.map(c=>`${P}${c.instancePath} ${c.message}`).reduce((c,g)=>c+j+g)}$dataMetaSchema(S,j){const P=this.RULES.all;S=JSON.parse(JSON.stringify(S));for(const c of j){const g=c.split("/").slice(1);let N=S;for(const M of g)N=N[M];for(const M in P){const F=P[M];if(typeof F!="object")continue;const{$data:H}=F.definition,K=N[M];H&&K&&(N[M]=nr(K))}}return S}_removeAllSchemas(S,j){for(const P in S){const c=S[P];(!j||j.test(P))&&(typeof c=="string"?delete S[P]:c&&!c.meta&&(this._cache.delete(c.schema),delete S[P]))}}_addSchema(S,j,P,c=this.opts.validateSchema,g=this.opts.addUsedSchema){let N;const{schemaId:M}=this.opts;if(typeof S=="object")N=S[M];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof S!="boolean")throw new Error("schema must be object or boolean")}let F=this._cache.get(S);if(F!==void 0)return F;P=(0,u.normalizeId)(N||P);const H=u.getSchemaRefs.call(this,S,P);return F=new a.SchemaEnv({schema:S,schemaId:M,meta:j,baseId:P,localRefs:H}),this._cache.set(F.schema,F),g&&!P.startsWith("#")&&(P&&this._checkUnique(P),this.refs[P]=F),c&&this.validateSchema(S,!0),F}_checkUnique(S){if(this.schemas[S]||this.refs[S])throw new Error(`schema with key or id "${S}" already exists`)}_compileSchemaEnv(S){if(S.meta?this._compileMetaSchema(S):a.compileSchema.call(this,S),!S.validate)throw new Error("ajv implementation error");return S.validate}_compileMetaSchema(S){const j=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,S)}finally{this.opts=j}}}O.ValidationError=n.default,O.MissingRefError=i.default,e.default=O;function k(T,S,j,P="error"){for(const c in T){const g=c;g in S&&this.logger[P](`${j}: option ${c}. ${T[g]}`)}}function C(T){return T=(0,u.normalizeId)(T),this.schemas[T]||this.refs[T]}function x(){const T=this.opts.schemas;if(T)if(Array.isArray(T))this.addSchema(T);else for(const S in T)this.addSchema(T[S],S)}function L(){for(const T in this.opts.formats){const S=this.opts.formats[T];S&&this.addFormat(T,S)}}function J(T){if(Array.isArray(T)){this.addVocabulary(T);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const S in T){const j=T[S];j.keyword||(j.keyword=S),this.addKeyword(j)}}function ee(){const T={...this.opts};for(const S of v)delete T[S];return T}const ie={log(){},warn(){},error(){}};function re(T){if(T===!1)return ie;if(T===void 0)return console;if(T.log&&T.warn&&T.error)return T;throw new Error("logger must implement log, warn and error methods")}const Y=/^[a-z_$][a-z0-9_$:-]*$/i;function W(T,S){const{RULES:j}=this;if((0,f.eachItem)(T,P=>{if(j.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!Y.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!S&&S.$data&&!("code"in S||"validate"in S))throw new Error('$data keyword must have "code" or "validate" function')}function ke(T,S,j){var P;const c=S==null?void 0:S.post;if(j&&c)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:g}=this;let N=c?g.post:g.rules.find(({type:F})=>F===j);if(N||(N={type:j,rules:[]},g.rules.push(N)),g.keywords[T]=!0,!S)return;const M={keyword:T,definition:{...S,type:(0,l.getJSONTypes)(S.type),schemaType:(0,l.getJSONTypes)(S.schemaType)}};S.before?ze.call(this,N,M,S.before):N.rules.push(M),g.all[T]=M,(P=S.implements)===null||P===void 0||P.forEach(F=>this.addKeyword(F))}function ze(T,S,j){const P=T.rules.findIndex(c=>c.keyword===j);P>=0?T.rules.splice(P,0,S):(T.rules.push(S),this.logger.warn(`rule ${j} is not defined`))}function tr(T){let{metaSchema:S}=T;S!==void 0&&(T.$data&&this.opts.$data&&(S=nr(S)),T.validateSchema=this.compile(S,!0))}const gr={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function nr(T){return{anyOf:[T,gr]}}}(Ki);var Qt={},en={},rn={};Object.defineProperty(rn,"__esModule",{value:!0});const vl={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};rn.default=vl;var Fe={};Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.callRef=Fe.getValidate=void 0;const _l=kr(),xo=ge(),fe=U(),Xe=Te(),qo=le,Mr=R,$l={keyword:"$ref",schemaType:"string",code(e){const{gen:r,schema:t,it:n}=e,{baseId:i,schemaEnv:o,validateName:a,opts:s,self:u}=n,{root:l}=o;if((t==="#"||t==="#/")&&i===l.baseId)return h();const f=qo.resolveRef.call(u,l,i,t);if(f===void 0)throw new _l.default(n.opts.uriResolver,i,t);if(f instanceof qo.SchemaEnv)return _(f);return p(f);function h(){if(o===l)return xr(e,a,o,o.$async);const v=r.scopeValue("root",{ref:l});return xr(e,(0,fe._)`${v}.validate`,l,l.$async)}function _(v){const $=Do(e,v);xr(e,$,v,v.$async)}function p(v){const $=r.scopeValue("schema",s.code.source===!0?{ref:v,code:(0,fe.stringify)(v)}:{ref:v}),m=r.name("valid"),y=e.subschema({schema:v,dataTypes:[],schemaPath:fe.nil,topSchemaRef:$,errSchemaPath:t},m);e.mergeEvaluated(y),e.ok(m)}}};function Do(e,r){const{gen:t}=e;return r.validate?t.scopeValue("validate",{ref:r.validate}):(0,fe._)`${t.scopeValue("wrapper",{ref:r})}.validate`}Fe.getValidate=Do;function xr(e,r,t,n){const{gen:i,it:o}=e,{allErrors:a,schemaEnv:s,opts:u}=o,l=u.passContext?Xe.default.this:fe.nil;n?f():h();function f(){if(!s.$async)throw new Error("async schema referenced by sync schema");const v=i.let("valid");i.try(()=>{i.code((0,fe._)`await ${(0,xo.callValidateCode)(e,r,l)}`),p(r),a||i.assign(v,!0)},$=>{i.if((0,fe._)`!(${$} instanceof ${o.ValidationError})`,()=>i.throw($)),_($),a||i.assign(v,!1)}),e.ok(v)}function h(){e.result((0,xo.callValidateCode)(e,r,l),()=>p(r),()=>_(r))}function _(v){const $=(0,fe._)`${v}.errors`;i.assign(Xe.default.vErrors,(0,fe._)`${Xe.default.vErrors} === null ? ${$} : ${Xe.default.vErrors}.concat(${$})`),i.assign(Xe.default.errors,(0,fe._)`${Xe.default.vErrors}.length`)}function p(v){var $;if(!o.opts.unevaluated)return;const m=($=t==null?void 0:t.validate)===null||$===void 0?void 0:$.evaluated;if(o.props!==!0)if(m&&!m.dynamicProps)m.props!==void 0&&(o.props=Mr.mergeEvaluated.props(i,m.props,o.props));else{const y=i.var("props",(0,fe._)`${v}.evaluated.props`);o.props=Mr.mergeEvaluated.props(i,y,o.props,fe.Name)}if(o.items!==!0)if(m&&!m.dynamicItems)m.items!==void 0&&(o.items=Mr.mergeEvaluated.items(i,m.items,o.items));else{const y=i.var("items",(0,fe._)`${v}.evaluated.items`);o.items=Mr.mergeEvaluated.items(i,y,o.items,fe.Name)}}}Fe.callRef=xr,Fe.default=$l,Object.defineProperty(en,"__esModule",{value:!0});const bl=rn,wl=Fe,Sl=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",bl.default,wl.default];en.default=Sl;var tn={},nn={};Object.defineProperty(nn,"__esModule",{value:!0});const qr=U(),Re=qr.operators,Dr={maximum:{okStr:"<=",ok:Re.LTE,fail:Re.GT},minimum:{okStr:">=",ok:Re.GTE,fail:Re.LT},exclusiveMaximum:{okStr:"<",ok:Re.LT,fail:Re.GTE},exclusiveMinimum:{okStr:">",ok:Re.GT,fail:Re.LTE}},El={message:({keyword:e,schemaCode:r})=>(0,qr.str)`must be ${Dr[e].okStr} ${r}`,params:({keyword:e,schemaCode:r})=>(0,qr._)`{comparison: ${Dr[e].okStr}, limit: ${r}}`},Pl={keyword:Object.keys(Dr),type:"number",schemaType:"number",$data:!0,error:El,code(e){const{keyword:r,data:t,schemaCode:n}=e;e.fail$data((0,qr._)`${t} ${Dr[r].fail} ${n} || isNaN(${t})`)}};nn.default=Pl;var on={};Object.defineProperty(on,"__esModule",{value:!0});const lr=U(),Ol={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>(0,lr.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,lr._)`{multipleOf: ${e}}`},code(e){const{gen:r,data:t,schemaCode:n,it:i}=e,o=i.opts.multipleOfPrecision,a=r.let("res"),s=o?(0,lr._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,lr._)`${a} !== parseInt(${a})`;e.fail$data((0,lr._)`(${n} === 0 || (${a} = ${t}/${n}, ${s}))`)}};on.default=Ol;var an={},sn={};Object.defineProperty(sn,"__esModule",{value:!0});function Fo(e){const r=e.length;let t=0,n=0,i;for(;n<r;)t++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<r&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return t}sn.default=Fo,Fo.code='require("ajv/dist/runtime/ucs2length").default',Object.defineProperty(an,"__esModule",{value:!0});const Ve=U(),Nl=R,Il=sn,kl={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:r}){const t=e==="maxLength"?"more":"fewer";return(0,Ve.str)`must NOT have ${t} than ${r} characters`},params:({schemaCode:e})=>(0,Ve._)`{limit: ${e}}`},code(e){const{keyword:r,data:t,schemaCode:n,it:i}=e,o=r==="maxLength"?Ve.operators.GT:Ve.operators.LT,a=i.opts.unicode===!1?(0,Ve._)`${t}.length`:(0,Ve._)`${(0,Nl.useFunc)(e.gen,Il.default)}(${t})`;e.fail$data((0,Ve._)`${a} ${o} ${n}`)}};an.default=kl;var un={};Object.defineProperty(un,"__esModule",{value:!0});const jl=ge(),Fr=U(),Al={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,Fr.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Fr._)`{pattern: ${e}}`},code(e){const{data:r,$data:t,schema:n,schemaCode:i,it:o}=e,a=o.opts.unicodeRegExp?"u":"",s=t?(0,Fr._)`(new RegExp(${i}, ${a}))`:(0,jl.usePattern)(e,n);e.fail$data((0,Fr._)`!${s}.test(${r})`)}};un.default=Al;var cn={};Object.defineProperty(cn,"__esModule",{value:!0});const fr=U(),Tl={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:r}){const t=e==="maxProperties"?"more":"fewer";return(0,fr.str)`must NOT have ${t} than ${r} properties`},params:({schemaCode:e})=>(0,fr._)`{limit: ${e}}`},code(e){const{keyword:r,data:t,schemaCode:n}=e,i=r==="maxProperties"?fr.operators.GT:fr.operators.LT;e.fail$data((0,fr._)`Object.keys(${t}).length ${i} ${n}`)}};cn.default=Tl;var ln={};Object.defineProperty(ln,"__esModule",{value:!0});const dr=ge(),hr=U(),Cl=R,Rl={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>(0,hr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,hr._)`{missingProperty: ${e}}`},code(e){const{gen:r,schema:t,schemaCode:n,data:i,$data:o,it:a}=e,{opts:s}=a;if(!o&&t.length===0)return;const u=t.length>=s.loopRequired;if(a.allErrors?l():f(),s.strictRequired){const p=e.parentSchema.properties,{definedProperties:v}=e.it;for(const $ of t)if((p==null?void 0:p[$])===void 0&&!v.has($)){const m=a.schemaEnv.baseId+a.errSchemaPath,y=`required property "${$}" is not defined at "${m}" (strictRequired)`;(0,Cl.checkStrictMode)(a,y,a.opts.strictRequired)}}function l(){if(u||o)e.block$data(hr.nil,h);else for(const p of t)(0,dr.checkReportMissingProp)(e,p)}function f(){const p=r.let("missing");if(u||o){const v=r.let("valid",!0);e.block$data(v,()=>_(p,v)),e.ok(v)}else r.if((0,dr.checkMissingProp)(e,t,p)),(0,dr.reportMissingProp)(e,p),r.else()}function h(){r.forOf("prop",n,p=>{e.setParams({missingProperty:p}),r.if((0,dr.noPropertyInData)(r,i,p,s.ownProperties),()=>e.error())})}function _(p,v){e.setParams({missingProperty:p}),r.forOf(p,n,()=>{r.assign(v,(0,dr.propertyInData)(r,i,p,s.ownProperties)),r.if((0,hr.not)(v),()=>{e.error(),r.break()})},hr.nil)}}};ln.default=Rl;var fn={};Object.defineProperty(fn,"__esModule",{value:!0});const pr=U(),Ml={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:r}){const t=e==="maxItems"?"more":"fewer";return(0,pr.str)`must NOT have ${t} than ${r} items`},params:({schemaCode:e})=>(0,pr._)`{limit: ${e}}`},code(e){const{keyword:r,data:t,schemaCode:n}=e,i=r==="maxItems"?pr.operators.GT:pr.operators.LT;e.fail$data((0,pr._)`${t}.length ${i} ${n}`)}};fn.default=Ml;var dn={},mr={};Object.defineProperty(mr,"__esModule",{value:!0});const Vo=ho;Vo.code='require("ajv/dist/runtime/equal").default',mr.default=Vo,Object.defineProperty(dn,"__esModule",{value:!0});const hn=Q,ne=U(),xl=R,ql=mr,Dl={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:r}})=>(0,ne.str)`must NOT have duplicate items (items ## ${r} and ${e} are identical)`,params:({params:{i:e,j:r}})=>(0,ne._)`{i: ${e}, j: ${r}}`},code(e){const{gen:r,data:t,$data:n,schema:i,parentSchema:o,schemaCode:a,it:s}=e;if(!n&&!i)return;const u=r.let("valid"),l=o.items?(0,hn.getSchemaTypes)(o.items):[];e.block$data(u,f,(0,ne._)`${a} === false`),e.ok(u);function f(){const v=r.let("i",(0,ne._)`${t}.length`),$=r.let("j");e.setParams({i:v,j:$}),r.assign(u,!0),r.if((0,ne._)`${v} > 1`,()=>(h()?_:p)(v,$))}function h(){return l.length>0&&!l.some(v=>v==="object"||v==="array")}function _(v,$){const m=r.name("item"),y=(0,hn.checkDataTypes)(l,m,s.opts.strictNumbers,hn.DataType.Wrong),d=r.const("indices",(0,ne._)`{}`);r.for((0,ne._)`;${v}--;`,()=>{r.let(m,(0,ne._)`${t}[${v}]`),r.if(y,(0,ne._)`continue`),l.length>1&&r.if((0,ne._)`typeof ${m} == "string"`,(0,ne._)`${m} += "_"`),r.if((0,ne._)`typeof ${d}[${m}] == "number"`,()=>{r.assign($,(0,ne._)`${d}[${m}]`),e.error(),r.assign(u,!1).break()}).code((0,ne._)`${d}[${m}] = ${v}`)})}function p(v,$){const m=(0,xl.useFunc)(r,ql.default),y=r.name("outer");r.label(y).for((0,ne._)`;${v}--;`,()=>r.for((0,ne._)`${$} = ${v}; ${$}--;`,()=>r.if((0,ne._)`${m}(${t}[${v}], ${t}[${$}])`,()=>{e.error(),r.assign(u,!1).break(y)})))}}};dn.default=Dl;var pn={};Object.defineProperty(pn,"__esModule",{value:!0});const mn=U(),Fl=R,Vl=mr,Ll={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>(0,mn._)`{allowedValue: ${e}}`},code(e){const{gen:r,data:t,$data:n,schemaCode:i,schema:o}=e;n||o&&typeof o=="object"?e.fail$data((0,mn._)`!${(0,Fl.useFunc)(r,Vl.default)}(${t}, ${i})`):e.fail((0,mn._)`${o} !== ${t}`)}};pn.default=Ll;var yn={};Object.defineProperty(yn,"__esModule",{value:!0});const yr=U(),zl=R,Ul=mr,Kl={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,yr._)`{allowedValues: ${e}}`},code(e){const{gen:r,data:t,$data:n,schema:i,schemaCode:o,it:a}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const s=i.length>=a.opts.loopEnum;let u;const l=()=>u??(u=(0,zl.useFunc)(r,Ul.default));let f;if(s||n)f=r.let("valid"),e.block$data(f,h);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const p=r.const("vSchema",o);f=(0,yr.or)(...i.map((v,$)=>_(p,$)))}e.pass(f);function h(){r.assign(f,!1),r.forOf("v",o,p=>r.if((0,yr._)`${l()}(${t}, ${p})`,()=>r.assign(f,!0).break()))}function _(p,v){const $=i[v];return typeof $=="object"&&$!==null?(0,yr._)`${l()}(${t}, ${p}[${v}])`:(0,yr._)`${t} === ${$}`}}};yn.default=Kl,Object.defineProperty(tn,"__esModule",{value:!0});const Hl=nn,Gl=on,Bl=an,Yl=un,Jl=cn,Wl=ln,Xl=fn,Zl=dn,Ql=pn,ef=yn,rf=[Hl.default,Gl.default,Bl.default,Yl.default,Jl.default,Wl.default,Xl.default,Zl.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Ql.default,ef.default];tn.default=rf;var gn={},Ze={};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.validateAdditionalItems=void 0;const Le=U(),vn=R,tf={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,Le.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Le._)`{limit: ${e}}`},code(e){const{parentSchema:r,it:t}=e,{items:n}=r;if(!Array.isArray(n)){(0,vn.checkStrictMode)(t,'"additionalItems" is ignored when "items" is not an array of schemas');return}Lo(e,n)}};function Lo(e,r){const{gen:t,schema:n,data:i,keyword:o,it:a}=e;a.items=!0;const s=t.const("len",(0,Le._)`${i}.length`);if(n===!1)e.setParams({len:r.length}),e.pass((0,Le._)`${s} <= ${r.length}`);else if(typeof n=="object"&&!(0,vn.alwaysValidSchema)(a,n)){const l=t.var("valid",(0,Le._)`${s} <= ${r.length}`);t.if((0,Le.not)(l),()=>u(l)),e.ok(l)}function u(l){t.forRange("i",r.length,s,f=>{e.subschema({keyword:o,dataProp:f,dataPropType:vn.Type.Num},l),a.allErrors||t.if((0,Le.not)(l),()=>t.break())})}}Ze.validateAdditionalItems=Lo,Ze.default=tf;var _n={},Qe={};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.validateTuple=void 0;const zo=U(),Vr=R,nf=ge(),of={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:r,it:t}=e;if(Array.isArray(r))return Uo(e,"additionalItems",r);t.items=!0,!(0,Vr.alwaysValidSchema)(t,r)&&e.ok((0,nf.validateArray)(e))}};function Uo(e,r,t=e.schema){const{gen:n,parentSchema:i,data:o,keyword:a,it:s}=e;f(i),s.opts.unevaluated&&t.length&&s.items!==!0&&(s.items=Vr.mergeEvaluated.items(n,t.length,s.items));const u=n.name("valid"),l=n.const("len",(0,zo._)`${o}.length`);t.forEach((h,_)=>{(0,Vr.alwaysValidSchema)(s,h)||(n.if((0,zo._)`${l} > ${_}`,()=>e.subschema({keyword:a,schemaProp:_,dataProp:_},u)),e.ok(u))});function f(h){const{opts:_,errSchemaPath:p}=s,v=t.length,$=v===h.minItems&&(v===h.maxItems||h[r]===!1);if(_.strictTuples&&!$){const m=`"${a}" is ${v}-tuple, but minItems or maxItems/${r} are not specified or different at path "${p}"`;(0,Vr.checkStrictMode)(s,m,_.strictTuples)}}}Qe.validateTuple=Uo,Qe.default=of,Object.defineProperty(_n,"__esModule",{value:!0});const af=Qe,sf={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,af.validateTuple)(e,"items")};_n.default=sf;var $n={};Object.defineProperty($n,"__esModule",{value:!0});const Ko=U(),uf=R,cf=ge(),lf=Ze,ff={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,Ko.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Ko._)`{limit: ${e}}`},code(e){const{schema:r,parentSchema:t,it:n}=e,{prefixItems:i}=t;n.items=!0,!(0,uf.alwaysValidSchema)(n,r)&&(i?(0,lf.validateAdditionalItems)(e,i):e.ok((0,cf.validateArray)(e)))}};$n.default=ff;var bn={};Object.defineProperty(bn,"__esModule",{value:!0});const pe=U(),Lr=R,df={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:r}})=>r===void 0?(0,pe.str)`must contain at least ${e} valid item(s)`:(0,pe.str)`must contain at least ${e} and no more than ${r} valid item(s)`,params:({params:{min:e,max:r}})=>r===void 0?(0,pe._)`{minContains: ${e}}`:(0,pe._)`{minContains: ${e}, maxContains: ${r}}`},code(e){const{gen:r,schema:t,parentSchema:n,data:i,it:o}=e;let a,s;const{minContains:u,maxContains:l}=n;o.opts.next?(a=u===void 0?1:u,s=l):a=1;const f=r.const("len",(0,pe._)`${i}.length`);if(e.setParams({min:a,max:s}),s===void 0&&a===0){(0,Lr.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,Lr.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Lr.alwaysValidSchema)(o,t)){let $=(0,pe._)`${f} >= ${a}`;s!==void 0&&($=(0,pe._)`${$} && ${f} <= ${s}`),e.pass($);return}o.items=!0;const h=r.name("valid");s===void 0&&a===1?p(h,()=>r.if(h,()=>r.break())):a===0?(r.let(h,!0),s!==void 0&&r.if((0,pe._)`${i}.length > 0`,_)):(r.let(h,!1),_()),e.result(h,()=>e.reset());function _(){const $=r.name("_valid"),m=r.let("count",0);p($,()=>r.if($,()=>v(m)))}function p($,m){r.forRange("i",0,f,y=>{e.subschema({keyword:"contains",dataProp:y,dataPropType:Lr.Type.Num,compositeRule:!0},$),m()})}function v($){r.code((0,pe._)`${$}++`),s===void 0?r.if((0,pe._)`${$} >= ${a}`,()=>r.assign(h,!0).break()):(r.if((0,pe._)`${$} > ${s}`,()=>r.assign(h,!1).break()),a===1?r.assign(h,!0):r.if((0,pe._)`${$} >= ${a}`,()=>r.assign(h,!0)))}}};bn.default=df;var Ho={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const r=U(),t=R,n=ge();e.error={message:({params:{property:u,depsCount:l,deps:f}})=>{const h=l===1?"property":"properties";return(0,r.str)`must have ${h} ${f} when property ${u} is present`},params:({params:{property:u,depsCount:l,deps:f,missingProperty:h}})=>(0,r._)`{property: ${u},
    missingProperty: ${h},
    depsCount: ${l},
    deps: ${f}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[l,f]=o(u);a(u,l),s(u,f)}};function o({schema:u}){const l={},f={};for(const h in u){if(h==="__proto__")continue;const _=Array.isArray(u[h])?l:f;_[h]=u[h]}return[l,f]}function a(u,l=u.schema){const{gen:f,data:h,it:_}=u;if(Object.keys(l).length===0)return;const p=f.let("missing");for(const v in l){const $=l[v];if($.length===0)continue;const m=(0,n.propertyInData)(f,h,v,_.opts.ownProperties);u.setParams({property:v,depsCount:$.length,deps:$.join(", ")}),_.allErrors?f.if(m,()=>{for(const y of $)(0,n.checkReportMissingProp)(u,y)}):(f.if((0,r._)`${m} && (${(0,n.checkMissingProp)(u,$,p)})`),(0,n.reportMissingProp)(u,p),f.else())}}e.validatePropertyDeps=a;function s(u,l=u.schema){const{gen:f,data:h,keyword:_,it:p}=u,v=f.name("valid");for(const $ in l)(0,t.alwaysValidSchema)(p,l[$])||(f.if((0,n.propertyInData)(f,h,$,p.opts.ownProperties),()=>{const m=u.subschema({keyword:_,schemaProp:$},v);u.mergeValidEvaluated(m,v)},()=>f.var(v,!0)),u.ok(v))}e.validateSchemaDeps=s,e.default=i})(Ho);var wn={};Object.defineProperty(wn,"__esModule",{value:!0});const Go=U(),hf=R,pf={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>(0,Go._)`{propertyName: ${e.propertyName}}`},code(e){const{gen:r,schema:t,data:n,it:i}=e;if((0,hf.alwaysValidSchema)(i,t))return;const o=r.name("valid");r.forIn("key",n,a=>{e.setParams({propertyName:a}),e.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),r.if((0,Go.not)(o),()=>{e.error(!0),i.allErrors||r.break()})}),e.ok(o)}};wn.default=pf;var zr={};Object.defineProperty(zr,"__esModule",{value:!0});const Ur=ge(),$e=U(),mf=Te(),Kr=R,yf={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>(0,$e._)`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:r,schema:t,parentSchema:n,data:i,errsCount:o,it:a}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:s,opts:u}=a;if(a.props=!0,u.removeAdditional!=="all"&&(0,Kr.alwaysValidSchema)(a,t))return;const l=(0,Ur.allSchemaProperties)(n.properties),f=(0,Ur.allSchemaProperties)(n.patternProperties);h(),e.ok((0,$e._)`${o} === ${mf.default.errors}`);function h(){r.forIn("key",i,m=>{!l.length&&!f.length?v(m):r.if(_(m),()=>v(m))})}function _(m){let y;if(l.length>8){const d=(0,Kr.schemaRefOrVal)(a,n.properties,"properties");y=(0,Ur.isOwnProperty)(r,d,m)}else l.length?y=(0,$e.or)(...l.map(d=>(0,$e._)`${m} === ${d}`)):y=$e.nil;return f.length&&(y=(0,$e.or)(y,...f.map(d=>(0,$e._)`${(0,Ur.usePattern)(e,d)}.test(${m})`))),(0,$e.not)(y)}function p(m){r.code((0,$e._)`delete ${i}[${m}]`)}function v(m){if(u.removeAdditional==="all"||u.removeAdditional&&t===!1){p(m);return}if(t===!1){e.setParams({additionalProperty:m}),e.error(),s||r.break();return}if(typeof t=="object"&&!(0,Kr.alwaysValidSchema)(a,t)){const y=r.name("valid");u.removeAdditional==="failing"?($(m,y,!1),r.if((0,$e.not)(y),()=>{e.reset(),p(m)})):($(m,y),s||r.if((0,$e.not)(y),()=>r.break()))}}function $(m,y,d){const b={keyword:"additionalProperties",dataProp:m,dataPropType:Kr.Type.Str};d===!1&&Object.assign(b,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(b,y)}}};zr.default=yf;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});const gf=Or(),Bo=ge(),En=R,Yo=zr,vf={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:r,schema:t,parentSchema:n,data:i,it:o}=e;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Yo.default.code(new gf.KeywordCxt(o,Yo.default,"additionalProperties"));const a=(0,Bo.allSchemaProperties)(t);for(const h of a)o.definedProperties.add(h);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=En.mergeEvaluated.props(r,(0,En.toHash)(a),o.props));const s=a.filter(h=>!(0,En.alwaysValidSchema)(o,t[h]));if(s.length===0)return;const u=r.name("valid");for(const h of s)l(h)?f(h):(r.if((0,Bo.propertyInData)(r,i,h,o.opts.ownProperties)),f(h),o.allErrors||r.else().var(u,!0),r.endIf()),e.it.definedProperties.add(h),e.ok(u);function l(h){return o.opts.useDefaults&&!o.compositeRule&&t[h].default!==void 0}function f(h){e.subschema({keyword:"properties",schemaProp:h,dataProp:h},u)}}};Sn.default=vf;var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});const Jo=ge(),Hr=U(),Wo=R,Xo=R,_f={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:r,schema:t,data:n,parentSchema:i,it:o}=e,{opts:a}=o,s=(0,Jo.allSchemaProperties)(t),u=s.filter($=>(0,Wo.alwaysValidSchema)(o,t[$]));if(s.length===0||u.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;const l=a.strictSchema&&!a.allowMatchingProperties&&i.properties,f=r.name("valid");o.props!==!0&&!(o.props instanceof Hr.Name)&&(o.props=(0,Xo.evaluatedPropsToName)(r,o.props));const{props:h}=o;_();function _(){for(const $ of s)l&&p($),o.allErrors?v($):(r.var(f,!0),v($),r.if(f))}function p($){for(const m in l)new RegExp($).test(m)&&(0,Wo.checkStrictMode)(o,`property ${m} matches pattern ${$} (use allowMatchingProperties)`)}function v($){r.forIn("key",n,m=>{r.if((0,Hr._)`${(0,Jo.usePattern)(e,$)}.test(${m})`,()=>{const y=u.includes($);y||e.subschema({keyword:"patternProperties",schemaProp:$,dataProp:m,dataPropType:Xo.Type.Str},f),o.opts.unevaluated&&h!==!0?r.assign((0,Hr._)`${h}[${m}]`,!0):!y&&!o.allErrors&&r.if((0,Hr.not)(f),()=>r.break())})})}}};Pn.default=_f;var On={};Object.defineProperty(On,"__esModule",{value:!0});const $f=R,bf={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:r,schema:t,it:n}=e;if((0,$f.alwaysValidSchema)(n,t)){e.fail();return}const i=r.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};On.default=bf;var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});const wf={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:ge().validateUnion,error:{message:"must match a schema in anyOf"}};Nn.default=wf;var In={};Object.defineProperty(In,"__esModule",{value:!0});const Gr=U(),Sf=R,Ef={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Gr._)`{passingSchemas: ${e.passing}}`},code(e){const{gen:r,schema:t,parentSchema:n,it:i}=e;if(!Array.isArray(t))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const o=t,a=r.let("valid",!1),s=r.let("passing",null),u=r.name("_valid");e.setParams({passing:s}),r.block(l),e.result(a,()=>e.reset(),()=>e.error(!0));function l(){o.forEach((f,h)=>{let _;(0,Sf.alwaysValidSchema)(i,f)?r.var(u,!0):_=e.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},u),h>0&&r.if((0,Gr._)`${u} && ${a}`).assign(a,!1).assign(s,(0,Gr._)`[${s}, ${h}]`).else(),r.if(u,()=>{r.assign(a,!0),r.assign(s,h),_&&e.mergeEvaluated(_,Gr.Name)})})}}};In.default=Ef;var kn={};Object.defineProperty(kn,"__esModule",{value:!0});const Pf=R,Of={keyword:"allOf",schemaType:"array",code(e){const{gen:r,schema:t,it:n}=e;if(!Array.isArray(t))throw new Error("ajv implementation error");const i=r.name("valid");t.forEach((o,a)=>{if((0,Pf.alwaysValidSchema)(n,o))return;const s=e.subschema({keyword:"allOf",schemaProp:a},i);e.ok(i),e.mergeEvaluated(s)})}};kn.default=Of;var jn={};Object.defineProperty(jn,"__esModule",{value:!0});const Br=U(),Zo=R,Nf={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>(0,Br.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Br._)`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:r,parentSchema:t,it:n}=e;t.then===void 0&&t.else===void 0&&(0,Zo.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=Qo(n,"then"),o=Qo(n,"else");if(!i&&!o)return;const a=r.let("valid",!0),s=r.name("_valid");if(u(),e.reset(),i&&o){const f=r.let("ifClause");e.setParams({ifClause:f}),r.if(s,l("then",f),l("else",f))}else i?r.if(s,l("then")):r.if((0,Br.not)(s),l("else"));e.pass(a,()=>e.error(!0));function u(){const f=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);e.mergeEvaluated(f)}function l(f,h){return()=>{const _=e.subschema({keyword:f},s);r.assign(a,s),e.mergeValidEvaluated(_,a),h?r.assign(h,(0,Br._)`${f}`):e.setParams({ifClause:f})}}}};function Qo(e,r){const t=e.schema[r];return t!==void 0&&!(0,Zo.alwaysValidSchema)(e,t)}jn.default=Nf;var An={};Object.defineProperty(An,"__esModule",{value:!0});const If=R,kf={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:r,it:t}){r.if===void 0&&(0,If.checkStrictMode)(t,`"${e}" without "if" is ignored`)}};An.default=kf,Object.defineProperty(gn,"__esModule",{value:!0});const jf=Ze,Af=_n,Tf=Qe,Cf=$n,Rf=bn,Mf=Ho,xf=wn,qf=zr,Df=Sn,Ff=Pn,Vf=On,Lf=Nn,zf=In,Uf=kn,Kf=jn,Hf=An;function Gf(e=!1){const r=[Vf.default,Lf.default,zf.default,Uf.default,Kf.default,Hf.default,xf.default,qf.default,Mf.default,Df.default,Ff.default];return e?r.push(Af.default,Cf.default):r.push(jf.default,Tf.default),r.push(Rf.default),r}gn.default=Gf;var Tn={},Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});const X=U(),Bf={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,X.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,X._)`{format: ${e}}`},code(e,r){const{gen:t,data:n,$data:i,schema:o,schemaCode:a,it:s}=e,{opts:u,errSchemaPath:l,schemaEnv:f,self:h}=s;if(!u.validateFormats)return;i?_():p();function _(){const v=t.scopeValue("formats",{ref:h.formats,code:u.code.formats}),$=t.const("fDef",(0,X._)`${v}[${a}]`),m=t.let("fType"),y=t.let("format");t.if((0,X._)`typeof ${$} == "object" && !(${$} instanceof RegExp)`,()=>t.assign(m,(0,X._)`${$}.type || "string"`).assign(y,(0,X._)`${$}.validate`),()=>t.assign(m,(0,X._)`"string"`).assign(y,$)),e.fail$data((0,X.or)(d(),b()));function d(){return u.strictSchema===!1?X.nil:(0,X._)`${a} && !${y}`}function b(){const O=f.$async?(0,X._)`(${$}.async ? await ${y}(${n}) : ${y}(${n}))`:(0,X._)`${y}(${n})`,k=(0,X._)`(typeof ${y} == "function" ? ${O} : ${y}.test(${n}))`;return(0,X._)`${y} && ${y} !== true && ${m} === ${r} && !${k}`}}function p(){const v=h.formats[o];if(!v){d();return}if(v===!0)return;const[$,m,y]=b(v);$===r&&e.pass(O());function d(){if(u.strictSchema===!1){h.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${o}" ignored in schema at path "${l}"`}}function b(k){const C=k instanceof RegExp?(0,X.regexpCode)(k):u.code.formats?(0,X._)`${u.code.formats}${(0,X.getProperty)(o)}`:void 0,x=t.scopeValue("formats",{key:o,ref:k,code:C});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,X._)`${x}.validate`]:["string",k,x]}function O(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!f.$async)throw new Error("async format in sync schema");return(0,X._)`await ${y}(${n})`}return typeof m=="function"?(0,X._)`${y}(${n})`:(0,X._)`${y}.test(${n})`}}}};Cn.default=Bf,Object.defineProperty(Tn,"__esModule",{value:!0});const Yf=[Cn.default];Tn.default=Yf;var er={};Object.defineProperty(er,"__esModule",{value:!0}),er.contentVocabulary=er.metadataVocabulary=void 0,er.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],er.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"],Object.defineProperty(Qt,"__esModule",{value:!0});const Jf=en,Wf=tn,Xf=gn,Zf=Tn,ea=er,Qf=[Jf.default,Wf.default,(0,Xf.default)(),Zf.default,ea.metadataVocabulary,ea.contentVocabulary];Qt.default=Qf;var Rn={},Yr={};Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.DiscrError=void 0;var ra;(function(e){e.Tag="tag",e.Mapping="mapping"})(ra||(Yr.DiscrError=ra={})),Object.defineProperty(Rn,"__esModule",{value:!0});const rr=U(),Mn=Yr,ta=le,ed=kr(),rd=R,td={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:r}})=>e===Mn.DiscrError.Tag?`tag "${r}" must be string`:`value of tag "${r}" must be in oneOf`,params:({params:{discrError:e,tag:r,tagName:t}})=>(0,rr._)`{error: ${e}, tag: ${t}, tagValue: ${r}}`},code(e){const{gen:r,data:t,schema:n,parentSchema:i,it:o}=e,{oneOf:a}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const s=n.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const u=r.let("valid",!1),l=r.const("tag",(0,rr._)`${t}${(0,rr.getProperty)(s)}`);r.if((0,rr._)`typeof ${l} == "string"`,()=>f(),()=>e.error(!1,{discrError:Mn.DiscrError.Tag,tag:l,tagName:s})),e.ok(u);function f(){const p=_();r.if(!1);for(const v in p)r.elseIf((0,rr._)`${l} === ${v}`),r.assign(u,h(p[v]));r.else(),e.error(!1,{discrError:Mn.DiscrError.Mapping,tag:l,tagName:s}),r.endIf()}function h(p){const v=r.name("valid"),$=e.subschema({keyword:"oneOf",schemaProp:p},v);return e.mergeEvaluated($,rr.Name),v}function _(){var p;const v={},$=y(i);let m=!0;for(let O=0;O<a.length;O++){let k=a[O];if(k!=null&&k.$ref&&!(0,rd.schemaHasRulesButRef)(k,o.self.RULES)){const x=k.$ref;if(k=ta.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,x),k instanceof ta.SchemaEnv&&(k=k.schema),k===void 0)throw new ed.default(o.opts.uriResolver,o.baseId,x)}const C=(p=k==null?void 0:k.properties)===null||p===void 0?void 0:p[s];if(typeof C!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);m=m&&($||y(k)),d(C,O)}if(!m)throw new Error(`discriminator: "${s}" must be required`);return v;function y({required:O}){return Array.isArray(O)&&O.includes(s)}function d(O,k){if(O.const)b(O.const,k);else if(O.enum)for(const C of O.enum)b(C,k);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function b(O,k){if(typeof O!="string"||O in v)throw new Error(`discriminator: "${s}" values must be unique strings`);v[O]=k}}}};Rn.default=td;var nd={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MissingRefError=r.ValidationError=r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=r.Ajv=void 0;const t=Ki,n=Qt,i=Rn,o=nd,a=["/properties"],s="http://json-schema.org/draft-07/schema";class u extends t.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const v=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(v,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}r.Ajv=u,e.exports=r=u,e.exports.Ajv=u,Object.defineProperty(r,"__esModule",{value:!0}),r.default=u;var l=Or();Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var f=U();Object.defineProperty(r,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var h=Gt();Object.defineProperty(r,"ValidationError",{enumerable:!0,get:function(){return h.default}});var _=kr();Object.defineProperty(r,"MissingRefError",{enumerable:!0,get:function(){return _.default}})})(xt,xt.exports);var na=xt.exports,id=Js(na);onmessage=Gu(async e=>{try{const r=Bs(e.data.content);if(e.data.schema){const n=new id({strict:!1}).compile(e.data.schema);if(!n(r))return console.log(JSON.stringify(n.errors,null,2)),{error:new na.ValidationError(n.errors)}}return{result:r}}catch(r){if(r instanceof Ys)return{error:r};throw r}})})();
