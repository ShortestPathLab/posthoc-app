(function(){"use strict";/*! js-yaml 4.1.1 https://github.com/nodeca/js-yaml @license MIT */function qn(e){return typeof e>"u"||e===null}function na(e){return typeof e=="object"&&e!==null}function ia(e){return Array.isArray(e)?e:qn(e)?[]:[e]}function oa(e,r){var t,n,i,o;if(r)for(o=Object.keys(r),t=0,n=o.length;t<n;t+=1)i=o[t],e[i]=r[i];return e}function aa(e,r){var t="",n;for(n=0;n<r;n+=1)t+=e;return t}function sa(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var ca=qn,ua=na,la=ia,fa=aa,da=sa,ha=oa,ce={isNothing:ca,isObject:ua,toArray:la,repeat:fa,isNegativeZero:da,extend:ha};function Fn(e,r){var t="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(t+='in "'+e.mark.name+'" '),t+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!r&&e.mark.snippet&&(t+=`

`+e.mark.snippet),n+" "+t):n}function ir(e,r){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=r,this.message=Fn(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ir.prototype=Object.create(Error.prototype),ir.prototype.constructor=ir,ir.prototype.toString=function(r){return this.name+": "+Fn(this,r)};var we=ir;function Qr(e,r,t,n,i){var o="",a="",s=Math.floor(i/2)-1;return n-r>s&&(o=" ... ",r=n-s+o.length),t-n>s&&(a=" ...",t=n+s-a.length),{str:o+e.slice(r,t).replace(/\t/g,"→")+a,pos:n-r+o.length}}function et(e,r){return ce.repeat(" ",r-e.length)+e}function pa(e,r){if(r=Object.create(r||null),!e.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var t=/\r?\n|\r|\0/g,n=[0],i=[],o,a=-1;o=t.exec(e.buffer);)i.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&a<0&&(a=n.length-2);a<0&&(a=n.length-1);var s="",c,l,f=Math.min(e.line+r.linesAfter,i.length).toString().length,h=r.maxLength-(r.indent+f+3);for(c=1;c<=r.linesBefore&&!(a-c<0);c++)l=Qr(e.buffer,n[a-c],i[a-c],e.position-(n[a]-n[a-c]),h),s=ce.repeat(" ",r.indent)+et((e.line-c+1).toString(),f)+" | "+l.str+`
`+s;for(l=Qr(e.buffer,n[a],i[a],e.position,h),s+=ce.repeat(" ",r.indent)+et((e.line+1).toString(),f)+" | "+l.str+`
`,s+=ce.repeat("-",r.indent+f+3+l.pos)+`^
`,c=1;c<=r.linesAfter&&!(a+c>=i.length);c++)l=Qr(e.buffer,n[a+c],i[a+c],e.position-(n[a]-n[a+c]),h),s+=ce.repeat(" ",r.indent)+et((e.line+c+1).toString(),f)+" | "+l.str+`
`;return s.replace(/\n$/,"")}var ma=pa,ya=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],ga=["scalar","sequence","mapping"];function va(e){var r={};return e!==null&&Object.keys(e).forEach(function(t){e[t].forEach(function(n){r[String(n)]=t})}),r}function _a(e,r){if(r=r||{},Object.keys(r).forEach(function(t){if(ya.indexOf(t)===-1)throw new we('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.options=r,this.tag=e,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(t){return t},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=va(r.styleAliases||null),ga.indexOf(this.kind)===-1)throw new we('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var se=_a;function Vn(e,r){var t=[];return e[r].forEach(function(n){var i=t.length;t.forEach(function(o,a){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=a)}),t[i]=n}),t}function $a(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},r,t;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(r=0,t=arguments.length;r<t;r+=1)arguments[r].forEach(n);return e}function rt(e){return this.extend(e)}rt.prototype.extend=function(r){var t=[],n=[];if(r instanceof se)n.push(r);else if(Array.isArray(r))n=n.concat(r);else if(r&&(Array.isArray(r.implicit)||Array.isArray(r.explicit)))r.implicit&&(t=t.concat(r.implicit)),r.explicit&&(n=n.concat(r.explicit));else throw new we("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(o){if(!(o instanceof se))throw new we("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new we("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new we("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof se))throw new we("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(rt.prototype);return i.implicit=(this.implicit||[]).concat(t),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Vn(i,"implicit"),i.compiledExplicit=Vn(i,"explicit"),i.compiledTypeMap=$a(i.compiledImplicit,i.compiledExplicit),i};var ba=rt,wa=new se("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Sa=new se("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Ea=new se("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Pa=new ba({explicit:[wa,Sa,Ea]});function Oa(e){if(e===null)return!0;var r=e.length;return r===1&&e==="~"||r===4&&(e==="null"||e==="Null"||e==="NULL")}function Na(){return null}function ja(e){return e===null}var ka=new se("tag:yaml.org,2002:null",{kind:"scalar",resolve:Oa,construct:Na,predicate:ja,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Ia(e){if(e===null)return!1;var r=e.length;return r===4&&(e==="true"||e==="True"||e==="TRUE")||r===5&&(e==="false"||e==="False"||e==="FALSE")}function Aa(e){return e==="true"||e==="True"||e==="TRUE"}function Ta(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Ca=new se("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Ia,construct:Aa,predicate:Ta,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Ra(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Ma(e){return 48<=e&&e<=55}function xa(e){return 48<=e&&e<=57}function Da(e){if(e===null)return!1;var r=e.length,t=0,n=!1,i;if(!r)return!1;if(i=e[t],(i==="-"||i==="+")&&(i=e[++t]),i==="0"){if(t+1===r)return!0;if(i=e[++t],i==="b"){for(t++;t<r;t++)if(i=e[t],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(t++;t<r;t++)if(i=e[t],i!=="_"){if(!Ra(e.charCodeAt(t)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(t++;t<r;t++)if(i=e[t],i!=="_"){if(!Ma(e.charCodeAt(t)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;t<r;t++)if(i=e[t],i!=="_"){if(!xa(e.charCodeAt(t)))return!1;n=!0}return!(!n||i==="_")}function qa(e){var r=e,t=1,n;if(r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),n=r[0],(n==="-"||n==="+")&&(n==="-"&&(t=-1),r=r.slice(1),n=r[0]),r==="0")return 0;if(n==="0"){if(r[1]==="b")return t*parseInt(r.slice(2),2);if(r[1]==="x")return t*parseInt(r.slice(2),16);if(r[1]==="o")return t*parseInt(r.slice(2),8)}return t*parseInt(r,10)}function Fa(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ce.isNegativeZero(e)}var Va=new se("tag:yaml.org,2002:int",{kind:"scalar",resolve:Da,construct:qa,predicate:Fa,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),La=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function za(e){return!(e===null||!La.test(e)||e[e.length-1]==="_")}function Ua(e){var r,t;return r=e.replace(/_/g,"").toLowerCase(),t=r[0]==="-"?-1:1,"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:t*parseFloat(r,10)}var Ka=/^[-+]?[0-9]+e/;function Ha(e,r){var t;if(isNaN(e))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ce.isNegativeZero(e))return"-0.0";return t=e.toString(10),Ka.test(t)?t.replace("e",".e"):t}function Ga(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ce.isNegativeZero(e))}var Ba=new se("tag:yaml.org,2002:float",{kind:"scalar",resolve:za,construct:Ua,predicate:Ga,represent:Ha,defaultStyle:"lowercase"}),Ya=Pa.extend({implicit:[ka,Ca,Va,Ba]}),Ja=Ya,Ln=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),zn=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Wa(e){return e===null?!1:Ln.exec(e)!==null||zn.exec(e)!==null}function Xa(e){var r,t,n,i,o,a,s,c=0,l=null,f,h,_;if(r=Ln.exec(e),r===null&&(r=zn.exec(e)),r===null)throw new Error("Date resolve error");if(t=+r[1],n=+r[2]-1,i=+r[3],!r[4])return new Date(Date.UTC(t,n,i));if(o=+r[4],a=+r[5],s=+r[6],r[7]){for(c=r[7].slice(0,3);c.length<3;)c+="0";c=+c}return r[9]&&(f=+r[10],h=+(r[11]||0),l=(f*60+h)*6e4,r[9]==="-"&&(l=-l)),_=new Date(Date.UTC(t,n,i,o,a,s,c)),l&&_.setTime(_.getTime()-l),_}function Za(e){return e.toISOString()}var Qa=new se("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Wa,construct:Xa,instanceOf:Date,represent:Za});function es(e){return e==="<<"||e===null}var rs=new se("tag:yaml.org,2002:merge",{kind:"scalar",resolve:es}),tt=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function ts(e){if(e===null)return!1;var r,t,n=0,i=e.length,o=tt;for(t=0;t<i;t++)if(r=o.indexOf(e.charAt(t)),!(r>64)){if(r<0)return!1;n+=6}return n%8===0}function ns(e){var r,t,n=e.replace(/[\r\n=]/g,""),i=n.length,o=tt,a=0,s=[];for(r=0;r<i;r++)r%4===0&&r&&(s.push(a>>16&255),s.push(a>>8&255),s.push(a&255)),a=a<<6|o.indexOf(n.charAt(r));return t=i%4*6,t===0?(s.push(a>>16&255),s.push(a>>8&255),s.push(a&255)):t===18?(s.push(a>>10&255),s.push(a>>2&255)):t===12&&s.push(a>>4&255),new Uint8Array(s)}function is(e){var r="",t=0,n,i,o=e.length,a=tt;for(n=0;n<o;n++)n%3===0&&n&&(r+=a[t>>18&63],r+=a[t>>12&63],r+=a[t>>6&63],r+=a[t&63]),t=(t<<8)+e[n];return i=o%3,i===0?(r+=a[t>>18&63],r+=a[t>>12&63],r+=a[t>>6&63],r+=a[t&63]):i===2?(r+=a[t>>10&63],r+=a[t>>4&63],r+=a[t<<2&63],r+=a[64]):i===1&&(r+=a[t>>2&63],r+=a[t<<4&63],r+=a[64],r+=a[64]),r}function os(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var as=new se("tag:yaml.org,2002:binary",{kind:"scalar",resolve:ts,construct:ns,predicate:os,represent:is}),ss=Object.prototype.hasOwnProperty,cs=Object.prototype.toString;function us(e){if(e===null)return!0;var r=[],t,n,i,o,a,s=e;for(t=0,n=s.length;t<n;t+=1){if(i=s[t],a=!1,cs.call(i)!=="[object Object]")return!1;for(o in i)if(ss.call(i,o))if(!a)a=!0;else return!1;if(!a)return!1;if(r.indexOf(o)===-1)r.push(o);else return!1}return!0}function ls(e){return e!==null?e:[]}var fs=new se("tag:yaml.org,2002:omap",{kind:"sequence",resolve:us,construct:ls}),ds=Object.prototype.toString;function hs(e){if(e===null)return!0;var r,t,n,i,o,a=e;for(o=new Array(a.length),r=0,t=a.length;r<t;r+=1){if(n=a[r],ds.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[r]=[i[0],n[i[0]]]}return!0}function ps(e){if(e===null)return[];var r,t,n,i,o,a=e;for(o=new Array(a.length),r=0,t=a.length;r<t;r+=1)n=a[r],i=Object.keys(n),o[r]=[i[0],n[i[0]]];return o}var ms=new se("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:hs,construct:ps}),ys=Object.prototype.hasOwnProperty;function gs(e){if(e===null)return!0;var r,t=e;for(r in t)if(ys.call(t,r)&&t[r]!==null)return!1;return!0}function vs(e){return e!==null?e:{}}var _s=new se("tag:yaml.org,2002:set",{kind:"mapping",resolve:gs,construct:vs}),$s=Ja.extend({implicit:[Qa,rs],explicit:[as,fs,ms,_s]}),Ie=Object.prototype.hasOwnProperty,vr=1,Un=2,Kn=3,_r=4,nt=1,bs=2,Hn=3,ws=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Ss=/[\x85\u2028\u2029]/,Es=/[,\[\]\{\}]/,Gn=/^(?:!|!!|![a-z\-]+!)$/i,Bn=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Yn(e){return Object.prototype.toString.call(e)}function Se(e){return e===10||e===13}function Me(e){return e===9||e===32}function ue(e){return e===9||e===32||e===10||e===13}function Ue(e){return e===44||e===91||e===93||e===123||e===125}function Ps(e){var r;return 48<=e&&e<=57?e-48:(r=e|32,97<=r&&r<=102?r-97+10:-1)}function Os(e){return e===120?2:e===117?4:e===85?8:0}function Ns(e){return 48<=e&&e<=57?e-48:-1}function Jn(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function js(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function Wn(e,r,t){r==="__proto__"?Object.defineProperty(e,r,{configurable:!0,enumerable:!0,writable:!0,value:t}):e[r]=t}for(var Xn=new Array(256),Zn=new Array(256),Ke=0;Ke<256;Ke++)Xn[Ke]=Jn(Ke)?1:0,Zn[Ke]=Jn(Ke);function ks(e,r){this.input=e,this.filename=r.filename||null,this.schema=r.schema||$s,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Qn(e,r){var t={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return t.snippet=ma(t),new we(r,t)}function q(e,r){throw Qn(e,r)}function $r(e,r){e.onWarning&&e.onWarning.call(null,Qn(e,r))}var ei={YAML:function(r,t,n){var i,o,a;r.version!==null&&q(r,"duplication of %YAML directive"),n.length!==1&&q(r,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&q(r,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),a=parseInt(i[2],10),o!==1&&q(r,"unacceptable YAML version of the document"),r.version=n[0],r.checkLineBreaks=a<2,a!==1&&a!==2&&$r(r,"unsupported YAML version of the document")},TAG:function(r,t,n){var i,o;n.length!==2&&q(r,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],Gn.test(i)||q(r,"ill-formed tag handle (first argument) of the TAG directive"),Ie.call(r.tagMap,i)&&q(r,'there is a previously declared suffix for "'+i+'" tag handle'),Bn.test(o)||q(r,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{q(r,"tag prefix is malformed: "+o)}r.tagMap[i]=o}};function Ae(e,r,t,n){var i,o,a,s;if(r<t){if(s=e.input.slice(r,t),n)for(i=0,o=s.length;i<o;i+=1)a=s.charCodeAt(i),a===9||32<=a&&a<=1114111||q(e,"expected valid JSON character");else ws.test(s)&&q(e,"the stream contains non-printable characters");e.result+=s}}function ri(e,r,t,n){var i,o,a,s;for(ce.isObject(t)||q(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(t),a=0,s=i.length;a<s;a+=1)o=i[a],Ie.call(r,o)||(Wn(r,o,t[o]),n[o]=!0)}function He(e,r,t,n,i,o,a,s,c){var l,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,f=i.length;l<f;l+=1)Array.isArray(i[l])&&q(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Yn(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&Yn(i)==="[object Object]"&&(i="[object Object]"),i=String(i),r===null&&(r={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(l=0,f=o.length;l<f;l+=1)ri(e,r,o[l],t);else ri(e,r,o,t);else!e.json&&!Ie.call(t,i)&&Ie.call(r,i)&&(e.line=a||e.line,e.lineStart=s||e.lineStart,e.position=c||e.position,q(e,"duplicated mapping key")),Wn(r,i,o),delete t[i];return r}function it(e){var r;r=e.input.charCodeAt(e.position),r===10?e.position++:r===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):q(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Z(e,r,t){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Me(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(r&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Se(i))for(it(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return t!==-1&&n!==0&&e.lineIndent<t&&$r(e,"deficient indentation"),n}function br(e){var r=e.position,t;return t=e.input.charCodeAt(r),!!((t===45||t===46)&&t===e.input.charCodeAt(r+1)&&t===e.input.charCodeAt(r+2)&&(r+=3,t=e.input.charCodeAt(r),t===0||ue(t)))}function ot(e,r){r===1?e.result+=" ":r>1&&(e.result+=ce.repeat(`
`,r-1))}function Is(e,r,t){var n,i,o,a,s,c,l,f,h=e.kind,_=e.result,p;if(p=e.input.charCodeAt(e.position),ue(p)||Ue(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),ue(i)||t&&Ue(i)))return!1;for(e.kind="scalar",e.result="",o=a=e.position,s=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),ue(i)||t&&Ue(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),ue(n))break}else{if(e.position===e.lineStart&&br(e)||t&&Ue(p))break;if(Se(p))if(c=e.line,l=e.lineStart,f=e.lineIndent,Z(e,!1,-1),e.lineIndent>=r){s=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=c,e.lineStart=l,e.lineIndent=f;break}}s&&(Ae(e,o,a,!1),ot(e,e.line-c),o=a=e.position,s=!1),Me(p)||(a=e.position+1),p=e.input.charCodeAt(++e.position)}return Ae(e,o,a,!1),e.result?!0:(e.kind=h,e.result=_,!1)}function As(e,r){var t,n,i;if(t=e.input.charCodeAt(e.position),t!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(t=e.input.charCodeAt(e.position))!==0;)if(t===39)if(Ae(e,n,e.position,!0),t=e.input.charCodeAt(++e.position),t===39)n=e.position,e.position++,i=e.position;else return!0;else Se(t)?(Ae(e,n,i,!0),ot(e,Z(e,!1,r)),n=i=e.position):e.position===e.lineStart&&br(e)?q(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);q(e,"unexpected end of the stream within a single quoted scalar")}function Ts(e,r){var t,n,i,o,a,s;if(s=e.input.charCodeAt(e.position),s!==34)return!1;for(e.kind="scalar",e.result="",e.position++,t=n=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return Ae(e,t,e.position,!0),e.position++,!0;if(s===92){if(Ae(e,t,e.position,!0),s=e.input.charCodeAt(++e.position),Se(s))Z(e,!1,r);else if(s<256&&Xn[s])e.result+=Zn[s],e.position++;else if((a=Os(s))>0){for(i=a,o=0;i>0;i--)s=e.input.charCodeAt(++e.position),(a=Ps(s))>=0?o=(o<<4)+a:q(e,"expected hexadecimal character");e.result+=js(o),e.position++}else q(e,"unknown escape sequence");t=n=e.position}else Se(s)?(Ae(e,t,n,!0),ot(e,Z(e,!1,r)),t=n=e.position):e.position===e.lineStart&&br(e)?q(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}q(e,"unexpected end of the stream within a double quoted scalar")}function Cs(e,r){var t=!0,n,i,o,a=e.tag,s,c=e.anchor,l,f,h,_,p,v=Object.create(null),$,m,y,d;if(d=e.input.charCodeAt(e.position),d===91)f=93,p=!1,s=[];else if(d===123)f=125,p=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),d=e.input.charCodeAt(++e.position);d!==0;){if(Z(e,!0,r),d=e.input.charCodeAt(e.position),d===f)return e.position++,e.tag=a,e.anchor=c,e.kind=p?"mapping":"sequence",e.result=s,!0;t?d===44&&q(e,"expected the node content, but found ','"):q(e,"missed comma between flow collection entries"),m=$=y=null,h=_=!1,d===63&&(l=e.input.charCodeAt(e.position+1),ue(l)&&(h=_=!0,e.position++,Z(e,!0,r))),n=e.line,i=e.lineStart,o=e.position,Ge(e,r,vr,!1,!0),m=e.tag,$=e.result,Z(e,!0,r),d=e.input.charCodeAt(e.position),(_||e.line===n)&&d===58&&(h=!0,d=e.input.charCodeAt(++e.position),Z(e,!0,r),Ge(e,r,vr,!1,!0),y=e.result),p?He(e,s,v,m,$,y,n,i,o):h?s.push(He(e,null,v,m,$,y,n,i,o)):s.push($),Z(e,!0,r),d=e.input.charCodeAt(e.position),d===44?(t=!0,d=e.input.charCodeAt(++e.position)):t=!1}q(e,"unexpected end of the stream within a flow collection")}function Rs(e,r){var t,n,i=nt,o=!1,a=!1,s=r,c=0,l=!1,f,h;if(h=e.input.charCodeAt(e.position),h===124)n=!1;else if(h===62)n=!0;else return!1;for(e.kind="scalar",e.result="";h!==0;)if(h=e.input.charCodeAt(++e.position),h===43||h===45)nt===i?i=h===43?Hn:bs:q(e,"repeat of a chomping mode identifier");else if((f=Ns(h))>=0)f===0?q(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?q(e,"repeat of an indentation width identifier"):(s=r+f-1,a=!0);else break;if(Me(h)){do h=e.input.charCodeAt(++e.position);while(Me(h));if(h===35)do h=e.input.charCodeAt(++e.position);while(!Se(h)&&h!==0)}for(;h!==0;){for(it(e),e.lineIndent=0,h=e.input.charCodeAt(e.position);(!a||e.lineIndent<s)&&h===32;)e.lineIndent++,h=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>s&&(s=e.lineIndent),Se(h)){c++;continue}if(e.lineIndent<s){i===Hn?e.result+=ce.repeat(`
`,o?1+c:c):i===nt&&o&&(e.result+=`
`);break}for(n?Me(h)?(l=!0,e.result+=ce.repeat(`
`,o?1+c:c)):l?(l=!1,e.result+=ce.repeat(`
`,c+1)):c===0?o&&(e.result+=" "):e.result+=ce.repeat(`
`,c):e.result+=ce.repeat(`
`,o?1+c:c),o=!0,a=!0,c=0,t=e.position;!Se(h)&&h!==0;)h=e.input.charCodeAt(++e.position);Ae(e,t,e.position,!1)}return!0}function ti(e,r){var t,n=e.tag,i=e.anchor,o=[],a,s=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,q(e,"tab characters must not be used in indentation")),!(c!==45||(a=e.input.charCodeAt(e.position+1),!ue(a))));){if(s=!0,e.position++,Z(e,!0,-1)&&e.lineIndent<=r){o.push(null),c=e.input.charCodeAt(e.position);continue}if(t=e.line,Ge(e,r,Kn,!1,!0),o.push(e.result),Z(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===t||e.lineIndent>r)&&c!==0)q(e,"bad indentation of a sequence entry");else if(e.lineIndent<r)break}return s?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}function Ms(e,r,t){var n,i,o,a,s,c,l=e.tag,f=e.anchor,h={},_=Object.create(null),p=null,v=null,$=null,m=!1,y=!1,d;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=h),d=e.input.charCodeAt(e.position);d!==0;){if(!m&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,q(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(d===63||d===58)&&ue(n))d===63?(m&&(He(e,h,_,p,v,null,a,s,c),p=v=$=null),y=!0,m=!0,i=!0):m?(m=!1,i=!0):q(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,d=n;else{if(a=e.line,s=e.lineStart,c=e.position,!Ge(e,t,Un,!1,!0))break;if(e.line===o){for(d=e.input.charCodeAt(e.position);Me(d);)d=e.input.charCodeAt(++e.position);if(d===58)d=e.input.charCodeAt(++e.position),ue(d)||q(e,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(He(e,h,_,p,v,null,a,s,c),p=v=$=null),y=!0,m=!1,i=!1,p=e.tag,v=e.result;else if(y)q(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=f,!0}else if(y)q(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=f,!0}if((e.line===o||e.lineIndent>r)&&(m&&(a=e.line,s=e.lineStart,c=e.position),Ge(e,r,_r,!0,i)&&(m?v=e.result:$=e.result),m||(He(e,h,_,p,v,$,a,s,c),p=v=$=null),Z(e,!0,-1),d=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>r)&&d!==0)q(e,"bad indentation of a mapping entry");else if(e.lineIndent<r)break}return m&&He(e,h,_,p,v,null,a,s,c),y&&(e.tag=l,e.anchor=f,e.kind="mapping",e.result=h),y}function xs(e){var r,t=!1,n=!1,i,o,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&q(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(t=!0,a=e.input.charCodeAt(++e.position)):a===33?(n=!0,i="!!",a=e.input.charCodeAt(++e.position)):i="!",r=e.position,t){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(o=e.input.slice(r,e.position),a=e.input.charCodeAt(++e.position)):q(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!ue(a);)a===33&&(n?q(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(r-1,e.position+1),Gn.test(i)||q(e,"named tag handle cannot contain such characters"),n=!0,r=e.position+1)),a=e.input.charCodeAt(++e.position);o=e.input.slice(r,e.position),Es.test(o)&&q(e,"tag suffix cannot contain flow indicator characters")}o&&!Bn.test(o)&&q(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{q(e,"tag name is malformed: "+o)}return t?e.tag=o:Ie.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:q(e,'undeclared tag handle "'+i+'"'),!0}function Ds(e){var r,t;if(t=e.input.charCodeAt(e.position),t!==38)return!1;for(e.anchor!==null&&q(e,"duplication of an anchor property"),t=e.input.charCodeAt(++e.position),r=e.position;t!==0&&!ue(t)&&!Ue(t);)t=e.input.charCodeAt(++e.position);return e.position===r&&q(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(r,e.position),!0}function qs(e){var r,t,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),r=e.position;n!==0&&!ue(n)&&!Ue(n);)n=e.input.charCodeAt(++e.position);return e.position===r&&q(e,"name of an alias node must contain at least one character"),t=e.input.slice(r,e.position),Ie.call(e.anchorMap,t)||q(e,'unidentified alias "'+t+'"'),e.result=e.anchorMap[t],Z(e,!0,-1),!0}function Ge(e,r,t,n,i){var o,a,s,c=1,l=!1,f=!1,h,_,p,v,$,m;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=a=s=_r===t||Kn===t,n&&Z(e,!0,-1)&&(l=!0,e.lineIndent>r?c=1:e.lineIndent===r?c=0:e.lineIndent<r&&(c=-1)),c===1)for(;xs(e)||Ds(e);)Z(e,!0,-1)?(l=!0,s=o,e.lineIndent>r?c=1:e.lineIndent===r?c=0:e.lineIndent<r&&(c=-1)):s=!1;if(s&&(s=l||i),(c===1||_r===t)&&(vr===t||Un===t?$=r:$=r+1,m=e.position-e.lineStart,c===1?s&&(ti(e,m)||Ms(e,m,$))||Cs(e,$)?f=!0:(a&&Rs(e,$)||As(e,$)||Ts(e,$)?f=!0:qs(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&q(e,"alias node should not have any properties")):Is(e,$,vr===t)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(f=s&&ti(e,m))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&q(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),h=0,_=e.implicitTypes.length;h<_;h+=1)if(v=e.implicitTypes[h],v.resolve(e.result)){e.result=v.construct(e.result),e.tag=v.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Ie.call(e.typeMap[e.kind||"fallback"],e.tag))v=e.typeMap[e.kind||"fallback"][e.tag];else for(v=null,p=e.typeMap.multi[e.kind||"fallback"],h=0,_=p.length;h<_;h+=1)if(e.tag.slice(0,p[h].tag.length)===p[h].tag){v=p[h];break}v||q(e,"unknown tag !<"+e.tag+">"),e.result!==null&&v.kind!==e.kind&&q(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+v.kind+'", not "'+e.kind+'"'),v.resolve(e.result,e.tag)?(e.result=v.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):q(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function Fs(e){var r=e.position,t,n,i,o=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(Z(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(o=!0,a=e.input.charCodeAt(++e.position),t=e.position;a!==0&&!ue(a);)a=e.input.charCodeAt(++e.position);for(n=e.input.slice(t,e.position),i=[],n.length<1&&q(e,"directive name must not be less than one character in length");a!==0;){for(;Me(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!Se(a));break}if(Se(a))break;for(t=e.position;a!==0&&!ue(a);)a=e.input.charCodeAt(++e.position);i.push(e.input.slice(t,e.position))}a!==0&&it(e),Ie.call(ei,n)?ei[n](e,n,i):$r(e,'unknown document directive "'+n+'"')}if(Z(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Z(e,!0,-1)):o&&q(e,"directives end mark is expected"),Ge(e,e.lineIndent-1,_r,!1,!0),Z(e,!0,-1),e.checkLineBreaks&&Ss.test(e.input.slice(r,e.position))&&$r(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&br(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Z(e,!0,-1));return}if(e.position<e.length-1)q(e,"end of the stream or a document separator is expected");else return}function Vs(e,r){e=String(e),r=r||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var t=new ks(e,r),n=e.indexOf("\0");for(n!==-1&&(t.position=n,q(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)Fs(t);return t.documents}function Ls(e,r){var t=Vs(e,r);if(t.length!==0){if(t.length===1)return t[0];throw new we("expected a single document in the stream, but found more")}}var zs=Ls,Us={load:zs},Ks=Us.load,Hs=we;function Gs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bs=function(){},Ys=Bs(),Be=function(e){return e!==Ys&&e!==null},Js=Be,Ws=Array.prototype.forEach,Xs=Object.create,Zs=function(e,r){var t;for(t in e)r[t]=e[t]},Qs=function(e){var r=Xs(null);return Ws.call(arguments,function(t){Js(t)&&Zs(Object(t),r)}),r},ec=function(){var e=Math.sign;return typeof e!="function"?!1:e(10)===1&&e(-20)===-1},at,ni;function rc(){return ni||(ni=1,at=function(e){return e=Number(e),isNaN(e)||e===0?e:e>0?1:-1}),at}var tc=ec()?Math.sign:rc(),nc=tc,ic=Math.abs,oc=Math.floor,ac=function(e){return isNaN(e)?0:(e=Number(e),e===0||!isFinite(e)?e:nc(e)*oc(ic(e)))},sc=ac,cc=Math.max,ii=function(e){return cc(0,sc(e))},oi=function(e){if(typeof e!="function")throw new TypeError(e+" is not a function");return e},st,ai;function wr(){if(ai)return st;ai=1;var e=Be;return st=function(r){if(!e(r))throw new TypeError("Cannot use null or undefined");return r},st}wr();var uc={exports:{}},lc=function(){var e=Object.assign,r;return typeof e!="function"?!1:(r={foo:"raz"},e(r,{bar:"dwa"},{trzy:"trzy"}),r.foo+r.bar+r.trzy==="razdwatrzy")},ct,si;function fc(){return si||(si=1,ct=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),ct}var ut,ci;function dc(){if(ci)return ut;ci=1;var e=Be,r=Object.keys;return ut=function(t){return r(e(t)?Object(t):t)},ut}var lt,ui;function hc(){return ui||(ui=1,lt=fc()()?Object.keys:dc()),lt}var ft,li;function pc(){if(li)return ft;li=1;var e=hc(),r=wr(),t=Math.max;return ft=function(n,i){var o,a,s=t(arguments.length,2),c;for(n=Object(r(n)),c=function(l){try{n[l]=i[l]}catch(f){o||(o=f)}},a=1;a<s;++a)i=arguments[a],e(i).forEach(c);if(o!==void 0)throw o;return n},ft}var fi=lc()?Object.assign:pc(),mc=Be,yc={function:!0,object:!0},gc=function(e){return mc(e)&&yc[typeof e]||!1};(function(e){var r=fi,t=gc,n=Be,i=Error.captureStackTrace;e.exports=function(o){var a=new Error(o),s=arguments[1],c=arguments[2];return n(c)||t(s)&&(c=s,s=null),n(c)&&r(a,c),n(s)&&(a.code=s),i&&i(a,e.exports),a}})(uc);var Sr={exports:{}},dt,di;function vc(){if(di)return dt;di=1;var e=wr(),r=Object.defineProperty,t=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols;return dt=function(o,a){var s,c=Object(e(a));if(o=Object(e(o)),n(c).forEach(function(l){try{r(o,l,t(a,l))}catch(f){s=f}}),typeof i=="function"&&i(c).forEach(function(l){try{r(o,l,t(a,l))}catch(f){s=f}}),s!==void 0)throw s;return o},dt}var hi;function _c(){if(hi)return Sr.exports;hi=1;var e=ii,r=function(a,s){return s},t,n,i,o;try{Object.defineProperty(r,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch{}return r.length===1?(t={configurable:!0,writable:!1,enumerable:!1},n=Object.defineProperty,Sr.exports=function(a,s){return s=e(s),a.length===s?a:(t.value=s,n(a,"length",t))}):(o=vc(),i=function(){var a=[];return function(s){var c,l=0;if(a[s])return a[s];for(c=[];s--;)c.push("a"+(++l).toString(36));return new Function("fn","return function ("+c.join(", ")+") { return fn.apply(this, arguments); };")}}(),Sr.exports=function(a,s){var c;if(s=e(s),a.length===s)return a;c=i(s)(a);try{o(c,a)}catch{}return c}),Sr.exports}var pi={exports:{}},$c=void 0,mi=function(e){return e!==$c&&e!==null},bc=mi,wc={object:!0,function:!0,undefined:!0},Sc=function(e){return bc(e)?hasOwnProperty.call(wc,typeof e):!1},Ec=Sc,Pc=function(e){if(!Ec(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch{return!1}},Oc=Pc,Nc=function(e){if(typeof e!="function"||!hasOwnProperty.call(e,"length"))return!1;try{if(typeof e.length!="number"||typeof e.call!="function"||typeof e.apply!="function")return!1}catch{return!1}return!Oc(e)},jc=Nc,kc=/^\s*class[\s{/}]/,Ic=Function.prototype.toString,Ac=function(e){return!(!jc(e)||kc.test(Ic.call(e)))},ht="razdwatrzy",Tc=function(){return typeof ht.contains!="function"?!1:ht.contains("dwa")===!0&&ht.contains("foo")===!1},pt,yi;function Cc(){if(yi)return pt;yi=1;var e=String.prototype.indexOf;return pt=function(r){return e.call(this,r,arguments[1])>-1},pt}var Rc=Tc()?String.prototype.contains:Cc(),Er=mi,gi=Ac,vi=fi,_i=Qs,or=Rc,Mc=pi.exports=function(e,r){var t,n,i,o,a;return arguments.length<2||typeof e!="string"?(o=r,r=e,e=null):o=arguments[2],Er(e)?(t=or.call(e,"c"),n=or.call(e,"e"),i=or.call(e,"w")):(t=i=!0,n=!1),a={value:r,configurable:t,enumerable:n,writable:i},o?vi(_i(o),a):a};Mc.gs=function(e,r,t){var n,i,o,a;return typeof e!="string"?(o=t,t=r,r=e,e=null):o=arguments[3],Er(r)?gi(r)?Er(t)?gi(t)||(o=t,t=void 0):t=void 0:(o=r,r=t=void 0):r=void 0,Er(e)?(n=or.call(e,"c"),i=or.call(e,"e")):(n=!0,i=!1),a={get:r,set:t,configurable:n,enumerable:i},o?vi(_i(o),a):a};var ar=pi.exports,mt={exports:{}};(function(e,r){var t=ar,n=oi,i=Function.prototype.apply,o=Function.prototype.call,a=Object.create,s=Object.defineProperty,c=Object.defineProperties,l=Object.prototype.hasOwnProperty,f={configurable:!0,enumerable:!1,writable:!0},h,_,p,v,$,m,y;h=function(d,b){var O;return n(b),l.call(this,"__ee__")?O=this.__ee__:(O=f.value=a(null),s(this,"__ee__",f),f.value=null),O[d]?typeof O[d]=="object"?O[d].push(b):O[d]=[O[d],b]:O[d]=b,this},_=function(d,b){var O,k;return n(b),k=this,h.call(this,d,O=function(){p.call(k,d,O),i.call(b,this,arguments)}),O.__eeOnceListener__=b,this},p=function(d,b){var O,k,C,x;if(n(b),!l.call(this,"__ee__"))return this;if(O=this.__ee__,!O[d])return this;if(k=O[d],typeof k=="object")for(x=0;C=k[x];++x)(C===b||C.__eeOnceListener__===b)&&(k.length===2?O[d]=k[x?0:1]:k.splice(x,1));else(k===b||k.__eeOnceListener__===b)&&delete O[d];return this},v=function(d){var b,O,k,C,x;if(l.call(this,"__ee__")&&(C=this.__ee__[d],!!C))if(typeof C=="object"){for(O=arguments.length,x=new Array(O-1),b=1;b<O;++b)x[b-1]=arguments[b];for(C=C.slice(),b=0;k=C[b];++b)i.call(k,this,x)}else switch(arguments.length){case 1:o.call(C,this);break;case 2:o.call(C,this,arguments[1]);break;case 3:o.call(C,this,arguments[1],arguments[2]);break;default:for(O=arguments.length,x=new Array(O-1),b=1;b<O;++b)x[b-1]=arguments[b];i.call(C,this,x)}},$={on:h,once:_,off:p,emit:v},m={on:t(h),once:t(_),off:t(p),emit:t(v)},y=c({},m),e.exports=r=function(d){return d==null?a(y):c(Object(d),m)},r.methods=$})(mt,mt.exports);var xc=mt.exports,yt,$i;function Dc(){return $i||($i=1,yt=function(){var e=Array.from,r,t;return typeof e!="function"?!1:(r=["raz","dwa"],t=e(r),!!(t&&t!==r&&t[1]==="dwa"))}),yt}var gt,bi;function qc(){return bi||(bi=1,gt=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}),gt}var vt,wi;function Fc(){if(wi)return vt;wi=1;var e=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return vt=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}(),vt}var _t,Si;function Pr(){return Si||(Si=1,_t=qc()()?globalThis:Fc()),_t}var $t,Ei;function Vc(){if(Ei)return $t;Ei=1;var e=Pr(),r={object:!0,symbol:!0};return $t=function(){var t=e.Symbol,n;if(typeof t!="function")return!1;n=t("test symbol");try{String(n)}catch{return!1}return!(!r[typeof t.iterator]||!r[typeof t.toPrimitive]||!r[typeof t.toStringTag])},$t}var bt,Pi;function Lc(){return Pi||(Pi=1,bt=function(e){return e?typeof e=="symbol"?!0:!e.constructor||e.constructor.name!=="Symbol"?!1:e[e.constructor.toStringTag]==="Symbol":!1}),bt}var wt,Oi;function Ni(){if(Oi)return wt;Oi=1;var e=Lc();return wt=function(r){if(!e(r))throw new TypeError(r+" is not a symbol");return r},wt}var St,ji;function zc(){if(ji)return St;ji=1;var e=ar,r=Object.create,t=Object.defineProperty,n=Object.prototype,i=r(null);return St=function(o){for(var a=0,s,c;i[o+(a||"")];)++a;return o+=a||"",i[o]=!0,s="@@"+o,t(n,s,e.gs(null,function(l){c||(c=!0,t(this,s,e(l)),c=!1)})),s},St}var Et,ki;function Uc(){if(ki)return Et;ki=1;var e=ar,r=Pr().Symbol;return Et=function(t){return Object.defineProperties(t,{hasInstance:e("",r&&r.hasInstance||t("hasInstance")),isConcatSpreadable:e("",r&&r.isConcatSpreadable||t("isConcatSpreadable")),iterator:e("",r&&r.iterator||t("iterator")),match:e("",r&&r.match||t("match")),replace:e("",r&&r.replace||t("replace")),search:e("",r&&r.search||t("search")),species:e("",r&&r.species||t("species")),split:e("",r&&r.split||t("split")),toPrimitive:e("",r&&r.toPrimitive||t("toPrimitive")),toStringTag:e("",r&&r.toStringTag||t("toStringTag")),unscopables:e("",r&&r.unscopables||t("unscopables"))})},Et}var Pt,Ii;function Kc(){if(Ii)return Pt;Ii=1;var e=ar,r=Ni(),t=Object.create(null);return Pt=function(n){return Object.defineProperties(n,{for:e(function(i){return t[i]?t[i]:t[i]=n(String(i))}),keyFor:e(function(i){var o;r(i);for(o in t)if(t[o]===i)return o})})},Pt}var Ot,Ai;function Hc(){if(Ai)return Ot;Ai=1;var e=ar,r=Ni(),t=Pr().Symbol,n=zc(),i=Uc(),o=Kc(),a=Object.create,s=Object.defineProperties,c=Object.defineProperty,l,f,h;if(typeof t=="function")try{String(t()),h=!0}catch{}else t=null;return f=function(p){if(this instanceof f)throw new TypeError("Symbol is not a constructor");return l(p)},Ot=l=function _(p){var v;if(this instanceof _)throw new TypeError("Symbol is not a constructor");return h?t(p):(v=a(f.prototype),p=p===void 0?"":String(p),s(v,{__description__:e("",p),__name__:e("",n(p))}))},i(l),o(l),s(f.prototype,{constructor:e(l),toString:e("",function(){return this.__name__})}),s(l.prototype,{toString:e(function(){return"Symbol ("+r(this).__description__+")"}),valueOf:e(function(){return r(this)})}),c(l.prototype,l.toPrimitive,e("",function(){var _=r(this);return typeof _=="symbol"?_:_.toString()})),c(l.prototype,l.toStringTag,e("c","Symbol")),c(f.prototype,l.toStringTag,e("c",l.prototype[l.toStringTag])),c(f.prototype,l.toPrimitive,e("c",l.prototype[l.toPrimitive])),Ot}var Nt,Ti;function Gc(){return Ti||(Ti=1,Nt=Vc()()?Pr().Symbol:Hc()),Nt}var jt,Ci;function Bc(){if(Ci)return jt;Ci=1;var e=Object.prototype.toString,r=e.call(function(){return arguments}());return jt=function(t){return e.call(t)===r},jt}var kt,Ri;function Yc(){if(Ri)return kt;Ri=1;var e=Object.prototype.toString,r=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);return kt=function(t){return typeof t=="function"&&r(e.call(t))},kt}var It,Mi;function Jc(){if(Mi)return It;Mi=1;var e=Object.prototype.toString,r=e.call("");return It=function(t){return typeof t=="string"||t&&typeof t=="object"&&(t instanceof String||e.call(t)===r)||!1},It}var At,xi;function Wc(){if(xi)return At;xi=1;var e=Gc().iterator,r=Bc(),t=Yc(),n=ii,i=oi,o=wr(),a=Be,s=Jc(),c=Array.isArray,l=Function.prototype.call,f={configurable:!0,enumerable:!0,writable:!0,value:null},h=Object.defineProperty;return At=function(_){var p=arguments[1],v=arguments[2],$,m,y,d,b,O,k,C,x,L;if(_=Object(o(_)),a(p)&&i(p),!this||this===Array||!t(this)){if(!p){if(r(_))return b=_.length,b!==1?Array.apply(null,_):(d=new Array(1),d[0]=_[0],d);if(c(_)){for(d=new Array(b=_.length),m=0;m<b;++m)d[m]=_[m];return d}}d=[]}else $=this;if(!c(_)){if((x=_[e])!==void 0){for(k=i(x).call(_),$&&(d=new $),C=k.next(),m=0;!C.done;)L=p?l.call(p,v,C.value,m):C.value,$?(f.value=L,h(d,m,f)):d[m]=L,C=k.next(),++m;b=m}else if(s(_)){for(b=_.length,$&&(d=new $),m=0,y=0;m<b;++m)L=_[m],m+1<b&&(O=L.charCodeAt(0),O>=55296&&O<=56319&&(L+=_[++m])),L=p?l.call(p,v,L,y):L,$?(f.value=L,h(d,y,f)):d[y]=L,++y;b=y}}if(b===void 0)for(b=n(_.length),$&&(d=new $(b)),m=0;m<b;++m)L=p?l.call(p,v,_[m],m):_[m],$?(f.value=L,h(d,m,f)):d[m]=L;return $&&(f.value=null,d.length=b),d},At}var Tt,Di;function Xc(){return Di||(Di=1,Tt=Dc()()?Array.from:Wc()),Tt}Xc(),_c();var qi=xc.methods;qi.on,qi.emit;const Zc=e=>async r=>{try{const t=await e(r);postMessage({result:t})}catch(t){postMessage({error:t})}};var Ct={exports:{}},Fi={},Pe={},xe={},Rt={},Mt={},xt={},Vi;function Or(){return Vi||(Vi=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class r{}e._CodeOrName=r,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class t extends r{constructor(d){if(super(),!e.IDENTIFIER.test(d))throw new Error("CodeGen: name must be a valid identifier");this.str=d}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=t;class n extends r{constructor(d){super(),this._items=typeof d=="string"?[d]:d}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const d=this._items[0];return d===""||d==='""'}get str(){var d;return(d=this._str)!==null&&d!==void 0?d:this._str=this._items.reduce((b,O)=>`${b}${O}`,"")}get names(){var d;return(d=this._names)!==null&&d!==void 0?d:this._names=this._items.reduce((b,O)=>(O instanceof t&&(b[O.str]=(b[O.str]||0)+1),b),{})}}e._Code=n,e.nil=new n("");function i(y,...d){const b=[y[0]];let O=0;for(;O<d.length;)s(b,d[O]),b.push(y[++O]);return new n(b)}e._=i;const o=new n("+");function a(y,...d){const b=[p(y[0])];let O=0;for(;O<d.length;)b.push(o),s(b,d[O]),b.push(o,p(y[++O]));return c(b),new n(b)}e.str=a;function s(y,d){d instanceof n?y.push(...d._items):d instanceof t?y.push(d):y.push(h(d))}e.addCodeArg=s;function c(y){let d=1;for(;d<y.length-1;){if(y[d]===o){const b=l(y[d-1],y[d+1]);if(b!==void 0){y.splice(d-1,3,b);continue}y[d++]="+"}d++}}function l(y,d){if(d==='""')return y;if(y==='""')return d;if(typeof y=="string")return d instanceof t||y[y.length-1]!=='"'?void 0:typeof d!="string"?`${y.slice(0,-1)}${d}"`:d[0]==='"'?y.slice(0,-1)+d.slice(1):void 0;if(typeof d=="string"&&d[0]==='"'&&!(y instanceof t))return`"${y}${d.slice(1)}`}function f(y,d){return d.emptyStr()?y:y.emptyStr()?d:a`${y}${d}`}e.strConcat=f;function h(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:p(Array.isArray(y)?y.join(","):y)}function _(y){return new n(p(y))}e.stringify=_;function p(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=p;function v(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new n(`.${y}`):i`[${y}]`}e.getProperty=v;function $(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new n(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=$;function m(y){return new n(y.toString())}e.regexpCode=m}(xt)),xt}var Dt={},Li;function zi(){return Li||(Li=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const r=Or();class t extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class i{constructor({prefixes:l,parent:f}={}){this._names={},this._prefixes=l,this._parent=f}toName(l){return l instanceof r.Name?l:this.name(l)}name(l){return new r.Name(this._newName(l))}_newName(l){const f=this._names[l]||this._nameGroup(l);return`${l}${f.index++}`}_nameGroup(l){var f,h;if(!((h=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||h===void 0)&&h.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class o extends r.Name{constructor(l,f){super(f),this.prefix=l}setValue(l,{property:f,itemIndex:h}){this.value=l,this.scopePath=(0,r._)`.${new r.Name(f)}[${h}]`}}e.ValueScopeName=o;const a=(0,r._)`\n`;class s extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?a:r.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,f){var h;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const _=this.toName(l),{prefix:p}=_,v=(h=f.key)!==null&&h!==void 0?h:f.ref;let $=this._values[p];if($){const d=$.get(v);if(d)return d}else $=this._values[p]=new Map;$.set(v,_);const m=this._scope[p]||(this._scope[p]=[]),y=m.length;return m[y]=f.ref,_.setValue(f,{property:p,itemIndex:y}),_}getValue(l,f){const h=this._values[l];if(h)return h.get(f)}scopeRefs(l,f=this._values){return this._reduceValues(f,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,r._)`${l}${h.scopePath}`})}scopeCode(l=this._values,f,h){return this._reduceValues(l,_=>{if(_.value===void 0)throw new Error(`CodeGen: name "${_}" has no value`);return _.value.code},f,h)}_reduceValues(l,f,h={},_){let p=r.nil;for(const v in l){const $=l[v];if(!$)continue;const m=h[v]=h[v]||new Map;$.forEach(y=>{if(m.has(y))return;m.set(y,n.Started);let d=f(y);if(d){const b=this.opts.es5?e.varKinds.var:e.varKinds.const;p=(0,r._)`${p}${b} ${y} = ${d};${this.opts._n}`}else if(d=_==null?void 0:_(y))p=(0,r._)`${p}${d}${this.opts._n}`;else throw new t(y);m.set(y,n.Completed)})}return p}}e.ValueScope=s}(Dt)),Dt}var Ui;function U(){return Ui||(Ui=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const r=Or(),t=zi();var n=Or();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=zi();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class o{optimizeNodes(){return this}optimizeNames(u,g){return this}}class a extends o{constructor(u,g,N){super(),this.varKind=u,this.name=g,this.rhs=N}render({es5:u,_n:g}){const N=u?t.varKinds.var:this.varKind,M=this.rhs===void 0?"":` = ${this.rhs}`;return`${N} ${this.name}${M};`+g}optimizeNames(u,g){if(u[this.name.str])return this.rhs&&(this.rhs=W(this.rhs,u,g)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class s extends o{constructor(u,g,N){super(),this.lhs=u,this.rhs=g,this.sideEffects=N}render({_n:u}){return`${this.lhs} = ${this.rhs};`+u}optimizeNames(u,g){if(!(this.lhs instanceof r.Name&&!u[this.lhs.str]&&!this.sideEffects))return this.rhs=W(this.rhs,u,g),this}get names(){const u=this.lhs instanceof r.Name?{}:{...this.lhs.names};return Y(u,this.rhs)}}class c extends s{constructor(u,g,N,M){super(u,N,M),this.op=g}render({_n:u}){return`${this.lhs} ${this.op}= ${this.rhs};`+u}}class l extends o{constructor(u){super(),this.label=u,this.names={}}render({_n:u}){return`${this.label}:`+u}}class f extends o{constructor(u){super(),this.label=u,this.names={}}render({_n:u}){return`break${this.label?` ${this.label}`:""};`+u}}class h extends o{constructor(u){super(),this.error=u}render({_n:u}){return`throw ${this.error};`+u}get names(){return this.error.names}}class _ extends o{constructor(u){super(),this.code=u}render({_n:u}){return`${this.code};`+u}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(u,g){return this.code=W(this.code,u,g),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class p extends o{constructor(u=[]){super(),this.nodes=u}render(u){return this.nodes.reduce((g,N)=>g+N.render(u),"")}optimizeNodes(){const{nodes:u}=this;let g=u.length;for(;g--;){const N=u[g].optimizeNodes();Array.isArray(N)?u.splice(g,1,...N):N?u[g]=N:u.splice(g,1)}return u.length>0?this:void 0}optimizeNames(u,g){const{nodes:N}=this;let M=N.length;for(;M--;){const F=N[M];F.optimizeNames(u,g)||(ke(u,F.names),N.splice(M,1))}return N.length>0?this:void 0}get names(){return this.nodes.reduce((u,g)=>re(u,g.names),{})}}class v extends p{render(u){return"{"+u._n+super.render(u)+"}"+u._n}}class $ extends p{}class m extends v{}m.kind="else";class y extends v{constructor(u,g){super(g),this.condition=u}render(u){let g=`if(${this.condition})`+super.render(u);return this.else&&(g+="else "+this.else.render(u)),g}optimizeNodes(){super.optimizeNodes();const u=this.condition;if(u===!0)return this.nodes;let g=this.else;if(g){const N=g.optimizeNodes();g=this.else=Array.isArray(N)?new m(N):N}if(g)return u===!1?g instanceof y?g:g.nodes:this.nodes.length?this:new y(ze(u),g instanceof y?[g]:g.nodes);if(!(u===!1||!this.nodes.length))return this}optimizeNames(u,g){var N;if(this.else=(N=this.else)===null||N===void 0?void 0:N.optimizeNames(u,g),!!(super.optimizeNames(u,g)||this.else))return this.condition=W(this.condition,u,g),this}get names(){const u=super.names;return Y(u,this.condition),this.else&&re(u,this.else.names),u}}y.kind="if";class d extends v{}d.kind="for";class b extends d{constructor(u){super(),this.iteration=u}render(u){return`for(${this.iteration})`+super.render(u)}optimizeNames(u,g){if(super.optimizeNames(u,g))return this.iteration=W(this.iteration,u,g),this}get names(){return re(super.names,this.iteration.names)}}class O extends d{constructor(u,g,N,M){super(),this.varKind=u,this.name=g,this.from=N,this.to=M}render(u){const g=u.es5?t.varKinds.var:this.varKind,{name:N,from:M,to:F}=this;return`for(${g} ${N}=${M}; ${N}<${F}; ${N}++)`+super.render(u)}get names(){const u=Y(super.names,this.from);return Y(u,this.to)}}class k extends d{constructor(u,g,N,M){super(),this.loop=u,this.varKind=g,this.name=N,this.iterable=M}render(u){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(u)}optimizeNames(u,g){if(super.optimizeNames(u,g))return this.iterable=W(this.iterable,u,g),this}get names(){return re(super.names,this.iterable.names)}}class C extends v{constructor(u,g,N){super(),this.name=u,this.args=g,this.async=N}render(u){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(u)}}C.kind="func";class x extends p{render(u){return"return "+super.render(u)}}x.kind="return";class L extends v{render(u){let g="try"+super.render(u);return this.catch&&(g+=this.catch.render(u)),this.finally&&(g+=this.finally.render(u)),g}optimizeNodes(){var u,g;return super.optimizeNodes(),(u=this.catch)===null||u===void 0||u.optimizeNodes(),(g=this.finally)===null||g===void 0||g.optimizeNodes(),this}optimizeNames(u,g){var N,M;return super.optimizeNames(u,g),(N=this.catch)===null||N===void 0||N.optimizeNames(u,g),(M=this.finally)===null||M===void 0||M.optimizeNames(u,g),this}get names(){const u=super.names;return this.catch&&re(u,this.catch.names),this.finally&&re(u,this.finally.names),u}}class J extends v{constructor(u){super(),this.error=u}render(u){return`catch(${this.error})`+super.render(u)}}J.kind="catch";class ee extends v{render(u){return"finally"+super.render(u)}}ee.kind="finally";class ie{constructor(u,g={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...g,_n:g.lines?`
`:""},this._extScope=u,this._scope=new t.Scope({parent:u}),this._nodes=[new $]}toString(){return this._root.render(this.opts)}name(u){return this._scope.name(u)}scopeName(u){return this._extScope.name(u)}scopeValue(u,g){const N=this._extScope.value(u,g);return(this._values[N.prefix]||(this._values[N.prefix]=new Set)).add(N),N}getScopeValue(u,g){return this._extScope.getValue(u,g)}scopeRefs(u){return this._extScope.scopeRefs(u,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(u,g,N,M){const F=this._scope.toName(g);return N!==void 0&&M&&(this._constants[F.str]=N),this._leafNode(new a(u,F,N)),F}const(u,g,N){return this._def(t.varKinds.const,u,g,N)}let(u,g,N){return this._def(t.varKinds.let,u,g,N)}var(u,g,N){return this._def(t.varKinds.var,u,g,N)}assign(u,g,N){return this._leafNode(new s(u,g,N))}add(u,g){return this._leafNode(new c(u,e.operators.ADD,g))}code(u){return typeof u=="function"?u():u!==r.nil&&this._leafNode(new _(u)),this}object(...u){const g=["{"];for(const[N,M]of u)g.length>1&&g.push(","),g.push(N),(N!==M||this.opts.es5)&&(g.push(":"),(0,r.addCodeArg)(g,M));return g.push("}"),new r._Code(g)}if(u,g,N){if(this._blockNode(new y(u)),g&&N)this.code(g).else().code(N).endIf();else if(g)this.code(g).endIf();else if(N)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(u){return this._elseNode(new y(u))}else(){return this._elseNode(new m)}endIf(){return this._endBlockNode(y,m)}_for(u,g){return this._blockNode(u),g&&this.code(g).endFor(),this}for(u,g){return this._for(new b(u),g)}forRange(u,g,N,M,F=this.opts.es5?t.varKinds.var:t.varKinds.let){const H=this._scope.toName(u);return this._for(new O(F,H,g,N),()=>M(H))}forOf(u,g,N,M=t.varKinds.const){const F=this._scope.toName(u);if(this.opts.es5){const H=g instanceof r.Name?g:this.var("_arr",g);return this.forRange("_i",0,(0,r._)`${H}.length`,K=>{this.var(F,(0,r._)`${H}[${K}]`),N(F)})}return this._for(new k("of",M,F,g),()=>N(F))}forIn(u,g,N,M=this.opts.es5?t.varKinds.var:t.varKinds.const){if(this.opts.ownProperties)return this.forOf(u,(0,r._)`Object.keys(${g})`,N);const F=this._scope.toName(u);return this._for(new k("in",M,F,g),()=>N(F))}endFor(){return this._endBlockNode(d)}label(u){return this._leafNode(new l(u))}break(u){return this._leafNode(new f(u))}return(u){const g=new x;if(this._blockNode(g),this.code(u),g.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(x)}try(u,g,N){if(!g&&!N)throw new Error('CodeGen: "try" without "catch" and "finally"');const M=new L;if(this._blockNode(M),this.code(u),g){const F=this.name("e");this._currNode=M.catch=new J(F),g(F)}return N&&(this._currNode=M.finally=new ee,this.code(N)),this._endBlockNode(J,ee)}throw(u){return this._leafNode(new h(u))}block(u,g){return this._blockStarts.push(this._nodes.length),u&&this.code(u).endBlock(g),this}endBlock(u){const g=this._blockStarts.pop();if(g===void 0)throw new Error("CodeGen: not in self-balancing block");const N=this._nodes.length-g;if(N<0||u!==void 0&&N!==u)throw new Error(`CodeGen: wrong number of nodes: ${N} vs ${u} expected`);return this._nodes.length=g,this}func(u,g=r.nil,N,M){return this._blockNode(new C(u,g,N)),M&&this.code(M).endFunc(),this}endFunc(){return this._endBlockNode(C)}optimize(u=1){for(;u-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(u){return this._currNode.nodes.push(u),this}_blockNode(u){this._currNode.nodes.push(u),this._nodes.push(u)}_endBlockNode(u,g){const N=this._currNode;if(N instanceof u||g&&N instanceof g)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${g?`${u.kind}/${g.kind}`:u.kind}"`)}_elseNode(u){const g=this._currNode;if(!(g instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=g.else=u,this}get _root(){return this._nodes[0]}get _currNode(){const u=this._nodes;return u[u.length-1]}set _currNode(u){const g=this._nodes;g[g.length-1]=u}}e.CodeGen=ie;function re(P,u){for(const g in u)P[g]=(P[g]||0)+(u[g]||0);return P}function Y(P,u){return u instanceof r._CodeOrName?re(P,u.names):P}function W(P,u,g){if(P instanceof r.Name)return N(P);if(!M(P))return P;return new r._Code(P._items.reduce((F,H)=>(H instanceof r.Name&&(H=N(H)),H instanceof r._Code?F.push(...H._items):F.push(H),F),[]));function N(F){const H=g[F.str];return H===void 0||u[F.str]!==1?F:(delete u[F.str],H)}function M(F){return F instanceof r._Code&&F._items.some(H=>H instanceof r.Name&&u[H.str]===1&&g[H.str]!==void 0)}}function ke(P,u){for(const g in u)P[g]=(P[g]||0)-(u[g]||0)}function ze(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,r._)`!${I(P)}`}e.not=ze;const rr=S(e.operators.AND);function yr(...P){return P.reduce(rr)}e.and=yr;const tr=S(e.operators.OR);function T(...P){return P.reduce(tr)}e.or=T;function S(P){return(u,g)=>u===r.nil?g:g===r.nil?u:(0,r._)`${I(u)} ${P} ${I(g)}`}function I(P){return P instanceof r.Name?P:(0,r._)`(${P})`}}(Mt)),Mt}var R={};Object.defineProperty(R,"__esModule",{value:!0}),R.checkStrictMode=R.getErrorPath=R.Type=R.useFunc=R.setEvaluated=R.evaluatedPropsToName=R.mergeEvaluated=R.eachItem=R.unescapeJsonPointer=R.escapeJsonPointer=R.escapeFragment=R.unescapeFragment=R.schemaRefOrVal=R.schemaHasRulesButRef=R.schemaHasRules=R.checkUnknownRules=R.alwaysValidSchema=R.toHash=void 0;const B=U(),Qc=Or();function eu(e){const r={};for(const t of e)r[t]=!0;return r}R.toHash=eu;function ru(e,r){return typeof r=="boolean"?r:Object.keys(r).length===0?!0:(Ki(e,r),!Hi(r,e.self.RULES.all))}R.alwaysValidSchema=ru;function Ki(e,r=e.schema){const{opts:t,self:n}=e;if(!t.strictSchema||typeof r=="boolean")return;const i=n.RULES.keywords;for(const o in r)i[o]||Wi(e,`unknown keyword: "${o}"`)}R.checkUnknownRules=Ki;function Hi(e,r){if(typeof e=="boolean")return!e;for(const t in e)if(r[t])return!0;return!1}R.schemaHasRules=Hi;function tu(e,r){if(typeof e=="boolean")return!e;for(const t in e)if(t!=="$ref"&&r.all[t])return!0;return!1}R.schemaHasRulesButRef=tu;function nu({topSchemaRef:e,schemaPath:r},t,n,i){if(!i){if(typeof t=="number"||typeof t=="boolean")return t;if(typeof t=="string")return(0,B._)`${t}`}return(0,B._)`${e}${r}${(0,B.getProperty)(n)}`}R.schemaRefOrVal=nu;function iu(e){return Gi(decodeURIComponent(e))}R.unescapeFragment=iu;function ou(e){return encodeURIComponent(qt(e))}R.escapeFragment=ou;function qt(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}R.escapeJsonPointer=qt;function Gi(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}R.unescapeJsonPointer=Gi;function au(e,r){if(Array.isArray(e))for(const t of e)r(t);else r(e)}R.eachItem=au;function Bi({mergeNames:e,mergeToName:r,mergeValues:t,resultToName:n}){return(i,o,a,s)=>{const c=a===void 0?o:a instanceof B.Name?(o instanceof B.Name?e(i,o,a):r(i,o,a),a):o instanceof B.Name?(r(i,a,o),o):t(o,a);return s===B.Name&&!(c instanceof B.Name)?n(i,c):c}}R.mergeEvaluated={props:Bi({mergeNames:(e,r,t)=>e.if((0,B._)`${t} !== true && ${r} !== undefined`,()=>{e.if((0,B._)`${r} === true`,()=>e.assign(t,!0),()=>e.assign(t,(0,B._)`${t} || {}`).code((0,B._)`Object.assign(${t}, ${r})`))}),mergeToName:(e,r,t)=>e.if((0,B._)`${t} !== true`,()=>{r===!0?e.assign(t,!0):(e.assign(t,(0,B._)`${t} || {}`),Ft(e,t,r))}),mergeValues:(e,r)=>e===!0?!0:{...e,...r},resultToName:Yi}),items:Bi({mergeNames:(e,r,t)=>e.if((0,B._)`${t} !== true && ${r} !== undefined`,()=>e.assign(t,(0,B._)`${r} === true ? true : ${t} > ${r} ? ${t} : ${r}`)),mergeToName:(e,r,t)=>e.if((0,B._)`${t} !== true`,()=>e.assign(t,r===!0?!0:(0,B._)`${t} > ${r} ? ${t} : ${r}`)),mergeValues:(e,r)=>e===!0?!0:Math.max(e,r),resultToName:(e,r)=>e.var("items",r)})};function Yi(e,r){if(r===!0)return e.var("props",!0);const t=e.var("props",(0,B._)`{}`);return r!==void 0&&Ft(e,t,r),t}R.evaluatedPropsToName=Yi;function Ft(e,r,t){Object.keys(t).forEach(n=>e.assign((0,B._)`${r}${(0,B.getProperty)(n)}`,!0))}R.setEvaluated=Ft;const Ji={};function su(e,r){return e.scopeValue("func",{ref:r,code:Ji[r.code]||(Ji[r.code]=new Qc._Code(r.code))})}R.useFunc=su;var Vt;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Vt||(R.Type=Vt={}));function cu(e,r,t){if(e instanceof B.Name){const n=r===Vt.Num;return t?n?(0,B._)`"[" + ${e} + "]"`:(0,B._)`"['" + ${e} + "']"`:n?(0,B._)`"/" + ${e}`:(0,B._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return t?(0,B.getProperty)(e).toString():"/"+qt(e)}R.getErrorPath=cu;function Wi(e,r,t=e.opts.strictSchema){if(t){if(r=`strict mode: ${r}`,t===!0)throw new Error(r);e.self.logger.warn(r)}}R.checkStrictMode=Wi;var Nr={},Xi;function Te(){if(Xi)return Nr;Xi=1,Object.defineProperty(Nr,"__esModule",{value:!0});const e=U(),r={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return Nr.default=r,Nr}var Zi;function jr(){return Zi||(Zi=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const r=U(),t=R,n=Te();e.keywordError={message:({keyword:m})=>(0,r.str)`must pass "${m}" keyword validation`},e.keyword$DataError={message:({keyword:m,schemaType:y})=>y?(0,r.str)`"${m}" keyword must be ${y} ($data)`:(0,r.str)`"${m}" keyword is invalid ($data)`};function i(m,y=e.keywordError,d,b){const{it:O}=m,{gen:k,compositeRule:C,allErrors:x}=O,L=h(m,y,d);b??(C||x)?c(k,L):l(O,(0,r._)`[${L}]`)}e.reportError=i;function o(m,y=e.keywordError,d){const{it:b}=m,{gen:O,compositeRule:k,allErrors:C}=b,x=h(m,y,d);c(O,x),k||C||l(b,n.default.vErrors)}e.reportExtraError=o;function a(m,y){m.assign(n.default.errors,y),m.if((0,r._)`${n.default.vErrors} !== null`,()=>m.if(y,()=>m.assign((0,r._)`${n.default.vErrors}.length`,y),()=>m.assign(n.default.vErrors,null)))}e.resetErrorsCount=a;function s({gen:m,keyword:y,schemaValue:d,data:b,errsCount:O,it:k}){if(O===void 0)throw new Error("ajv implementation error");const C=m.name("err");m.forRange("i",O,n.default.errors,x=>{m.const(C,(0,r._)`${n.default.vErrors}[${x}]`),m.if((0,r._)`${C}.instancePath === undefined`,()=>m.assign((0,r._)`${C}.instancePath`,(0,r.strConcat)(n.default.instancePath,k.errorPath))),m.assign((0,r._)`${C}.schemaPath`,(0,r.str)`${k.errSchemaPath}/${y}`),k.opts.verbose&&(m.assign((0,r._)`${C}.schema`,d),m.assign((0,r._)`${C}.data`,b))})}e.extendErrors=s;function c(m,y){const d=m.const("err",y);m.if((0,r._)`${n.default.vErrors} === null`,()=>m.assign(n.default.vErrors,(0,r._)`[${d}]`),(0,r._)`${n.default.vErrors}.push(${d})`),m.code((0,r._)`${n.default.errors}++`)}function l(m,y){const{gen:d,validateName:b,schemaEnv:O}=m;O.$async?d.throw((0,r._)`new ${m.ValidationError}(${y})`):(d.assign((0,r._)`${b}.errors`,y),d.return(!1))}const f={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function h(m,y,d){const{createErrors:b}=m.it;return b===!1?(0,r._)`{}`:_(m,y,d)}function _(m,y,d={}){const{gen:b,it:O}=m,k=[p(O,d),v(m,d)];return $(m,y,k),b.object(...k)}function p({errorPath:m},{instancePath:y}){const d=y?(0,r.str)`${m}${(0,t.getErrorPath)(y,t.Type.Str)}`:m;return[n.default.instancePath,(0,r.strConcat)(n.default.instancePath,d)]}function v({keyword:m,it:{errSchemaPath:y}},{schemaPath:d,parentSchema:b}){let O=b?y:(0,r.str)`${y}/${m}`;return d&&(O=(0,r.str)`${O}${(0,t.getErrorPath)(d,t.Type.Str)}`),[f.schemaPath,O]}function $(m,{params:y,message:d},b){const{keyword:O,data:k,schemaValue:C,it:x}=m,{opts:L,propertyName:J,topSchemaRef:ee,schemaPath:ie}=x;b.push([f.keyword,O],[f.params,typeof y=="function"?y(m):y||(0,r._)`{}`]),L.messages&&b.push([f.message,typeof d=="function"?d(m):d]),L.verbose&&b.push([f.schema,C],[f.parentSchema,(0,r._)`${ee}${ie}`],[n.default.data,k]),J&&b.push([f.propertyName,J])}}(Rt)),Rt}var Qi;function uu(){if(Qi)return xe;Qi=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.boolOrEmptySchema=xe.topBoolOrEmptySchema=void 0;const e=jr(),r=U(),t=Te(),n={message:"boolean schema is false"};function i(s){const{gen:c,schema:l,validateName:f}=s;l===!1?a(s,!1):typeof l=="object"&&l.$async===!0?c.return(t.default.data):(c.assign((0,r._)`${f}.errors`,null),c.return(!0))}xe.topBoolOrEmptySchema=i;function o(s,c){const{gen:l,schema:f}=s;f===!1?(l.var(c,!1),a(s)):l.var(c,!0)}xe.boolOrEmptySchema=o;function a(s,c){const{gen:l,data:f}=s,h={gen:l,keyword:"false schema",data:f,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:s};(0,e.reportError)(h,n,void 0,c)}return xe}var Q={},De={};Object.defineProperty(De,"__esModule",{value:!0}),De.getRules=De.isJSONType=void 0;const lu=["string","number","integer","boolean","null","object","array"],fu=new Set(lu);function du(e){return typeof e=="string"&&fu.has(e)}De.isJSONType=du;function hu(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}De.getRules=hu;var Oe={},eo;function ro(){if(eo)return Oe;eo=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.shouldUseRule=Oe.shouldUseGroup=Oe.schemaHasRulesForType=void 0;function e({schema:n,self:i},o){const a=i.RULES.types[o];return a&&a!==!0&&r(n,a)}Oe.schemaHasRulesForType=e;function r(n,i){return i.rules.some(o=>t(n,o))}Oe.shouldUseGroup=r;function t(n,i){var o;return n[i.keyword]!==void 0||((o=i.definition.implements)===null||o===void 0?void 0:o.some(a=>n[a]!==void 0))}return Oe.shouldUseRule=t,Oe}Object.defineProperty(Q,"__esModule",{value:!0}),Q.reportTypeError=Q.checkDataTypes=Q.checkDataType=Q.coerceAndCheckDataType=Q.getJSONTypes=Q.getSchemaTypes=Q.DataType=void 0;const pu=De,mu=ro(),yu=jr(),V=U(),to=R;var Ye;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Ye||(Q.DataType=Ye={}));function gu(e){const r=no(e.type);if(r.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!r.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&r.push("null")}return r}Q.getSchemaTypes=gu;function no(e){const r=Array.isArray(e)?e:e?[e]:[];if(r.every(pu.isJSONType))return r;throw new Error("type must be JSONType or JSONType[]: "+r.join(","))}Q.getJSONTypes=no;function vu(e,r){const{gen:t,data:n,opts:i}=e,o=_u(r,i.coerceTypes),a=r.length>0&&!(o.length===0&&r.length===1&&(0,mu.schemaHasRulesForType)(e,r[0]));if(a){const s=zt(r,n,i.strictNumbers,Ye.Wrong);t.if(s,()=>{o.length?$u(e,r,o):Ut(e)})}return a}Q.coerceAndCheckDataType=vu;const io=new Set(["string","number","integer","boolean","null"]);function _u(e,r){return r?e.filter(t=>io.has(t)||r==="array"&&t==="array"):[]}function $u(e,r,t){const{gen:n,data:i,opts:o}=e,a=n.let("dataType",(0,V._)`typeof ${i}`),s=n.let("coerced",(0,V._)`undefined`);o.coerceTypes==="array"&&n.if((0,V._)`${a} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,V._)`${i}[0]`).assign(a,(0,V._)`typeof ${i}`).if(zt(r,i,o.strictNumbers),()=>n.assign(s,i))),n.if((0,V._)`${s} !== undefined`);for(const l of t)(io.has(l)||l==="array"&&o.coerceTypes==="array")&&c(l);n.else(),Ut(e),n.endIf(),n.if((0,V._)`${s} !== undefined`,()=>{n.assign(i,s),bu(e,s)});function c(l){switch(l){case"string":n.elseIf((0,V._)`${a} == "number" || ${a} == "boolean"`).assign(s,(0,V._)`"" + ${i}`).elseIf((0,V._)`${i} === null`).assign(s,(0,V._)`""`);return;case"number":n.elseIf((0,V._)`${a} == "boolean" || ${i} === null
              || (${a} == "string" && ${i} && ${i} == +${i})`).assign(s,(0,V._)`+${i}`);return;case"integer":n.elseIf((0,V._)`${a} === "boolean" || ${i} === null
              || (${a} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(s,(0,V._)`+${i}`);return;case"boolean":n.elseIf((0,V._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(s,!1).elseIf((0,V._)`${i} === "true" || ${i} === 1`).assign(s,!0);return;case"null":n.elseIf((0,V._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(s,null);return;case"array":n.elseIf((0,V._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${i} === null`).assign(s,(0,V._)`[${i}]`)}}}function bu({gen:e,parentData:r,parentDataProperty:t},n){e.if((0,V._)`${r} !== undefined`,()=>e.assign((0,V._)`${r}[${t}]`,n))}function Lt(e,r,t,n=Ye.Correct){const i=n===Ye.Correct?V.operators.EQ:V.operators.NEQ;let o;switch(e){case"null":return(0,V._)`${r} ${i} null`;case"array":o=(0,V._)`Array.isArray(${r})`;break;case"object":o=(0,V._)`${r} && typeof ${r} == "object" && !Array.isArray(${r})`;break;case"integer":o=a((0,V._)`!(${r} % 1) && !isNaN(${r})`);break;case"number":o=a();break;default:return(0,V._)`typeof ${r} ${i} ${e}`}return n===Ye.Correct?o:(0,V.not)(o);function a(s=V.nil){return(0,V.and)((0,V._)`typeof ${r} == "number"`,s,t?(0,V._)`isFinite(${r})`:V.nil)}}Q.checkDataType=Lt;function zt(e,r,t,n){if(e.length===1)return Lt(e[0],r,t,n);let i;const o=(0,to.toHash)(e);if(o.array&&o.object){const a=(0,V._)`typeof ${r} != "object"`;i=o.null?a:(0,V._)`!${r} || ${a}`,delete o.null,delete o.array,delete o.object}else i=V.nil;o.number&&delete o.integer;for(const a in o)i=(0,V.and)(i,Lt(a,r,t,n));return i}Q.checkDataTypes=zt;const wu={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:r})=>typeof e=="string"?(0,V._)`{type: ${e}}`:(0,V._)`{type: ${r}}`};function Ut(e){const r=Su(e);(0,yu.reportError)(r,wu)}Q.reportTypeError=Ut;function Su(e){const{gen:r,data:t,schema:n}=e,i=(0,to.schemaRefOrVal)(e,n,"type");return{gen:r,keyword:"type",data:t,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:e}}var sr={},oo;function Eu(){if(oo)return sr;oo=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.assignDefaults=void 0;const e=U(),r=R;function t(i,o){const{properties:a,items:s}=i.schema;if(o==="object"&&a)for(const c in a)n(i,c,a[c].default);else o==="array"&&Array.isArray(s)&&s.forEach((c,l)=>n(i,l,c.default))}sr.assignDefaults=t;function n(i,o,a){const{gen:s,compositeRule:c,data:l,opts:f}=i;if(a===void 0)return;const h=(0,e._)`${l}${(0,e.getProperty)(o)}`;if(c){(0,r.checkStrictMode)(i,`default is ignored for: ${h}`);return}let _=(0,e._)`${h} === undefined`;f.useDefaults==="empty"&&(_=(0,e._)`${_} || ${h} === null || ${h} === ""`),s.if(_,(0,e._)`${h} = ${(0,e.stringify)(a)}`)}return sr}var ye={},G={},ao;function ge(){if(ao)return G;ao=1,Object.defineProperty(G,"__esModule",{value:!0}),G.validateUnion=G.validateArray=G.usePattern=G.callValidateCode=G.schemaProperties=G.allSchemaProperties=G.noPropertyInData=G.propertyInData=G.isOwnProperty=G.hasPropFunc=G.reportMissingProp=G.checkMissingProp=G.checkReportMissingProp=void 0;const e=U(),r=R,t=Te(),n=R;function i(d,b){const{gen:O,data:k,it:C}=d;O.if(f(O,k,b,C.opts.ownProperties),()=>{d.setParams({missingProperty:(0,e._)`${b}`},!0),d.error()})}G.checkReportMissingProp=i;function o({gen:d,data:b,it:{opts:O}},k,C){return(0,e.or)(...k.map(x=>(0,e.and)(f(d,b,x,O.ownProperties),(0,e._)`${C} = ${x}`)))}G.checkMissingProp=o;function a(d,b){d.setParams({missingProperty:b},!0),d.error()}G.reportMissingProp=a;function s(d){return d.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}G.hasPropFunc=s;function c(d,b,O){return(0,e._)`${s(d)}.call(${b}, ${O})`}G.isOwnProperty=c;function l(d,b,O,k){const C=(0,e._)`${b}${(0,e.getProperty)(O)} !== undefined`;return k?(0,e._)`${C} && ${c(d,b,O)}`:C}G.propertyInData=l;function f(d,b,O,k){const C=(0,e._)`${b}${(0,e.getProperty)(O)} === undefined`;return k?(0,e.or)(C,(0,e.not)(c(d,b,O))):C}G.noPropertyInData=f;function h(d){return d?Object.keys(d).filter(b=>b!=="__proto__"):[]}G.allSchemaProperties=h;function _(d,b){return h(b).filter(O=>!(0,r.alwaysValidSchema)(d,b[O]))}G.schemaProperties=_;function p({schemaCode:d,data:b,it:{gen:O,topSchemaRef:k,schemaPath:C,errorPath:x},it:L},J,ee,ie){const re=ie?(0,e._)`${d}, ${b}, ${k}${C}`:b,Y=[[t.default.instancePath,(0,e.strConcat)(t.default.instancePath,x)],[t.default.parentData,L.parentData],[t.default.parentDataProperty,L.parentDataProperty],[t.default.rootData,t.default.rootData]];L.opts.dynamicRef&&Y.push([t.default.dynamicAnchors,t.default.dynamicAnchors]);const W=(0,e._)`${re}, ${O.object(...Y)}`;return ee!==e.nil?(0,e._)`${J}.call(${ee}, ${W})`:(0,e._)`${J}(${W})`}G.callValidateCode=p;const v=(0,e._)`new RegExp`;function $({gen:d,it:{opts:b}},O){const k=b.unicodeRegExp?"u":"",{regExp:C}=b.code,x=C(O,k);return d.scopeValue("pattern",{key:x.toString(),ref:x,code:(0,e._)`${C.code==="new RegExp"?v:(0,n.useFunc)(d,C)}(${O}, ${k})`})}G.usePattern=$;function m(d){const{gen:b,data:O,keyword:k,it:C}=d,x=b.name("valid");if(C.allErrors){const J=b.let("valid",!0);return L(()=>b.assign(J,!1)),J}return b.var(x,!0),L(()=>b.break()),x;function L(J){const ee=b.const("len",(0,e._)`${O}.length`);b.forRange("i",0,ee,ie=>{d.subschema({keyword:k,dataProp:ie,dataPropType:r.Type.Num},x),b.if((0,e.not)(x),J)})}}G.validateArray=m;function y(d){const{gen:b,schema:O,keyword:k,it:C}=d;if(!Array.isArray(O))throw new Error("ajv implementation error");if(O.some(ee=>(0,r.alwaysValidSchema)(C,ee))&&!C.opts.unevaluated)return;const L=b.let("valid",!1),J=b.name("_valid");b.block(()=>O.forEach((ee,ie)=>{const re=d.subschema({keyword:k,schemaProp:ie,compositeRule:!0},J);b.assign(L,(0,e._)`${L} || ${J}`),d.mergeValidEvaluated(re,J)||b.if((0,e.not)(L))})),d.result(L,()=>d.reset(),()=>d.error(!0))}return G.validateUnion=y,G}var so;function Pu(){if(so)return ye;so=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.validateKeywordUsage=ye.validSchemaType=ye.funcKeywordCode=ye.macroKeywordCode=void 0;const e=U(),r=Te(),t=ge(),n=jr();function i(_,p){const{gen:v,keyword:$,schema:m,parentSchema:y,it:d}=_,b=p.macro.call(d.self,m,y,d),O=l(v,$,b);d.opts.validateSchema!==!1&&d.self.validateSchema(b,!0);const k=v.name("valid");_.subschema({schema:b,schemaPath:e.nil,errSchemaPath:`${d.errSchemaPath}/${$}`,topSchemaRef:O,compositeRule:!0},k),_.pass(k,()=>_.error(!0))}ye.macroKeywordCode=i;function o(_,p){var v;const{gen:$,keyword:m,schema:y,parentSchema:d,$data:b,it:O}=_;c(O,p);const k=!b&&p.compile?p.compile.call(O.self,y,d,O):p.validate,C=l($,m,k),x=$.let("valid");_.block$data(x,L),_.ok((v=p.valid)!==null&&v!==void 0?v:x);function L(){if(p.errors===!1)ie(),p.modifying&&a(_),re(()=>_.error());else{const Y=p.async?J():ee();p.modifying&&a(_),re(()=>s(_,Y))}}function J(){const Y=$.let("ruleErrs",null);return $.try(()=>ie((0,e._)`await `),W=>$.assign(x,!1).if((0,e._)`${W} instanceof ${O.ValidationError}`,()=>$.assign(Y,(0,e._)`${W}.errors`),()=>$.throw(W))),Y}function ee(){const Y=(0,e._)`${C}.errors`;return $.assign(Y,null),ie(e.nil),Y}function ie(Y=p.async?(0,e._)`await `:e.nil){const W=O.opts.passContext?r.default.this:r.default.self,ke=!("compile"in p&&!b||p.schema===!1);$.assign(x,(0,e._)`${Y}${(0,t.callValidateCode)(_,C,W,ke)}`,p.modifying)}function re(Y){var W;$.if((0,e.not)((W=p.valid)!==null&&W!==void 0?W:x),Y)}}ye.funcKeywordCode=o;function a(_){const{gen:p,data:v,it:$}=_;p.if($.parentData,()=>p.assign(v,(0,e._)`${$.parentData}[${$.parentDataProperty}]`))}function s(_,p){const{gen:v}=_;v.if((0,e._)`Array.isArray(${p})`,()=>{v.assign(r.default.vErrors,(0,e._)`${r.default.vErrors} === null ? ${p} : ${r.default.vErrors}.concat(${p})`).assign(r.default.errors,(0,e._)`${r.default.vErrors}.length`),(0,n.extendErrors)(_)},()=>_.error())}function c({schemaEnv:_},p){if(p.async&&!_.$async)throw new Error("async keyword in sync schema")}function l(_,p,v){if(v===void 0)throw new Error(`keyword "${p}" failed to compile`);return _.scopeValue("keyword",typeof v=="function"?{ref:v}:{ref:v,code:(0,e.stringify)(v)})}function f(_,p,v=!1){return!p.length||p.some($=>$==="array"?Array.isArray(_):$==="object"?_&&typeof _=="object"&&!Array.isArray(_):typeof _==$||v&&typeof _>"u")}ye.validSchemaType=f;function h({schema:_,opts:p,self:v,errSchemaPath:$},m,y){if(Array.isArray(m.keyword)?!m.keyword.includes(y):m.keyword!==y)throw new Error("ajv implementation error");const d=m.dependencies;if(d!=null&&d.some(b=>!Object.prototype.hasOwnProperty.call(_,b)))throw new Error(`parent schema must have dependencies of ${y}: ${d.join(",")}`);if(m.validateSchema&&!m.validateSchema(_[y])){const O=`keyword "${y}" value is invalid at path "${$}": `+v.errorsText(m.validateSchema.errors);if(p.validateSchema==="log")v.logger.error(O);else throw new Error(O)}}return ye.validateKeywordUsage=h,ye}var Ne={},co;function Ou(){if(co)return Ne;co=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.extendSubschemaMode=Ne.extendSubschemaData=Ne.getSubschema=void 0;const e=U(),r=R;function t(o,{keyword:a,schemaProp:s,schema:c,schemaPath:l,errSchemaPath:f,topSchemaRef:h}){if(a!==void 0&&c!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const _=o.schema[a];return s===void 0?{schema:_,schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(a)}`,errSchemaPath:`${o.errSchemaPath}/${a}`}:{schema:_[s],schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(a)}${(0,e.getProperty)(s)}`,errSchemaPath:`${o.errSchemaPath}/${a}/${(0,r.escapeFragment)(s)}`}}if(c!==void 0){if(l===void 0||f===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:l,topSchemaRef:h,errSchemaPath:f}}throw new Error('either "keyword" or "schema" must be passed')}Ne.getSubschema=t;function n(o,a,{dataProp:s,dataPropType:c,data:l,dataTypes:f,propertyName:h}){if(l!==void 0&&s!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:_}=a;if(s!==void 0){const{errorPath:v,dataPathArr:$,opts:m}=a,y=_.let("data",(0,e._)`${a.data}${(0,e.getProperty)(s)}`,!0);p(y),o.errorPath=(0,e.str)`${v}${(0,r.getErrorPath)(s,c,m.jsPropertySyntax)}`,o.parentDataProperty=(0,e._)`${s}`,o.dataPathArr=[...$,o.parentDataProperty]}if(l!==void 0){const v=l instanceof e.Name?l:_.let("data",l,!0);p(v),h!==void 0&&(o.propertyName=h)}f&&(o.dataTypes=f);function p(v){o.data=v,o.dataLevel=a.dataLevel+1,o.dataTypes=[],a.definedProperties=new Set,o.parentData=a.data,o.dataNames=[...a.dataNames,v]}}Ne.extendSubschemaData=n;function i(o,{jtdDiscriminator:a,jtdMetadata:s,compositeRule:c,createErrors:l,allErrors:f}){c!==void 0&&(o.compositeRule=c),l!==void 0&&(o.createErrors=l),f!==void 0&&(o.allErrors=f),o.jtdDiscriminator=a,o.jtdMetadata=s}return Ne.extendSubschemaMode=i,Ne}var te={},uo=function e(r,t){if(r===t)return!0;if(r&&t&&typeof r=="object"&&typeof t=="object"){if(r.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(r)){if(n=r.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!e(r[i],t[i]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if(o=Object.keys(r),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){var a=o[i];if(!e(r[a],t[a]))return!1}return!0}return r!==r&&t!==t},lo={exports:{}},Ce=lo.exports=function(e,r,t){typeof r=="function"&&(t=r,r={}),t=r.cb||t;var n=typeof t=="function"?t:t.pre||function(){},i=t.post||function(){};kr(r,n,i,e,"",e)};Ce.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},Ce.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},Ce.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},Ce.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function kr(e,r,t,n,i,o,a,s,c,l){if(n&&typeof n=="object"&&!Array.isArray(n)){r(n,i,o,a,s,c,l);for(var f in n){var h=n[f];if(Array.isArray(h)){if(f in Ce.arrayKeywords)for(var _=0;_<h.length;_++)kr(e,r,t,h[_],i+"/"+f+"/"+_,o,i,f,n,_)}else if(f in Ce.propsKeywords){if(h&&typeof h=="object")for(var p in h)kr(e,r,t,h[p],i+"/"+f+"/"+Nu(p),o,i,f,n,p)}else(f in Ce.keywords||e.allKeys&&!(f in Ce.skipKeywords))&&kr(e,r,t,h,i+"/"+f,o,i,f,n)}t(n,i,o,a,s,c,l)}}function Nu(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var ju=lo.exports;Object.defineProperty(te,"__esModule",{value:!0}),te.getSchemaRefs=te.resolveUrl=te.normalizeId=te._getFullPath=te.getFullPath=te.inlineRef=void 0;const ku=R,Iu=uo,Au=ju,Tu=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Cu(e,r=!0){return typeof e=="boolean"?!0:r===!0?!Kt(e):r?fo(e)<=r:!1}te.inlineRef=Cu;const Ru=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Kt(e){for(const r in e){if(Ru.has(r))return!0;const t=e[r];if(Array.isArray(t)&&t.some(Kt)||typeof t=="object"&&Kt(t))return!0}return!1}function fo(e){let r=0;for(const t in e){if(t==="$ref")return 1/0;if(r++,!Tu.has(t)&&(typeof e[t]=="object"&&(0,ku.eachItem)(e[t],n=>r+=fo(n)),r===1/0))return 1/0}return r}function ho(e,r="",t){t!==!1&&(r=Je(r));const n=e.parse(r);return po(e,n)}te.getFullPath=ho;function po(e,r){return e.serialize(r).split("#")[0]+"#"}te._getFullPath=po;const Mu=/#\/?$/;function Je(e){return e?e.replace(Mu,""):""}te.normalizeId=Je;function xu(e,r,t){return t=Je(t),e.resolve(r,t)}te.resolveUrl=xu;const Du=/^[a-z_][-a-z0-9._]*$/i;function qu(e,r){if(typeof e=="boolean")return{};const{schemaId:t,uriResolver:n}=this.opts,i=Je(e[t]||r),o={"":i},a=ho(n,i,!1),s={},c=new Set;return Au(e,{allKeys:!0},(h,_,p,v)=>{if(v===void 0)return;const $=a+_;let m=o[v];typeof h[t]=="string"&&(m=y.call(this,h[t])),d.call(this,h.$anchor),d.call(this,h.$dynamicAnchor),o[_]=m;function y(b){const O=this.opts.uriResolver.resolve;if(b=Je(m?O(m,b):b),c.has(b))throw f(b);c.add(b);let k=this.refs[b];return typeof k=="string"&&(k=this.refs[k]),typeof k=="object"?l(h,k.schema,b):b!==Je($)&&(b[0]==="#"?(l(h,s[b],b),s[b]=h):this.refs[b]=$),b}function d(b){if(typeof b=="string"){if(!Du.test(b))throw new Error(`invalid anchor "${b}"`);y.call(this,`#${b}`)}}}),s;function l(h,_,p){if(_!==void 0&&!Iu(h,_))throw f(p)}function f(h){return new Error(`reference "${h}" resolves to more than one schema`)}}te.getSchemaRefs=qu;var mo;function Ir(){if(mo)return Pe;mo=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.getData=Pe.KeywordCxt=Pe.validateFunctionCode=void 0;const e=uu(),r=Q,t=ro(),n=Q,i=Eu(),o=Pu(),a=Ou(),s=U(),c=Te(),l=te,f=R,h=jr();function _(w){if(k(w)&&(x(w),O(w))){m(w);return}p(w,()=>(0,e.topBoolOrEmptySchema)(w))}Pe.validateFunctionCode=_;function p({gen:w,validateName:E,schema:j,schemaEnv:A,opts:D},z){D.code.es5?w.func(E,(0,s._)`${c.default.data}, ${c.default.valCxt}`,A.$async,()=>{w.code((0,s._)`"use strict"; ${d(j,D)}`),$(w,D),w.code(z)}):w.func(E,(0,s._)`${c.default.data}, ${v(D)}`,A.$async,()=>w.code(d(j,D)).code(z))}function v(w){return(0,s._)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${w.dynamicRef?(0,s._)`, ${c.default.dynamicAnchors}={}`:s.nil}}={}`}function $(w,E){w.if(c.default.valCxt,()=>{w.var(c.default.instancePath,(0,s._)`${c.default.valCxt}.${c.default.instancePath}`),w.var(c.default.parentData,(0,s._)`${c.default.valCxt}.${c.default.parentData}`),w.var(c.default.parentDataProperty,(0,s._)`${c.default.valCxt}.${c.default.parentDataProperty}`),w.var(c.default.rootData,(0,s._)`${c.default.valCxt}.${c.default.rootData}`),E.dynamicRef&&w.var(c.default.dynamicAnchors,(0,s._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{w.var(c.default.instancePath,(0,s._)`""`),w.var(c.default.parentData,(0,s._)`undefined`),w.var(c.default.parentDataProperty,(0,s._)`undefined`),w.var(c.default.rootData,c.default.data),E.dynamicRef&&w.var(c.default.dynamicAnchors,(0,s._)`{}`)})}function m(w){const{schema:E,opts:j,gen:A}=w;p(w,()=>{j.$comment&&E.$comment&&Y(w),ee(w),A.let(c.default.vErrors,null),A.let(c.default.errors,0),j.unevaluated&&y(w),L(w),W(w)})}function y(w){const{gen:E,validateName:j}=w;w.evaluated=E.const("evaluated",(0,s._)`${j}.evaluated`),E.if((0,s._)`${w.evaluated}.dynamicProps`,()=>E.assign((0,s._)`${w.evaluated}.props`,(0,s._)`undefined`)),E.if((0,s._)`${w.evaluated}.dynamicItems`,()=>E.assign((0,s._)`${w.evaluated}.items`,(0,s._)`undefined`))}function d(w,E){const j=typeof w=="object"&&w[E.schemaId];return j&&(E.code.source||E.code.process)?(0,s._)`/*# sourceURL=${j} */`:s.nil}function b(w,E){if(k(w)&&(x(w),O(w))){C(w,E);return}(0,e.boolOrEmptySchema)(w,E)}function O({schema:w,self:E}){if(typeof w=="boolean")return!w;for(const j in w)if(E.RULES.all[j])return!0;return!1}function k(w){return typeof w.schema!="boolean"}function C(w,E){const{schema:j,gen:A,opts:D}=w;D.$comment&&j.$comment&&Y(w),ie(w),re(w);const z=A.const("_errs",c.default.errors);L(w,z),A.var(E,(0,s._)`${z} === ${c.default.errors}`)}function x(w){(0,f.checkUnknownRules)(w),J(w)}function L(w,E){if(w.opts.jtd)return ze(w,[],!1,E);const j=(0,r.getSchemaTypes)(w.schema),A=(0,r.coerceAndCheckDataType)(w,j);ze(w,j,!A,E)}function J(w){const{schema:E,errSchemaPath:j,opts:A,self:D}=w;E.$ref&&A.ignoreKeywordsWithRef&&(0,f.schemaHasRulesButRef)(E,D.RULES)&&D.logger.warn(`$ref: keywords ignored in schema at path "${j}"`)}function ee(w){const{schema:E,opts:j}=w;E.default!==void 0&&j.useDefaults&&j.strictSchema&&(0,f.checkStrictMode)(w,"default is ignored in the schema root")}function ie(w){const E=w.schema[w.opts.schemaId];E&&(w.baseId=(0,l.resolveUrl)(w.opts.uriResolver,w.baseId,E))}function re(w){if(w.schema.$async&&!w.schemaEnv.$async)throw new Error("async schema in sync schema")}function Y({gen:w,schemaEnv:E,schema:j,errSchemaPath:A,opts:D}){const z=j.$comment;if(D.$comment===!0)w.code((0,s._)`${c.default.self}.logger.log(${z})`);else if(typeof D.$comment=="function"){const oe=(0,s.str)`${A}/$comment`,be=w.scopeValue("root",{ref:E.root});w.code((0,s._)`${c.default.self}.opts.$comment(${z}, ${oe}, ${be}.schema)`)}}function W(w){const{gen:E,schemaEnv:j,validateName:A,ValidationError:D,opts:z}=w;j.$async?E.if((0,s._)`${c.default.errors} === 0`,()=>E.return(c.default.data),()=>E.throw((0,s._)`new ${D}(${c.default.vErrors})`)):(E.assign((0,s._)`${A}.errors`,c.default.vErrors),z.unevaluated&&ke(w),E.return((0,s._)`${c.default.errors} === 0`))}function ke({gen:w,evaluated:E,props:j,items:A}){j instanceof s.Name&&w.assign((0,s._)`${E}.props`,j),A instanceof s.Name&&w.assign((0,s._)`${E}.items`,A)}function ze(w,E,j,A){const{gen:D,schema:z,data:oe,allErrors:be,opts:de,self:he}=w,{RULES:ae}=he;if(z.$ref&&(de.ignoreKeywordsWithRef||!(0,f.schemaHasRulesButRef)(z,ae))){D.block(()=>M(w,"$ref",ae.all.$ref.definition));return}de.jtd||yr(w,E),D.block(()=>{for(const me of ae.rules)nr(me);nr(ae.post)});function nr(me){(0,t.shouldUseGroup)(z,me)&&(me.type?(D.if((0,n.checkDataType)(me.type,oe,de.strictNumbers)),rr(w,me),E.length===1&&E[0]===me.type&&j&&(D.else(),(0,n.reportTypeError)(w)),D.endIf()):rr(w,me),be||D.if((0,s._)`${c.default.errors} === ${A||0}`))}}function rr(w,E){const{gen:j,schema:A,opts:{useDefaults:D}}=w;D&&(0,i.assignDefaults)(w,E.type),j.block(()=>{for(const z of E.rules)(0,t.shouldUseRule)(A,z)&&M(w,z.keyword,z.definition,E.type)})}function yr(w,E){w.schemaEnv.meta||!w.opts.strictTypes||(tr(w,E),w.opts.allowUnionTypes||T(w,E),S(w,w.dataTypes))}function tr(w,E){if(E.length){if(!w.dataTypes.length){w.dataTypes=E;return}E.forEach(j=>{P(w.dataTypes,j)||g(w,`type "${j}" not allowed by context "${w.dataTypes.join(",")}"`)}),u(w,E)}}function T(w,E){E.length>1&&!(E.length===2&&E.includes("null"))&&g(w,"use allowUnionTypes to allow union type keyword")}function S(w,E){const j=w.self.RULES.all;for(const A in j){const D=j[A];if(typeof D=="object"&&(0,t.shouldUseRule)(w.schema,D)){const{type:z}=D.definition;z.length&&!z.some(oe=>I(E,oe))&&g(w,`missing type "${z.join(",")}" for keyword "${A}"`)}}}function I(w,E){return w.includes(E)||E==="number"&&w.includes("integer")}function P(w,E){return w.includes(E)||E==="integer"&&w.includes("number")}function u(w,E){const j=[];for(const A of w.dataTypes)P(E,A)?j.push(A):E.includes("integer")&&A==="number"&&j.push("integer");w.dataTypes=j}function g(w,E){const j=w.schemaEnv.baseId+w.errSchemaPath;E+=` at "${j}" (strictTypes)`,(0,f.checkStrictMode)(w,E,w.opts.strictTypes)}class N{constructor(E,j,A){if((0,o.validateKeywordUsage)(E,j,A),this.gen=E.gen,this.allErrors=E.allErrors,this.keyword=A,this.data=E.data,this.schema=E.schema[A],this.$data=j.$data&&E.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,f.schemaRefOrVal)(E,this.schema,A,this.$data),this.schemaType=j.schemaType,this.parentSchema=E.schema,this.params={},this.it=E,this.def=j,this.$data)this.schemaCode=E.gen.const("vSchema",K(this.$data,E));else if(this.schemaCode=this.schemaValue,!(0,o.validSchemaType)(this.schema,j.schemaType,j.allowUndefined))throw new Error(`${A} value must be ${JSON.stringify(j.schemaType)}`);("code"in j?j.trackErrors:j.errors!==!1)&&(this.errsCount=E.gen.const("_errs",c.default.errors))}result(E,j,A){this.failResult((0,s.not)(E),j,A)}failResult(E,j,A){this.gen.if(E),A?A():this.error(),j?(this.gen.else(),j(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(E,j){this.failResult((0,s.not)(E),void 0,j)}fail(E){if(E===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(E),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(E){if(!this.$data)return this.fail(E);const{schemaCode:j}=this;this.fail((0,s._)`${j} !== undefined && (${(0,s.or)(this.invalid$data(),E)})`)}error(E,j,A){if(j){this.setParams(j),this._error(E,A),this.setParams({});return}this._error(E,A)}_error(E,j){(E?h.reportExtraError:h.reportError)(this,this.def.error,j)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(E){this.allErrors||this.gen.if(E)}setParams(E,j){j?Object.assign(this.params,E):this.params=E}block$data(E,j,A=s.nil){this.gen.block(()=>{this.check$data(E,A),j()})}check$data(E=s.nil,j=s.nil){if(!this.$data)return;const{gen:A,schemaCode:D,schemaType:z,def:oe}=this;A.if((0,s.or)((0,s._)`${D} === undefined`,j)),E!==s.nil&&A.assign(E,!0),(z.length||oe.validateSchema)&&(A.elseIf(this.invalid$data()),this.$dataError(),E!==s.nil&&A.assign(E,!1)),A.else()}invalid$data(){const{gen:E,schemaCode:j,schemaType:A,def:D,it:z}=this;return(0,s.or)(oe(),be());function oe(){if(A.length){if(!(j instanceof s.Name))throw new Error("ajv implementation error");const de=Array.isArray(A)?A:[A];return(0,s._)`${(0,n.checkDataTypes)(de,j,z.opts.strictNumbers,n.DataType.Wrong)}`}return s.nil}function be(){if(D.validateSchema){const de=E.scopeValue("validate$data",{ref:D.validateSchema});return(0,s._)`!${de}(${j})`}return s.nil}}subschema(E,j){const A=(0,a.getSubschema)(this.it,E);(0,a.extendSubschemaData)(A,this.it,E),(0,a.extendSubschemaMode)(A,E);const D={...this.it,...A,items:void 0,props:void 0};return b(D,j),D}mergeEvaluated(E,j){const{it:A,gen:D}=this;A.opts.unevaluated&&(A.props!==!0&&E.props!==void 0&&(A.props=f.mergeEvaluated.props(D,E.props,A.props,j)),A.items!==!0&&E.items!==void 0&&(A.items=f.mergeEvaluated.items(D,E.items,A.items,j)))}mergeValidEvaluated(E,j){const{it:A,gen:D}=this;if(A.opts.unevaluated&&(A.props!==!0||A.items!==!0))return D.if(j,()=>this.mergeEvaluated(E,s.Name)),!0}}Pe.KeywordCxt=N;function M(w,E,j,A){const D=new N(w,j,E);"code"in j?j.code(D,A):D.$data&&j.validate?(0,o.funcKeywordCode)(D,j):"macro"in j?(0,o.macroKeywordCode)(D,j):(j.compile||j.validate)&&(0,o.funcKeywordCode)(D,j)}const F=/^\/(?:[^~]|~0|~1)*$/,H=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function K(w,{dataLevel:E,dataNames:j,dataPathArr:A}){let D,z;if(w==="")return c.default.rootData;if(w[0]==="/"){if(!F.test(w))throw new Error(`Invalid JSON-pointer: ${w}`);D=w,z=c.default.rootData}else{const he=H.exec(w);if(!he)throw new Error(`Invalid JSON-pointer: ${w}`);const ae=+he[1];if(D=he[2],D==="#"){if(ae>=E)throw new Error(de("property/index",ae));return A[E-ae]}if(ae>E)throw new Error(de("data",ae));if(z=j[E-ae],!D)return z}let oe=z;const be=D.split("/");for(const he of be)he&&(z=(0,s._)`${z}${(0,s.getProperty)((0,f.unescapeJsonPointer)(he))}`,oe=(0,s._)`${oe} && ${z}`);return oe;function de(he,ae){return`Cannot access ${he} ${ae} levels up, current level is ${E}`}}return Pe.getData=K,Pe}var Ar={},yo;function Ht(){if(yo)return Ar;yo=1,Object.defineProperty(Ar,"__esModule",{value:!0});class e extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}return Ar.default=e,Ar}var Tr={},go;function Cr(){if(go)return Tr;go=1,Object.defineProperty(Tr,"__esModule",{value:!0});const e=te;class r extends Error{constructor(n,i,o,a){super(a||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,e.resolveUrl)(n,i,o),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(n,this.missingRef))}}return Tr.default=r,Tr}var le={};Object.defineProperty(le,"__esModule",{value:!0}),le.resolveSchema=le.getCompilingSchema=le.resolveRef=le.compileSchema=le.SchemaEnv=void 0;const ve=U(),Fu=Ht(),qe=Te(),_e=te,vo=R,Vu=Ir();class Rr{constructor(r){var t;this.refs={},this.dynamicAnchors={};let n;typeof r.schema=="object"&&(n=r.schema),this.schema=r.schema,this.schemaId=r.schemaId,this.root=r.root||this,this.baseId=(t=r.baseId)!==null&&t!==void 0?t:(0,_e.normalizeId)(n==null?void 0:n[r.schemaId||"$id"]),this.schemaPath=r.schemaPath,this.localRefs=r.localRefs,this.meta=r.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}le.SchemaEnv=Rr;function Gt(e){const r=_o.call(this,e);if(r)return r;const t=(0,_e.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:o}=this.opts,a=new ve.CodeGen(this.scope,{es5:n,lines:i,ownProperties:o});let s;e.$async&&(s=a.scopeValue("Error",{ref:Fu.default,code:(0,ve._)`require("ajv/dist/runtime/validation_error").default`}));const c=a.scopeName("validate");e.validateName=c;const l={gen:a,allErrors:this.opts.allErrors,data:qe.default.data,parentData:qe.default.parentData,parentDataProperty:qe.default.parentDataProperty,dataNames:[qe.default.data],dataPathArr:[ve.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,ve.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:s,schema:e.schema,schemaEnv:e,rootId:t,baseId:e.baseId||t,schemaPath:ve.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ve._)`""`,opts:this.opts,self:this};let f;try{this._compilations.add(e),(0,Vu.validateFunctionCode)(l),a.optimize(this.opts.code.optimize);const h=a.toString();f=`${a.scopeRefs(qe.default.scope)}return ${h}`,this.opts.code.process&&(f=this.opts.code.process(f,e));const p=new Function(`${qe.default.self}`,`${qe.default.scope}`,f)(this,this.scope.get());if(this.scope.value(c,{ref:p}),p.errors=null,p.schema=e.schema,p.schemaEnv=e,e.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:c,validateCode:h,scopeValues:a._values}),this.opts.unevaluated){const{props:v,items:$}=l;p.evaluated={props:v instanceof ve.Name?void 0:v,items:$ instanceof ve.Name?void 0:$,dynamicProps:v instanceof ve.Name,dynamicItems:$ instanceof ve.Name},p.source&&(p.source.evaluated=(0,ve.stringify)(p.evaluated))}return e.validate=p,e}catch(h){throw delete e.validate,delete e.validateName,f&&this.logger.error("Error compiling schema, function code:",f),h}finally{this._compilations.delete(e)}}le.compileSchema=Gt;function Lu(e,r,t){var n;t=(0,_e.resolveUrl)(this.opts.uriResolver,r,t);const i=e.refs[t];if(i)return i;let o=Ku.call(this,e,t);if(o===void 0){const a=(n=e.localRefs)===null||n===void 0?void 0:n[t],{schemaId:s}=this.opts;a&&(o=new Rr({schema:a,schemaId:s,root:e,baseId:r}))}if(o!==void 0)return e.refs[t]=zu.call(this,o)}le.resolveRef=Lu;function zu(e){return(0,_e.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Gt.call(this,e)}function _o(e){for(const r of this._compilations)if(Uu(r,e))return r}le.getCompilingSchema=_o;function Uu(e,r){return e.schema===r.schema&&e.root===r.root&&e.baseId===r.baseId}function Ku(e,r){let t;for(;typeof(t=this.refs[r])=="string";)r=t;return t||this.schemas[r]||Mr.call(this,e,r)}function Mr(e,r){const t=this.opts.uriResolver.parse(r),n=(0,_e._getFullPath)(this.opts.uriResolver,t);let i=(0,_e.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return Bt.call(this,t,e);const o=(0,_e.normalizeId)(n),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){const s=Mr.call(this,e,a);return typeof(s==null?void 0:s.schema)!="object"?void 0:Bt.call(this,t,s)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||Gt.call(this,a),o===(0,_e.normalizeId)(r)){const{schema:s}=a,{schemaId:c}=this.opts,l=s[c];return l&&(i=(0,_e.resolveUrl)(this.opts.uriResolver,i,l)),new Rr({schema:s,schemaId:c,root:e,baseId:i})}return Bt.call(this,t,a)}}le.resolveSchema=Mr;const Hu=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Bt(e,{baseId:r,schema:t,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const s of e.fragment.slice(1).split("/")){if(typeof t=="boolean")return;const c=t[(0,vo.unescapeFragment)(s)];if(c===void 0)return;t=c;const l=typeof t=="object"&&t[this.opts.schemaId];!Hu.has(s)&&l&&(r=(0,_e.resolveUrl)(this.opts.uriResolver,r,l))}let o;if(typeof t!="boolean"&&t.$ref&&!(0,vo.schemaHasRulesButRef)(t,this.RULES)){const s=(0,_e.resolveUrl)(this.opts.uriResolver,r,t.$ref);o=Mr.call(this,n,s)}const{schemaId:a}=this.opts;if(o=o||new Rr({schema:t,schemaId:a,root:n,baseId:r}),o.schema!==o.root.schema)return o}var Gu={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},Yt={},xr={exports:{}},Bu={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}};const{HEX:Yu}=Bu,Ju=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function $o(e){if(So(e,".")<3)return{host:e,isIPV4:!1};const r=e.match(Ju)||[],[t]=r;return t?{host:Xu(t,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function bo(e,r=!1){let t="",n=!0;for(const i of e){if(Yu[i]===void 0)return;i!=="0"&&n===!0&&(n=!1),n||(t+=i)}return r&&t.length===0&&(t="0"),t}function Wu(e){let r=0;const t={error:!1,address:"",zone:""},n=[],i=[];let o=!1,a=!1,s=!1;function c(){if(i.length){if(o===!1){const l=bo(i);if(l!==void 0)n.push(l);else return t.error=!0,!1}i.length=0}return!0}for(let l=0;l<e.length;l++){const f=e[l];if(!(f==="["||f==="]"))if(f===":"){if(a===!0&&(s=!0),!c())break;if(r++,n.push(":"),r>7){t.error=!0;break}l-1>=0&&e[l-1]===":"&&(a=!0);continue}else if(f==="%"){if(!c())break;o=!0}else{i.push(f);continue}}return i.length&&(o?t.zone=i.join(""):s?n.push(i.join("")):n.push(bo(i))),t.address=n.join(""),t}function wo(e){if(So(e,":")<2)return{host:e,isIPV6:!1};const r=Wu(e);if(r.error)return{host:e,isIPV6:!1};{let t=r.address,n=r.address;return r.zone&&(t+="%"+r.zone,n+="%25"+r.zone),{host:t,escapedHost:n,isIPV6:!0}}}function Xu(e,r){let t="",n=!0;const i=e.length;for(let o=0;o<i;o++){const a=e[o];a==="0"&&n?(o+1<=i&&e[o+1]===r||o+1===i)&&(t+=a,n=!1):(a===r?n=!0:n=!1,t+=a)}return t}function So(e,r){let t=0;for(let n=0;n<e.length;n++)e[n]===r&&t++;return t}const Eo=/^\.\.?\//u,Po=/^\/\.(?:\/|$)/u,Oo=/^\/\.\.(?:\/|$)/u,Zu=/^\/?(?:.|\n)*?(?=\/|$)/u;function Qu(e){const r=[];for(;e.length;)if(e.match(Eo))e=e.replace(Eo,"");else if(e.match(Po))e=e.replace(Po,"/");else if(e.match(Oo))e=e.replace(Oo,"/"),r.pop();else if(e==="."||e==="..")e="";else{const t=e.match(Zu);if(t){const n=t[0];e=e.slice(n.length),r.push(n)}else throw new Error("Unexpected dot segment condition")}return r.join("")}function el(e,r){const t=r!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=t(e.scheme)),e.userinfo!==void 0&&(e.userinfo=t(e.userinfo)),e.host!==void 0&&(e.host=t(e.host)),e.path!==void 0&&(e.path=t(e.path)),e.query!==void 0&&(e.query=t(e.query)),e.fragment!==void 0&&(e.fragment=t(e.fragment)),e}function rl(e){const r=[];if(e.userinfo!==void 0&&(r.push(e.userinfo),r.push("@")),e.host!==void 0){let t=unescape(e.host);const n=$o(t);if(n.isIPV4)t=n.host;else{const i=wo(n.host);i.isIPV6===!0?t=`[${i.escapedHost}]`:t=e.host}r.push(t)}return(typeof e.port=="number"||typeof e.port=="string")&&(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}var tl={recomposeAuthority:rl,normalizeComponentEncoding:el,removeDotSegments:Qu,normalizeIPv4:$o,normalizeIPv6:wo};const nl=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,il=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function No(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function jo(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function ko(e){const r=String(e.scheme).toLowerCase()==="https";return(e.port===(r?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function ol(e){return e.secure=No(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function al(e){if((e.port===(No(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[r,t]=e.resourceName.split("?");e.path=r&&r!=="/"?r:void 0,e.query=t,e.resourceName=void 0}return e.fragment=void 0,e}function sl(e,r){if(!e.path)return e.error="URN can not be parsed",e;const t=e.path.match(il);if(t){const n=r.scheme||e.scheme||"urn";e.nid=t[1].toLowerCase(),e.nss=t[2];const i=`${n}:${r.nid||e.nid}`,o=Jt[i];e.path=void 0,o&&(e=o.parse(e,r))}else e.error=e.error||"URN can not be parsed.";return e}function cl(e,r){const t=r.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),i=`${t}:${r.nid||n}`,o=Jt[i];o&&(e=o.serialize(e,r));const a=e,s=e.nss;return a.path=`${n||r.nid}:${s}`,r.skipEscape=!0,a}function ul(e,r){const t=e;return t.uuid=t.nss,t.nss=void 0,!r.tolerant&&(!t.uuid||!nl.test(t.uuid))&&(t.error=t.error||"UUID is not valid."),t}function ll(e){const r=e;return r.nss=(e.uuid||"").toLowerCase(),r}const Io={scheme:"http",domainHost:!0,parse:jo,serialize:ko},fl={scheme:"https",domainHost:Io.domainHost,parse:jo,serialize:ko},Dr={scheme:"ws",domainHost:!0,parse:ol,serialize:al},dl={scheme:"wss",domainHost:Dr.domainHost,parse:Dr.parse,serialize:Dr.serialize},Jt={http:Io,https:fl,ws:Dr,wss:dl,urn:{scheme:"urn",parse:sl,serialize:cl,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:ul,serialize:ll,skipNormalize:!0}};var hl=Jt;const{normalizeIPv6:pl,normalizeIPv4:ml,removeDotSegments:cr,recomposeAuthority:yl,normalizeComponentEncoding:qr}=tl,Wt=hl;function gl(e,r){return typeof e=="string"?e=Ee(je(e,r),r):typeof e=="object"&&(e=je(Ee(e,r),r)),e}function vl(e,r,t){const n=Object.assign({scheme:"null"},t),i=Ao(je(e,n),je(r,n),n,!0);return Ee(i,{...n,skipEscape:!0})}function Ao(e,r,t,n){const i={};return n||(e=je(Ee(e,t),t),r=je(Ee(r,t),t)),t=t||{},!t.tolerant&&r.scheme?(i.scheme=r.scheme,i.userinfo=r.userinfo,i.host=r.host,i.port=r.port,i.path=cr(r.path||""),i.query=r.query):(r.userinfo!==void 0||r.host!==void 0||r.port!==void 0?(i.userinfo=r.userinfo,i.host=r.host,i.port=r.port,i.path=cr(r.path||""),i.query=r.query):(r.path?(r.path.charAt(0)==="/"?i.path=cr(r.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?i.path="/"+r.path:e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+r.path:i.path=r.path,i.path=cr(i.path)),i.query=r.query):(i.path=e.path,r.query!==void 0?i.query=r.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=r.fragment,i}function _l(e,r,t){return typeof e=="string"?(e=unescape(e),e=Ee(qr(je(e,t),!0),{...t,skipEscape:!0})):typeof e=="object"&&(e=Ee(qr(e,!0),{...t,skipEscape:!0})),typeof r=="string"?(r=unescape(r),r=Ee(qr(je(r,t),!0),{...t,skipEscape:!0})):typeof r=="object"&&(r=Ee(qr(r,!0),{...t,skipEscape:!0})),e.toLowerCase()===r.toLowerCase()}function Ee(e,r){const t={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},r),i=[],o=Wt[(n.scheme||t.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(t,n),t.path!==void 0&&(n.skipEscape?t.path=unescape(t.path):(t.path=escape(t.path),t.scheme!==void 0&&(t.path=t.path.split("%3A").join(":")))),n.reference!=="suffix"&&t.scheme&&i.push(t.scheme,":");const a=yl(t);if(a!==void 0&&(n.reference!=="suffix"&&i.push("//"),i.push(a),t.path&&t.path.charAt(0)!=="/"&&i.push("/")),t.path!==void 0){let s=t.path;!n.absolutePath&&(!o||!o.absolutePath)&&(s=cr(s)),a===void 0&&(s=s.replace(/^\/\//u,"/%2F")),i.push(s)}return t.query!==void 0&&i.push("?",t.query),t.fragment!==void 0&&i.push("#",t.fragment),i.join("")}const $l=Array.from({length:127},(e,r)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(r)));function bl(e){let r=0;for(let t=0,n=e.length;t<n;++t)if(r=e.charCodeAt(t),r>126||$l[r])return!0;return!1}const wl=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function je(e,r){const t=Object.assign({},r),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},i=e.indexOf("%")!==-1;let o=!1;t.reference==="suffix"&&(e=(t.scheme?t.scheme+":":"")+"//"+e);const a=e.match(wl);if(a){if(n.scheme=a[1],n.userinfo=a[3],n.host=a[4],n.port=parseInt(a[5],10),n.path=a[6]||"",n.query=a[7],n.fragment=a[8],isNaN(n.port)&&(n.port=a[5]),n.host){const c=ml(n.host);if(c.isIPV4===!1){const l=pl(c.host);n.host=l.host.toLowerCase(),o=l.isIPV6}else n.host=c.host,o=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",t.reference&&t.reference!=="suffix"&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");const s=Wt[(t.scheme||n.scheme||"").toLowerCase()];if(!t.unicodeSupport&&(!s||!s.unicodeSupport)&&n.host&&(t.domainHost||s&&s.domainHost)&&o===!1&&bl(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(c){n.error=n.error||"Host's domain name can not be converted to ASCII: "+c}(!s||s&&!s.skipNormalize)&&(i&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),i&&n.host!==void 0&&(n.host=unescape(n.host)),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),s&&s.parse&&s.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}const Xt={SCHEMES:Wt,normalize:gl,resolve:vl,resolveComponents:Ao,equal:_l,serialize:Ee,parse:je};xr.exports=Xt,xr.exports.default=Xt,xr.exports.fastUri=Xt;var Sl=xr.exports;Object.defineProperty(Yt,"__esModule",{value:!0});const To=Sl;To.code='require("ajv/dist/runtime/uri").default',Yt.default=To,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=Ir();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var t=U();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return t._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return t.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return t.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return t.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return t.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return t.CodeGen}});const n=Ht(),i=Cr(),o=De,a=le,s=U(),c=te,l=Q,f=R,h=Gu,_=Yt,p=(T,S)=>new RegExp(T,S);p.code="new RegExp";const v=["removeAdditional","useDefaults","coerceTypes"],$=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),m={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},d=200;function b(T){var S,I,P,u,g,N,M,F,H,K,w,E,j,A,D,z,oe,be,de,he,ae,nr,me,Mn,xn;const gr=T.strict,Dn=(S=T.code)===null||S===void 0?void 0:S.optimize,ra=Dn===!0||Dn===void 0?1:Dn||0,ta=(P=(I=T.code)===null||I===void 0?void 0:I.regExp)!==null&&P!==void 0?P:p,fd=(u=T.uriResolver)!==null&&u!==void 0?u:_.default;return{strictSchema:(N=(g=T.strictSchema)!==null&&g!==void 0?g:gr)!==null&&N!==void 0?N:!0,strictNumbers:(F=(M=T.strictNumbers)!==null&&M!==void 0?M:gr)!==null&&F!==void 0?F:!0,strictTypes:(K=(H=T.strictTypes)!==null&&H!==void 0?H:gr)!==null&&K!==void 0?K:"log",strictTuples:(E=(w=T.strictTuples)!==null&&w!==void 0?w:gr)!==null&&E!==void 0?E:"log",strictRequired:(A=(j=T.strictRequired)!==null&&j!==void 0?j:gr)!==null&&A!==void 0?A:!1,code:T.code?{...T.code,optimize:ra,regExp:ta}:{optimize:ra,regExp:ta},loopRequired:(D=T.loopRequired)!==null&&D!==void 0?D:d,loopEnum:(z=T.loopEnum)!==null&&z!==void 0?z:d,meta:(oe=T.meta)!==null&&oe!==void 0?oe:!0,messages:(be=T.messages)!==null&&be!==void 0?be:!0,inlineRefs:(de=T.inlineRefs)!==null&&de!==void 0?de:!0,schemaId:(he=T.schemaId)!==null&&he!==void 0?he:"$id",addUsedSchema:(ae=T.addUsedSchema)!==null&&ae!==void 0?ae:!0,validateSchema:(nr=T.validateSchema)!==null&&nr!==void 0?nr:!0,validateFormats:(me=T.validateFormats)!==null&&me!==void 0?me:!0,unicodeRegExp:(Mn=T.unicodeRegExp)!==null&&Mn!==void 0?Mn:!0,int32range:(xn=T.int32range)!==null&&xn!==void 0?xn:!0,uriResolver:fd}}class O{constructor(S={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,S=this.opts={...S,...b(S)};const{es5:I,lines:P}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:$,es5:I,lines:P}),this.logger=re(S.logger);const u=S.validateFormats;S.validateFormats=!1,this.RULES=(0,o.getRules)(),k.call(this,m,S,"NOT SUPPORTED"),k.call(this,y,S,"DEPRECATED","warn"),this._metaOpts=ee.call(this),S.formats&&L.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),S.keywords&&J.call(this,S.keywords),typeof S.meta=="object"&&this.addMetaSchema(S.meta),x.call(this),S.validateFormats=u}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:S,meta:I,schemaId:P}=this.opts;let u=h;P==="id"&&(u={...h},u.id=u.$id,delete u.$id),I&&S&&this.addMetaSchema(u,u[P],!1)}defaultMeta(){const{meta:S,schemaId:I}=this.opts;return this.opts.defaultMeta=typeof S=="object"?S[I]||S:void 0}validate(S,I){let P;if(typeof S=="string"){if(P=this.getSchema(S),!P)throw new Error(`no schema with key or ref "${S}"`)}else P=this.compile(S);const u=P(I);return"$async"in P||(this.errors=P.errors),u}compile(S,I){const P=this._addSchema(S,I);return P.validate||this._compileSchemaEnv(P)}compileAsync(S,I){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:P}=this.opts;return u.call(this,S,I);async function u(K,w){await g.call(this,K.$schema);const E=this._addSchema(K,w);return E.validate||N.call(this,E)}async function g(K){K&&!this.getSchema(K)&&await u.call(this,{$ref:K},!0)}async function N(K){try{return this._compileSchemaEnv(K)}catch(w){if(!(w instanceof i.default))throw w;return M.call(this,w),await F.call(this,w.missingSchema),N.call(this,K)}}function M({missingSchema:K,missingRef:w}){if(this.refs[K])throw new Error(`AnySchema ${K} is loaded but ${w} cannot be resolved`)}async function F(K){const w=await H.call(this,K);this.refs[K]||await g.call(this,w.$schema),this.refs[K]||this.addSchema(w,K,I)}async function H(K){const w=this._loading[K];if(w)return w;try{return await(this._loading[K]=P(K))}finally{delete this._loading[K]}}}addSchema(S,I,P,u=this.opts.validateSchema){if(Array.isArray(S)){for(const N of S)this.addSchema(N,void 0,P,u);return this}let g;if(typeof S=="object"){const{schemaId:N}=this.opts;if(g=S[N],g!==void 0&&typeof g!="string")throw new Error(`schema ${N} must be string`)}return I=(0,c.normalizeId)(I||g),this._checkUnique(I),this.schemas[I]=this._addSchema(S,P,I,u,!0),this}addMetaSchema(S,I,P=this.opts.validateSchema){return this.addSchema(S,I,!0,P),this}validateSchema(S,I){if(typeof S=="boolean")return!0;let P;if(P=S.$schema,P!==void 0&&typeof P!="string")throw new Error("$schema must be a string");if(P=P||this.opts.defaultMeta||this.defaultMeta(),!P)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const u=this.validate(P,S);if(!u&&I){const g="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(g);else throw new Error(g)}return u}getSchema(S){let I;for(;typeof(I=C.call(this,S))=="string";)S=I;if(I===void 0){const{schemaId:P}=this.opts,u=new a.SchemaEnv({schema:{},schemaId:P});if(I=a.resolveSchema.call(this,u,S),!I)return;this.refs[S]=I}return I.validate||this._compileSchemaEnv(I)}removeSchema(S){if(S instanceof RegExp)return this._removeAllSchemas(this.schemas,S),this._removeAllSchemas(this.refs,S),this;switch(typeof S){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const I=C.call(this,S);return typeof I=="object"&&this._cache.delete(I.schema),delete this.schemas[S],delete this.refs[S],this}case"object":{const I=S;this._cache.delete(I);let P=S[this.opts.schemaId];return P&&(P=(0,c.normalizeId)(P),delete this.schemas[P],delete this.refs[P]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(S){for(const I of S)this.addKeyword(I);return this}addKeyword(S,I){let P;if(typeof S=="string")P=S,typeof I=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),I.keyword=P);else if(typeof S=="object"&&I===void 0){if(I=S,P=I.keyword,Array.isArray(P)&&!P.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(W.call(this,P,I),!I)return(0,f.eachItem)(P,g=>ke.call(this,g)),this;rr.call(this,I);const u={...I,type:(0,l.getJSONTypes)(I.type),schemaType:(0,l.getJSONTypes)(I.schemaType)};return(0,f.eachItem)(P,u.type.length===0?g=>ke.call(this,g,u):g=>u.type.forEach(N=>ke.call(this,g,u,N))),this}getKeyword(S){const I=this.RULES.all[S];return typeof I=="object"?I.definition:!!I}removeKeyword(S){const{RULES:I}=this;delete I.keywords[S],delete I.all[S];for(const P of I.rules){const u=P.rules.findIndex(g=>g.keyword===S);u>=0&&P.rules.splice(u,1)}return this}addFormat(S,I){return typeof I=="string"&&(I=new RegExp(I)),this.formats[S]=I,this}errorsText(S=this.errors,{separator:I=", ",dataVar:P="data"}={}){return!S||S.length===0?"No errors":S.map(u=>`${P}${u.instancePath} ${u.message}`).reduce((u,g)=>u+I+g)}$dataMetaSchema(S,I){const P=this.RULES.all;S=JSON.parse(JSON.stringify(S));for(const u of I){const g=u.split("/").slice(1);let N=S;for(const M of g)N=N[M];for(const M in P){const F=P[M];if(typeof F!="object")continue;const{$data:H}=F.definition,K=N[M];H&&K&&(N[M]=tr(K))}}return S}_removeAllSchemas(S,I){for(const P in S){const u=S[P];(!I||I.test(P))&&(typeof u=="string"?delete S[P]:u&&!u.meta&&(this._cache.delete(u.schema),delete S[P]))}}_addSchema(S,I,P,u=this.opts.validateSchema,g=this.opts.addUsedSchema){let N;const{schemaId:M}=this.opts;if(typeof S=="object")N=S[M];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof S!="boolean")throw new Error("schema must be object or boolean")}let F=this._cache.get(S);if(F!==void 0)return F;P=(0,c.normalizeId)(N||P);const H=c.getSchemaRefs.call(this,S,P);return F=new a.SchemaEnv({schema:S,schemaId:M,meta:I,baseId:P,localRefs:H}),this._cache.set(F.schema,F),g&&!P.startsWith("#")&&(P&&this._checkUnique(P),this.refs[P]=F),u&&this.validateSchema(S,!0),F}_checkUnique(S){if(this.schemas[S]||this.refs[S])throw new Error(`schema with key or id "${S}" already exists`)}_compileSchemaEnv(S){if(S.meta?this._compileMetaSchema(S):a.compileSchema.call(this,S),!S.validate)throw new Error("ajv implementation error");return S.validate}_compileMetaSchema(S){const I=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,S)}finally{this.opts=I}}}O.ValidationError=n.default,O.MissingRefError=i.default,e.default=O;function k(T,S,I,P="error"){for(const u in T){const g=u;g in S&&this.logger[P](`${I}: option ${u}. ${T[g]}`)}}function C(T){return T=(0,c.normalizeId)(T),this.schemas[T]||this.refs[T]}function x(){const T=this.opts.schemas;if(T)if(Array.isArray(T))this.addSchema(T);else for(const S in T)this.addSchema(T[S],S)}function L(){for(const T in this.opts.formats){const S=this.opts.formats[T];S&&this.addFormat(T,S)}}function J(T){if(Array.isArray(T)){this.addVocabulary(T);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const S in T){const I=T[S];I.keyword||(I.keyword=S),this.addKeyword(I)}}function ee(){const T={...this.opts};for(const S of v)delete T[S];return T}const ie={log(){},warn(){},error(){}};function re(T){if(T===!1)return ie;if(T===void 0)return console;if(T.log&&T.warn&&T.error)return T;throw new Error("logger must implement log, warn and error methods")}const Y=/^[a-z_$][a-z0-9_$:-]*$/i;function W(T,S){const{RULES:I}=this;if((0,f.eachItem)(T,P=>{if(I.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!Y.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!S&&S.$data&&!("code"in S||"validate"in S))throw new Error('$data keyword must have "code" or "validate" function')}function ke(T,S,I){var P;const u=S==null?void 0:S.post;if(I&&u)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:g}=this;let N=u?g.post:g.rules.find(({type:F})=>F===I);if(N||(N={type:I,rules:[]},g.rules.push(N)),g.keywords[T]=!0,!S)return;const M={keyword:T,definition:{...S,type:(0,l.getJSONTypes)(S.type),schemaType:(0,l.getJSONTypes)(S.schemaType)}};S.before?ze.call(this,N,M,S.before):N.rules.push(M),g.all[T]=M,(P=S.implements)===null||P===void 0||P.forEach(F=>this.addKeyword(F))}function ze(T,S,I){const P=T.rules.findIndex(u=>u.keyword===I);P>=0?T.rules.splice(P,0,S):(T.rules.push(S),this.logger.warn(`rule ${I} is not defined`))}function rr(T){let{metaSchema:S}=T;S!==void 0&&(T.$data&&this.opts.$data&&(S=tr(S)),T.validateSchema=this.compile(S,!0))}const yr={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function tr(T){return{anyOf:[T,yr]}}}(Fi);var Zt={},Qt={},en={};Object.defineProperty(en,"__esModule",{value:!0});const El={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};en.default=El;var Fe={};Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.callRef=Fe.getValidate=void 0;const Pl=Cr(),Co=ge(),fe=U(),We=Te(),Ro=le,Fr=R,Ol={keyword:"$ref",schemaType:"string",code(e){const{gen:r,schema:t,it:n}=e,{baseId:i,schemaEnv:o,validateName:a,opts:s,self:c}=n,{root:l}=o;if((t==="#"||t==="#/")&&i===l.baseId)return h();const f=Ro.resolveRef.call(c,l,i,t);if(f===void 0)throw new Pl.default(n.opts.uriResolver,i,t);if(f instanceof Ro.SchemaEnv)return _(f);return p(f);function h(){if(o===l)return Vr(e,a,o,o.$async);const v=r.scopeValue("root",{ref:l});return Vr(e,(0,fe._)`${v}.validate`,l,l.$async)}function _(v){const $=Mo(e,v);Vr(e,$,v,v.$async)}function p(v){const $=r.scopeValue("schema",s.code.source===!0?{ref:v,code:(0,fe.stringify)(v)}:{ref:v}),m=r.name("valid"),y=e.subschema({schema:v,dataTypes:[],schemaPath:fe.nil,topSchemaRef:$,errSchemaPath:t},m);e.mergeEvaluated(y),e.ok(m)}}};function Mo(e,r){const{gen:t}=e;return r.validate?t.scopeValue("validate",{ref:r.validate}):(0,fe._)`${t.scopeValue("wrapper",{ref:r})}.validate`}Fe.getValidate=Mo;function Vr(e,r,t,n){const{gen:i,it:o}=e,{allErrors:a,schemaEnv:s,opts:c}=o,l=c.passContext?We.default.this:fe.nil;n?f():h();function f(){if(!s.$async)throw new Error("async schema referenced by sync schema");const v=i.let("valid");i.try(()=>{i.code((0,fe._)`await ${(0,Co.callValidateCode)(e,r,l)}`),p(r),a||i.assign(v,!0)},$=>{i.if((0,fe._)`!(${$} instanceof ${o.ValidationError})`,()=>i.throw($)),_($),a||i.assign(v,!1)}),e.ok(v)}function h(){e.result((0,Co.callValidateCode)(e,r,l),()=>p(r),()=>_(r))}function _(v){const $=(0,fe._)`${v}.errors`;i.assign(We.default.vErrors,(0,fe._)`${We.default.vErrors} === null ? ${$} : ${We.default.vErrors}.concat(${$})`),i.assign(We.default.errors,(0,fe._)`${We.default.vErrors}.length`)}function p(v){var $;if(!o.opts.unevaluated)return;const m=($=t==null?void 0:t.validate)===null||$===void 0?void 0:$.evaluated;if(o.props!==!0)if(m&&!m.dynamicProps)m.props!==void 0&&(o.props=Fr.mergeEvaluated.props(i,m.props,o.props));else{const y=i.var("props",(0,fe._)`${v}.evaluated.props`);o.props=Fr.mergeEvaluated.props(i,y,o.props,fe.Name)}if(o.items!==!0)if(m&&!m.dynamicItems)m.items!==void 0&&(o.items=Fr.mergeEvaluated.items(i,m.items,o.items));else{const y=i.var("items",(0,fe._)`${v}.evaluated.items`);o.items=Fr.mergeEvaluated.items(i,y,o.items,fe.Name)}}}Fe.callRef=Vr,Fe.default=Ol,Object.defineProperty(Qt,"__esModule",{value:!0});const Nl=en,jl=Fe,kl=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Nl.default,jl.default];Qt.default=kl;var rn={},tn={};Object.defineProperty(tn,"__esModule",{value:!0});const Lr=U(),Re=Lr.operators,zr={maximum:{okStr:"<=",ok:Re.LTE,fail:Re.GT},minimum:{okStr:">=",ok:Re.GTE,fail:Re.LT},exclusiveMaximum:{okStr:"<",ok:Re.LT,fail:Re.GTE},exclusiveMinimum:{okStr:">",ok:Re.GT,fail:Re.LTE}},Il={message:({keyword:e,schemaCode:r})=>(0,Lr.str)`must be ${zr[e].okStr} ${r}`,params:({keyword:e,schemaCode:r})=>(0,Lr._)`{comparison: ${zr[e].okStr}, limit: ${r}}`},Al={keyword:Object.keys(zr),type:"number",schemaType:"number",$data:!0,error:Il,code(e){const{keyword:r,data:t,schemaCode:n}=e;e.fail$data((0,Lr._)`${t} ${zr[r].fail} ${n} || isNaN(${t})`)}};tn.default=Al;var nn={};Object.defineProperty(nn,"__esModule",{value:!0});const ur=U(),Tl={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>(0,ur.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,ur._)`{multipleOf: ${e}}`},code(e){const{gen:r,data:t,schemaCode:n,it:i}=e,o=i.opts.multipleOfPrecision,a=r.let("res"),s=o?(0,ur._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,ur._)`${a} !== parseInt(${a})`;e.fail$data((0,ur._)`(${n} === 0 || (${a} = ${t}/${n}, ${s}))`)}};nn.default=Tl;var on={},an={};Object.defineProperty(an,"__esModule",{value:!0});function xo(e){const r=e.length;let t=0,n=0,i;for(;n<r;)t++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<r&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return t}an.default=xo,xo.code='require("ajv/dist/runtime/ucs2length").default',Object.defineProperty(on,"__esModule",{value:!0});const Ve=U(),Cl=R,Rl=an,Ml={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:r}){const t=e==="maxLength"?"more":"fewer";return(0,Ve.str)`must NOT have ${t} than ${r} characters`},params:({schemaCode:e})=>(0,Ve._)`{limit: ${e}}`},code(e){const{keyword:r,data:t,schemaCode:n,it:i}=e,o=r==="maxLength"?Ve.operators.GT:Ve.operators.LT,a=i.opts.unicode===!1?(0,Ve._)`${t}.length`:(0,Ve._)`${(0,Cl.useFunc)(e.gen,Rl.default)}(${t})`;e.fail$data((0,Ve._)`${a} ${o} ${n}`)}};on.default=Ml;var sn={};Object.defineProperty(sn,"__esModule",{value:!0});const xl=ge(),Ur=U(),Dl={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,Ur.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Ur._)`{pattern: ${e}}`},code(e){const{data:r,$data:t,schema:n,schemaCode:i,it:o}=e,a=o.opts.unicodeRegExp?"u":"",s=t?(0,Ur._)`(new RegExp(${i}, ${a}))`:(0,xl.usePattern)(e,n);e.fail$data((0,Ur._)`!${s}.test(${r})`)}};sn.default=Dl;var cn={};Object.defineProperty(cn,"__esModule",{value:!0});const lr=U(),ql={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:r}){const t=e==="maxProperties"?"more":"fewer";return(0,lr.str)`must NOT have ${t} than ${r} properties`},params:({schemaCode:e})=>(0,lr._)`{limit: ${e}}`},code(e){const{keyword:r,data:t,schemaCode:n}=e,i=r==="maxProperties"?lr.operators.GT:lr.operators.LT;e.fail$data((0,lr._)`Object.keys(${t}).length ${i} ${n}`)}};cn.default=ql;var un={};Object.defineProperty(un,"__esModule",{value:!0});const fr=ge(),dr=U(),Fl=R,Vl={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>(0,dr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,dr._)`{missingProperty: ${e}}`},code(e){const{gen:r,schema:t,schemaCode:n,data:i,$data:o,it:a}=e,{opts:s}=a;if(!o&&t.length===0)return;const c=t.length>=s.loopRequired;if(a.allErrors?l():f(),s.strictRequired){const p=e.parentSchema.properties,{definedProperties:v}=e.it;for(const $ of t)if((p==null?void 0:p[$])===void 0&&!v.has($)){const m=a.schemaEnv.baseId+a.errSchemaPath,y=`required property "${$}" is not defined at "${m}" (strictRequired)`;(0,Fl.checkStrictMode)(a,y,a.opts.strictRequired)}}function l(){if(c||o)e.block$data(dr.nil,h);else for(const p of t)(0,fr.checkReportMissingProp)(e,p)}function f(){const p=r.let("missing");if(c||o){const v=r.let("valid",!0);e.block$data(v,()=>_(p,v)),e.ok(v)}else r.if((0,fr.checkMissingProp)(e,t,p)),(0,fr.reportMissingProp)(e,p),r.else()}function h(){r.forOf("prop",n,p=>{e.setParams({missingProperty:p}),r.if((0,fr.noPropertyInData)(r,i,p,s.ownProperties),()=>e.error())})}function _(p,v){e.setParams({missingProperty:p}),r.forOf(p,n,()=>{r.assign(v,(0,fr.propertyInData)(r,i,p,s.ownProperties)),r.if((0,dr.not)(v),()=>{e.error(),r.break()})},dr.nil)}}};un.default=Vl;var ln={};Object.defineProperty(ln,"__esModule",{value:!0});const hr=U(),Ll={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:r}){const t=e==="maxItems"?"more":"fewer";return(0,hr.str)`must NOT have ${t} than ${r} items`},params:({schemaCode:e})=>(0,hr._)`{limit: ${e}}`},code(e){const{keyword:r,data:t,schemaCode:n}=e,i=r==="maxItems"?hr.operators.GT:hr.operators.LT;e.fail$data((0,hr._)`${t}.length ${i} ${n}`)}};ln.default=Ll;var fn={},pr={};Object.defineProperty(pr,"__esModule",{value:!0});const Do=uo;Do.code='require("ajv/dist/runtime/equal").default',pr.default=Do,Object.defineProperty(fn,"__esModule",{value:!0});const dn=Q,ne=U(),zl=R,Ul=pr,Kl={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:r}})=>(0,ne.str)`must NOT have duplicate items (items ## ${r} and ${e} are identical)`,params:({params:{i:e,j:r}})=>(0,ne._)`{i: ${e}, j: ${r}}`},code(e){const{gen:r,data:t,$data:n,schema:i,parentSchema:o,schemaCode:a,it:s}=e;if(!n&&!i)return;const c=r.let("valid"),l=o.items?(0,dn.getSchemaTypes)(o.items):[];e.block$data(c,f,(0,ne._)`${a} === false`),e.ok(c);function f(){const v=r.let("i",(0,ne._)`${t}.length`),$=r.let("j");e.setParams({i:v,j:$}),r.assign(c,!0),r.if((0,ne._)`${v} > 1`,()=>(h()?_:p)(v,$))}function h(){return l.length>0&&!l.some(v=>v==="object"||v==="array")}function _(v,$){const m=r.name("item"),y=(0,dn.checkDataTypes)(l,m,s.opts.strictNumbers,dn.DataType.Wrong),d=r.const("indices",(0,ne._)`{}`);r.for((0,ne._)`;${v}--;`,()=>{r.let(m,(0,ne._)`${t}[${v}]`),r.if(y,(0,ne._)`continue`),l.length>1&&r.if((0,ne._)`typeof ${m} == "string"`,(0,ne._)`${m} += "_"`),r.if((0,ne._)`typeof ${d}[${m}] == "number"`,()=>{r.assign($,(0,ne._)`${d}[${m}]`),e.error(),r.assign(c,!1).break()}).code((0,ne._)`${d}[${m}] = ${v}`)})}function p(v,$){const m=(0,zl.useFunc)(r,Ul.default),y=r.name("outer");r.label(y).for((0,ne._)`;${v}--;`,()=>r.for((0,ne._)`${$} = ${v}; ${$}--;`,()=>r.if((0,ne._)`${m}(${t}[${v}], ${t}[${$}])`,()=>{e.error(),r.assign(c,!1).break(y)})))}}};fn.default=Kl;var hn={};Object.defineProperty(hn,"__esModule",{value:!0});const pn=U(),Hl=R,Gl=pr,Bl={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>(0,pn._)`{allowedValue: ${e}}`},code(e){const{gen:r,data:t,$data:n,schemaCode:i,schema:o}=e;n||o&&typeof o=="object"?e.fail$data((0,pn._)`!${(0,Hl.useFunc)(r,Gl.default)}(${t}, ${i})`):e.fail((0,pn._)`${o} !== ${t}`)}};hn.default=Bl;var mn={};Object.defineProperty(mn,"__esModule",{value:!0});const mr=U(),Yl=R,Jl=pr,Wl={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,mr._)`{allowedValues: ${e}}`},code(e){const{gen:r,data:t,$data:n,schema:i,schemaCode:o,it:a}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const s=i.length>=a.opts.loopEnum;let c;const l=()=>c??(c=(0,Yl.useFunc)(r,Jl.default));let f;if(s||n)f=r.let("valid"),e.block$data(f,h);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const p=r.const("vSchema",o);f=(0,mr.or)(...i.map((v,$)=>_(p,$)))}e.pass(f);function h(){r.assign(f,!1),r.forOf("v",o,p=>r.if((0,mr._)`${l()}(${t}, ${p})`,()=>r.assign(f,!0).break()))}function _(p,v){const $=i[v];return typeof $=="object"&&$!==null?(0,mr._)`${l()}(${t}, ${p}[${v}])`:(0,mr._)`${t} === ${$}`}}};mn.default=Wl,Object.defineProperty(rn,"__esModule",{value:!0});const Xl=tn,Zl=nn,Ql=on,ef=sn,rf=cn,tf=un,nf=ln,of=fn,af=hn,sf=mn,cf=[Xl.default,Zl.default,Ql.default,ef.default,rf.default,tf.default,nf.default,of.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},af.default,sf.default];rn.default=cf;var yn={},Xe={};Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.validateAdditionalItems=void 0;const Le=U(),gn=R,uf={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,Le.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Le._)`{limit: ${e}}`},code(e){const{parentSchema:r,it:t}=e,{items:n}=r;if(!Array.isArray(n)){(0,gn.checkStrictMode)(t,'"additionalItems" is ignored when "items" is not an array of schemas');return}qo(e,n)}};function qo(e,r){const{gen:t,schema:n,data:i,keyword:o,it:a}=e;a.items=!0;const s=t.const("len",(0,Le._)`${i}.length`);if(n===!1)e.setParams({len:r.length}),e.pass((0,Le._)`${s} <= ${r.length}`);else if(typeof n=="object"&&!(0,gn.alwaysValidSchema)(a,n)){const l=t.var("valid",(0,Le._)`${s} <= ${r.length}`);t.if((0,Le.not)(l),()=>c(l)),e.ok(l)}function c(l){t.forRange("i",r.length,s,f=>{e.subschema({keyword:o,dataProp:f,dataPropType:gn.Type.Num},l),a.allErrors||t.if((0,Le.not)(l),()=>t.break())})}}Xe.validateAdditionalItems=qo,Xe.default=uf;var vn={},Ze={};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.validateTuple=void 0;const Fo=U(),Kr=R,lf=ge(),ff={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:r,it:t}=e;if(Array.isArray(r))return Vo(e,"additionalItems",r);t.items=!0,!(0,Kr.alwaysValidSchema)(t,r)&&e.ok((0,lf.validateArray)(e))}};function Vo(e,r,t=e.schema){const{gen:n,parentSchema:i,data:o,keyword:a,it:s}=e;f(i),s.opts.unevaluated&&t.length&&s.items!==!0&&(s.items=Kr.mergeEvaluated.items(n,t.length,s.items));const c=n.name("valid"),l=n.const("len",(0,Fo._)`${o}.length`);t.forEach((h,_)=>{(0,Kr.alwaysValidSchema)(s,h)||(n.if((0,Fo._)`${l} > ${_}`,()=>e.subschema({keyword:a,schemaProp:_,dataProp:_},c)),e.ok(c))});function f(h){const{opts:_,errSchemaPath:p}=s,v=t.length,$=v===h.minItems&&(v===h.maxItems||h[r]===!1);if(_.strictTuples&&!$){const m=`"${a}" is ${v}-tuple, but minItems or maxItems/${r} are not specified or different at path "${p}"`;(0,Kr.checkStrictMode)(s,m,_.strictTuples)}}}Ze.validateTuple=Vo,Ze.default=ff,Object.defineProperty(vn,"__esModule",{value:!0});const df=Ze,hf={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,df.validateTuple)(e,"items")};vn.default=hf;var _n={};Object.defineProperty(_n,"__esModule",{value:!0});const Lo=U(),pf=R,mf=ge(),yf=Xe,gf={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,Lo.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Lo._)`{limit: ${e}}`},code(e){const{schema:r,parentSchema:t,it:n}=e,{prefixItems:i}=t;n.items=!0,!(0,pf.alwaysValidSchema)(n,r)&&(i?(0,yf.validateAdditionalItems)(e,i):e.ok((0,mf.validateArray)(e)))}};_n.default=gf;var $n={};Object.defineProperty($n,"__esModule",{value:!0});const pe=U(),Hr=R,vf={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:r}})=>r===void 0?(0,pe.str)`must contain at least ${e} valid item(s)`:(0,pe.str)`must contain at least ${e} and no more than ${r} valid item(s)`,params:({params:{min:e,max:r}})=>r===void 0?(0,pe._)`{minContains: ${e}}`:(0,pe._)`{minContains: ${e}, maxContains: ${r}}`},code(e){const{gen:r,schema:t,parentSchema:n,data:i,it:o}=e;let a,s;const{minContains:c,maxContains:l}=n;o.opts.next?(a=c===void 0?1:c,s=l):a=1;const f=r.const("len",(0,pe._)`${i}.length`);if(e.setParams({min:a,max:s}),s===void 0&&a===0){(0,Hr.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,Hr.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Hr.alwaysValidSchema)(o,t)){let $=(0,pe._)`${f} >= ${a}`;s!==void 0&&($=(0,pe._)`${$} && ${f} <= ${s}`),e.pass($);return}o.items=!0;const h=r.name("valid");s===void 0&&a===1?p(h,()=>r.if(h,()=>r.break())):a===0?(r.let(h,!0),s!==void 0&&r.if((0,pe._)`${i}.length > 0`,_)):(r.let(h,!1),_()),e.result(h,()=>e.reset());function _(){const $=r.name("_valid"),m=r.let("count",0);p($,()=>r.if($,()=>v(m)))}function p($,m){r.forRange("i",0,f,y=>{e.subschema({keyword:"contains",dataProp:y,dataPropType:Hr.Type.Num,compositeRule:!0},$),m()})}function v($){r.code((0,pe._)`${$}++`),s===void 0?r.if((0,pe._)`${$} >= ${a}`,()=>r.assign(h,!0).break()):(r.if((0,pe._)`${$} > ${s}`,()=>r.assign(h,!1).break()),a===1?r.assign(h,!0):r.if((0,pe._)`${$} >= ${a}`,()=>r.assign(h,!0)))}}};$n.default=vf;var zo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const r=U(),t=R,n=ge();e.error={message:({params:{property:c,depsCount:l,deps:f}})=>{const h=l===1?"property":"properties";return(0,r.str)`must have ${h} ${f} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:f,missingProperty:h}})=>(0,r._)`{property: ${c},
    missingProperty: ${h},
    depsCount: ${l},
    deps: ${f}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[l,f]=o(c);a(c,l),s(c,f)}};function o({schema:c}){const l={},f={};for(const h in c){if(h==="__proto__")continue;const _=Array.isArray(c[h])?l:f;_[h]=c[h]}return[l,f]}function a(c,l=c.schema){const{gen:f,data:h,it:_}=c;if(Object.keys(l).length===0)return;const p=f.let("missing");for(const v in l){const $=l[v];if($.length===0)continue;const m=(0,n.propertyInData)(f,h,v,_.opts.ownProperties);c.setParams({property:v,depsCount:$.length,deps:$.join(", ")}),_.allErrors?f.if(m,()=>{for(const y of $)(0,n.checkReportMissingProp)(c,y)}):(f.if((0,r._)`${m} && (${(0,n.checkMissingProp)(c,$,p)})`),(0,n.reportMissingProp)(c,p),f.else())}}e.validatePropertyDeps=a;function s(c,l=c.schema){const{gen:f,data:h,keyword:_,it:p}=c,v=f.name("valid");for(const $ in l)(0,t.alwaysValidSchema)(p,l[$])||(f.if((0,n.propertyInData)(f,h,$,p.opts.ownProperties),()=>{const m=c.subschema({keyword:_,schemaProp:$},v);c.mergeValidEvaluated(m,v)},()=>f.var(v,!0)),c.ok(v))}e.validateSchemaDeps=s,e.default=i})(zo);var bn={};Object.defineProperty(bn,"__esModule",{value:!0});const Uo=U(),_f=R,$f={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>(0,Uo._)`{propertyName: ${e.propertyName}}`},code(e){const{gen:r,schema:t,data:n,it:i}=e;if((0,_f.alwaysValidSchema)(i,t))return;const o=r.name("valid");r.forIn("key",n,a=>{e.setParams({propertyName:a}),e.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),r.if((0,Uo.not)(o),()=>{e.error(!0),i.allErrors||r.break()})}),e.ok(o)}};bn.default=$f;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});const Br=ge(),$e=U(),bf=Te(),Yr=R,wf={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>(0,$e._)`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:r,schema:t,parentSchema:n,data:i,errsCount:o,it:a}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:s,opts:c}=a;if(a.props=!0,c.removeAdditional!=="all"&&(0,Yr.alwaysValidSchema)(a,t))return;const l=(0,Br.allSchemaProperties)(n.properties),f=(0,Br.allSchemaProperties)(n.patternProperties);h(),e.ok((0,$e._)`${o} === ${bf.default.errors}`);function h(){r.forIn("key",i,m=>{!l.length&&!f.length?v(m):r.if(_(m),()=>v(m))})}function _(m){let y;if(l.length>8){const d=(0,Yr.schemaRefOrVal)(a,n.properties,"properties");y=(0,Br.isOwnProperty)(r,d,m)}else l.length?y=(0,$e.or)(...l.map(d=>(0,$e._)`${m} === ${d}`)):y=$e.nil;return f.length&&(y=(0,$e.or)(y,...f.map(d=>(0,$e._)`${(0,Br.usePattern)(e,d)}.test(${m})`))),(0,$e.not)(y)}function p(m){r.code((0,$e._)`delete ${i}[${m}]`)}function v(m){if(c.removeAdditional==="all"||c.removeAdditional&&t===!1){p(m);return}if(t===!1){e.setParams({additionalProperty:m}),e.error(),s||r.break();return}if(typeof t=="object"&&!(0,Yr.alwaysValidSchema)(a,t)){const y=r.name("valid");c.removeAdditional==="failing"?($(m,y,!1),r.if((0,$e.not)(y),()=>{e.reset(),p(m)})):($(m,y),s||r.if((0,$e.not)(y),()=>r.break()))}}function $(m,y,d){const b={keyword:"additionalProperties",dataProp:m,dataPropType:Yr.Type.Str};d===!1&&Object.assign(b,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(b,y)}}};Gr.default=wf;var wn={};Object.defineProperty(wn,"__esModule",{value:!0});const Sf=Ir(),Ko=ge(),Sn=R,Ho=Gr,Ef={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:r,schema:t,parentSchema:n,data:i,it:o}=e;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Ho.default.code(new Sf.KeywordCxt(o,Ho.default,"additionalProperties"));const a=(0,Ko.allSchemaProperties)(t);for(const h of a)o.definedProperties.add(h);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=Sn.mergeEvaluated.props(r,(0,Sn.toHash)(a),o.props));const s=a.filter(h=>!(0,Sn.alwaysValidSchema)(o,t[h]));if(s.length===0)return;const c=r.name("valid");for(const h of s)l(h)?f(h):(r.if((0,Ko.propertyInData)(r,i,h,o.opts.ownProperties)),f(h),o.allErrors||r.else().var(c,!0),r.endIf()),e.it.definedProperties.add(h),e.ok(c);function l(h){return o.opts.useDefaults&&!o.compositeRule&&t[h].default!==void 0}function f(h){e.subschema({keyword:"properties",schemaProp:h,dataProp:h},c)}}};wn.default=Ef;var En={};Object.defineProperty(En,"__esModule",{value:!0});const Go=ge(),Jr=U(),Bo=R,Yo=R,Pf={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:r,schema:t,data:n,parentSchema:i,it:o}=e,{opts:a}=o,s=(0,Go.allSchemaProperties)(t),c=s.filter($=>(0,Bo.alwaysValidSchema)(o,t[$]));if(s.length===0||c.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;const l=a.strictSchema&&!a.allowMatchingProperties&&i.properties,f=r.name("valid");o.props!==!0&&!(o.props instanceof Jr.Name)&&(o.props=(0,Yo.evaluatedPropsToName)(r,o.props));const{props:h}=o;_();function _(){for(const $ of s)l&&p($),o.allErrors?v($):(r.var(f,!0),v($),r.if(f))}function p($){for(const m in l)new RegExp($).test(m)&&(0,Bo.checkStrictMode)(o,`property ${m} matches pattern ${$} (use allowMatchingProperties)`)}function v($){r.forIn("key",n,m=>{r.if((0,Jr._)`${(0,Go.usePattern)(e,$)}.test(${m})`,()=>{const y=c.includes($);y||e.subschema({keyword:"patternProperties",schemaProp:$,dataProp:m,dataPropType:Yo.Type.Str},f),o.opts.unevaluated&&h!==!0?r.assign((0,Jr._)`${h}[${m}]`,!0):!y&&!o.allErrors&&r.if((0,Jr.not)(f),()=>r.break())})})}}};En.default=Pf;var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});const Of=R,Nf={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:r,schema:t,it:n}=e;if((0,Of.alwaysValidSchema)(n,t)){e.fail();return}const i=r.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Pn.default=Nf;var On={};Object.defineProperty(On,"__esModule",{value:!0});const jf={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:ge().validateUnion,error:{message:"must match a schema in anyOf"}};On.default=jf;var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});const Wr=U(),kf=R,If={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Wr._)`{passingSchemas: ${e.passing}}`},code(e){const{gen:r,schema:t,parentSchema:n,it:i}=e;if(!Array.isArray(t))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const o=t,a=r.let("valid",!1),s=r.let("passing",null),c=r.name("_valid");e.setParams({passing:s}),r.block(l),e.result(a,()=>e.reset(),()=>e.error(!0));function l(){o.forEach((f,h)=>{let _;(0,kf.alwaysValidSchema)(i,f)?r.var(c,!0):_=e.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},c),h>0&&r.if((0,Wr._)`${c} && ${a}`).assign(a,!1).assign(s,(0,Wr._)`[${s}, ${h}]`).else(),r.if(c,()=>{r.assign(a,!0),r.assign(s,h),_&&e.mergeEvaluated(_,Wr.Name)})})}}};Nn.default=If;var jn={};Object.defineProperty(jn,"__esModule",{value:!0});const Af=R,Tf={keyword:"allOf",schemaType:"array",code(e){const{gen:r,schema:t,it:n}=e;if(!Array.isArray(t))throw new Error("ajv implementation error");const i=r.name("valid");t.forEach((o,a)=>{if((0,Af.alwaysValidSchema)(n,o))return;const s=e.subschema({keyword:"allOf",schemaProp:a},i);e.ok(i),e.mergeEvaluated(s)})}};jn.default=Tf;var kn={};Object.defineProperty(kn,"__esModule",{value:!0});const Xr=U(),Jo=R,Cf={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>(0,Xr.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Xr._)`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:r,parentSchema:t,it:n}=e;t.then===void 0&&t.else===void 0&&(0,Jo.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=Wo(n,"then"),o=Wo(n,"else");if(!i&&!o)return;const a=r.let("valid",!0),s=r.name("_valid");if(c(),e.reset(),i&&o){const f=r.let("ifClause");e.setParams({ifClause:f}),r.if(s,l("then",f),l("else",f))}else i?r.if(s,l("then")):r.if((0,Xr.not)(s),l("else"));e.pass(a,()=>e.error(!0));function c(){const f=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);e.mergeEvaluated(f)}function l(f,h){return()=>{const _=e.subschema({keyword:f},s);r.assign(a,s),e.mergeValidEvaluated(_,a),h?r.assign(h,(0,Xr._)`${f}`):e.setParams({ifClause:f})}}}};function Wo(e,r){const t=e.schema[r];return t!==void 0&&!(0,Jo.alwaysValidSchema)(e,t)}kn.default=Cf;var In={};Object.defineProperty(In,"__esModule",{value:!0});const Rf=R,Mf={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:r,it:t}){r.if===void 0&&(0,Rf.checkStrictMode)(t,`"${e}" without "if" is ignored`)}};In.default=Mf,Object.defineProperty(yn,"__esModule",{value:!0});const xf=Xe,Df=vn,qf=Ze,Ff=_n,Vf=$n,Lf=zo,zf=bn,Uf=Gr,Kf=wn,Hf=En,Gf=Pn,Bf=On,Yf=Nn,Jf=jn,Wf=kn,Xf=In;function Zf(e=!1){const r=[Gf.default,Bf.default,Yf.default,Jf.default,Wf.default,Xf.default,zf.default,Uf.default,Lf.default,Kf.default,Hf.default];return e?r.push(Df.default,Ff.default):r.push(xf.default,qf.default),r.push(Vf.default),r}yn.default=Zf;var An={},Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});const X=U(),Qf={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,X.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,X._)`{format: ${e}}`},code(e,r){const{gen:t,data:n,$data:i,schema:o,schemaCode:a,it:s}=e,{opts:c,errSchemaPath:l,schemaEnv:f,self:h}=s;if(!c.validateFormats)return;i?_():p();function _(){const v=t.scopeValue("formats",{ref:h.formats,code:c.code.formats}),$=t.const("fDef",(0,X._)`${v}[${a}]`),m=t.let("fType"),y=t.let("format");t.if((0,X._)`typeof ${$} == "object" && !(${$} instanceof RegExp)`,()=>t.assign(m,(0,X._)`${$}.type || "string"`).assign(y,(0,X._)`${$}.validate`),()=>t.assign(m,(0,X._)`"string"`).assign(y,$)),e.fail$data((0,X.or)(d(),b()));function d(){return c.strictSchema===!1?X.nil:(0,X._)`${a} && !${y}`}function b(){const O=f.$async?(0,X._)`(${$}.async ? await ${y}(${n}) : ${y}(${n}))`:(0,X._)`${y}(${n})`,k=(0,X._)`(typeof ${y} == "function" ? ${O} : ${y}.test(${n}))`;return(0,X._)`${y} && ${y} !== true && ${m} === ${r} && !${k}`}}function p(){const v=h.formats[o];if(!v){d();return}if(v===!0)return;const[$,m,y]=b(v);$===r&&e.pass(O());function d(){if(c.strictSchema===!1){h.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${o}" ignored in schema at path "${l}"`}}function b(k){const C=k instanceof RegExp?(0,X.regexpCode)(k):c.code.formats?(0,X._)`${c.code.formats}${(0,X.getProperty)(o)}`:void 0,x=t.scopeValue("formats",{key:o,ref:k,code:C});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,X._)`${x}.validate`]:["string",k,x]}function O(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!f.$async)throw new Error("async format in sync schema");return(0,X._)`await ${y}(${n})`}return typeof m=="function"?(0,X._)`${y}(${n})`:(0,X._)`${y}.test(${n})`}}}};Tn.default=Qf,Object.defineProperty(An,"__esModule",{value:!0});const ed=[Tn.default];An.default=ed;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.contentVocabulary=Qe.metadataVocabulary=void 0,Qe.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Qe.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"],Object.defineProperty(Zt,"__esModule",{value:!0});const rd=Qt,td=rn,nd=yn,id=An,Xo=Qe,od=[rd.default,td.default,(0,nd.default)(),id.default,Xo.metadataVocabulary,Xo.contentVocabulary];Zt.default=od;var Cn={},Zr={};Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.DiscrError=void 0;var Zo;(function(e){e.Tag="tag",e.Mapping="mapping"})(Zo||(Zr.DiscrError=Zo={})),Object.defineProperty(Cn,"__esModule",{value:!0});const er=U(),Rn=Zr,Qo=le,ad=Cr(),sd=R,cd={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:r}})=>e===Rn.DiscrError.Tag?`tag "${r}" must be string`:`value of tag "${r}" must be in oneOf`,params:({params:{discrError:e,tag:r,tagName:t}})=>(0,er._)`{error: ${e}, tag: ${t}, tagValue: ${r}}`},code(e){const{gen:r,data:t,schema:n,parentSchema:i,it:o}=e,{oneOf:a}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const s=n.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const c=r.let("valid",!1),l=r.const("tag",(0,er._)`${t}${(0,er.getProperty)(s)}`);r.if((0,er._)`typeof ${l} == "string"`,()=>f(),()=>e.error(!1,{discrError:Rn.DiscrError.Tag,tag:l,tagName:s})),e.ok(c);function f(){const p=_();r.if(!1);for(const v in p)r.elseIf((0,er._)`${l} === ${v}`),r.assign(c,h(p[v]));r.else(),e.error(!1,{discrError:Rn.DiscrError.Mapping,tag:l,tagName:s}),r.endIf()}function h(p){const v=r.name("valid"),$=e.subschema({keyword:"oneOf",schemaProp:p},v);return e.mergeEvaluated($,er.Name),v}function _(){var p;const v={},$=y(i);let m=!0;for(let O=0;O<a.length;O++){let k=a[O];if(k!=null&&k.$ref&&!(0,sd.schemaHasRulesButRef)(k,o.self.RULES)){const x=k.$ref;if(k=Qo.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,x),k instanceof Qo.SchemaEnv&&(k=k.schema),k===void 0)throw new ad.default(o.opts.uriResolver,o.baseId,x)}const C=(p=k==null?void 0:k.properties)===null||p===void 0?void 0:p[s];if(typeof C!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);m=m&&($||y(k)),d(C,O)}if(!m)throw new Error(`discriminator: "${s}" must be required`);return v;function y({required:O}){return Array.isArray(O)&&O.includes(s)}function d(O,k){if(O.const)b(O.const,k);else if(O.enum)for(const C of O.enum)b(C,k);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function b(O,k){if(typeof O!="string"||O in v)throw new Error(`discriminator: "${s}" values must be unique strings`);v[O]=k}}}};Cn.default=cd;var ud={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MissingRefError=r.ValidationError=r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=r.Ajv=void 0;const t=Fi,n=Zt,i=Cn,o=ud,a=["/properties"],s="http://json-schema.org/draft-07/schema";class c extends t.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const v=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(v,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}r.Ajv=c,e.exports=r=c,e.exports.Ajv=c,Object.defineProperty(r,"__esModule",{value:!0}),r.default=c;var l=Ir();Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var f=U();Object.defineProperty(r,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var h=Ht();Object.defineProperty(r,"ValidationError",{enumerable:!0,get:function(){return h.default}});var _=Cr();Object.defineProperty(r,"MissingRefError",{enumerable:!0,get:function(){return _.default}})})(Ct,Ct.exports);var ea=Ct.exports,ld=Gs(ea);onmessage=Zc(async e=>{try{const r=Ks(e.data.content);if(e.data.schema){const n=new ld({strict:!1}).compile(e.data.schema);if(!n(r))return console.log(JSON.stringify(n.errors,null,2)),{error:new ea.ValidationError(n.errors)}}return{result:r}}catch(r){if(r instanceof Hs)return{error:r};throw r}})})();
